import{a as Vl,b as Of,c as un,d as lg,e as dg,f as Xl}from"./chunk-SWKCXBI6.js";import{a as _t,b as cg,c as Aw}from"./chunk-WX7HYPEU.js";import{$ as Gf,$a as et,Aa as Ot,Ba as Mt,C as Ct,D as ir,E as gs,Ea as Zt,F as Ze,Fa as Gl,Ga as Ul,Ha as jl,I as Xt,Ia as It,J as mn,Ja as Rt,K as Lf,Ka as Jt,L as sr,La as Dt,M as Ff,Ma as ei,N as Nf,Na as tg,Oa as At,P as lt,Pa as ti,Q as Hf,Qa as ii,R as dt,S as Kt,T as Vf,Ta as ig,U as Bl,Ua as Pt,V as Bf,Va as sg,W as zf,X as yt,Xa as ng,Y as Wf,Ya as ot,Z as zl,Za as nr,_ as $f,_a as Si,a as xf,aa as St,ab as og,b as Tf,ba as Uf,bb as ht,c as Mf,ca as jf,cb as Yl,d as ms,da as Yf,db as rg,e as If,ea as Xf,eb as Ph,f as fs,fa as wt,fb as or,g as Vs,ga as Ie,gb as gn,h as vi,ha as Kf,hb as _n,i as Ci,ia as qt,ib as bn,ja as fn,ka as Je,l as Rf,la as _s,m as tr,ma as Le,n as Df,na as qf,o as yi,pa as Wl,q as zi,qa as $l,r as Af,ra as Et,s as pn,sa as Qf,t as nt,ta as Zf,tb as ag,u as Se,ua as Jf,va as xt,vb as Kl,wa as eg,wb as hg,x as Pf,xa as ct,y as Wi,ya as Tt,z as kf,za as Qt}from"./chunk-33GDL65U.js";import{c as Sf,d as Jo,e as us,h as ke,j as Ll,k as wf,l as Fl,n as ps,o as Ah,p as Ef,r as er,s as Bi,t as Nl,u as Hl,v as es}from"./chunk-5TOTVD6K.js";import{k as ug,l as ma,m as ql,o as pg,q as Ql,s as mg,x as fg}from"./chunk-W5DRMXM3.js";import{$b as Ih,Aa as pf,Ac as Rh,B as yh,Ba as mf,C as Sh,D as af,Dc as Dh,Gc as Te,Ha as Ml,Hb as Th,Hc as Oe,I as lf,Ic as Cf,J as df,M as la,Nc as yf,Pa as ca,Qb as gf,Rb as _f,Sb as H,Tb as E,Ub as M,Vb as ve,X as wh,Zb as Oh,_ as Eh,_b as Mh,a as N,ac as Vi,b as me,ba as cf,ca as hf,cb as O,cc as te,d as of,e as rf,ec as je,g as aa,ga as ge,gb as Il,h as Dw,ha as Ni,i as ai,ib as U,ic as Dl,ja as Kn,jb as ff,jc as ua,ka as re,kb as Rl,kc as pa,la as da,lb as xh,ma as uf,oc as Zo,pb as ae,pc as bf,qa as _i,qb as Hi,ra as bi,rc as vf,sc as L,t as Hs,tb as cs,tc as fe,ua as Tl,ub as Qe,uc as gt,v as Xn,va as Ol,x as Ch,xb as hs,xc as Al,yb as ha,yc as Pl,zc as kl}from"./chunk-OSBU4Z27.js";var{entries:Eg,setPrototypeOf:gg,isFrozen:Pw,getPrototypeOf:kw,getOwnPropertyDescriptor:Lw}=Object,{freeze:di,seal:$i,create:xg}=Object,{apply:Bh,construct:zh}=typeof Reflect<"u"&&Reflect;di||(di=function(t){return t});$i||($i=function(t){return t});Bh||(Bh=function(t,i){for(var s=arguments.length,n=new Array(s>2?s-2:0),o=2;o<s;o++)n[o-2]=arguments[o];return t.apply(i,n)});zh||(zh=function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return new t(...s)});var Zl=ci(Array.prototype.forEach),Fw=ci(Array.prototype.lastIndexOf),_g=ci(Array.prototype.pop),fa=ci(Array.prototype.push),Nw=ci(Array.prototype.splice),ed=ci(String.prototype.toLowerCase),kh=ci(String.prototype.toString),Lh=ci(String.prototype.match),ga=ci(String.prototype.replace),Hw=ci(String.prototype.indexOf),Vw=ci(String.prototype.trim),ts=ci(Object.prototype.hasOwnProperty),li=ci(RegExp.prototype.test),_a=Bw(TypeError);function ci(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return Bh(e,t,s)}}function Bw(e){return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return zh(e,i)}}function le(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ed;gg&&gg(e,null);let s=t.length;for(;s--;){let n=t[s];if(typeof n=="string"){let o=i(n);o!==n&&(Pw(t)||(t[s]=o),n=o)}e[n]=!0}return e}function zw(e){for(let t=0;t<e.length;t++)ts(e,t)||(e[t]=null);return e}function Bs(e){let t=xg(null);for(let[i,s]of Eg(e))ts(e,i)&&(Array.isArray(s)?t[i]=zw(s):s&&typeof s=="object"&&s.constructor===Object?t[i]=Bs(s):t[i]=s);return t}function ba(e,t){for(;e!==null;){let s=Lw(e,t);if(s){if(s.get)return ci(s.get);if(typeof s.value=="function")return ci(s.value)}e=kw(e)}function i(){return null}return i}var bg=di(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fh=di(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Nh=di(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ww=di(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Hh=di(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$w=di(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vg=di(["#text"]),Cg=di(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Vh=di(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yg=di(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jl=di(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Gw=$i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Uw=$i(/<%[\w\W]*|[\w\W]*%>/gm),jw=$i(/\$\{[\w\W]*/gm),Yw=$i(/^data-[\-\w.\u00B7-\uFFFF]+$/),Xw=$i(/^aria-[\-\w]+$/),Tg=$i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kw=$i(/^(?:\w+script|data):/i),qw=$i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Og=$i(/^html$/i),Qw=$i(/^[a-z][.\w]*(-[.\w]+)+$/i),Sg=Object.freeze({__proto__:null,ARIA_ATTR:Xw,ATTR_WHITESPACE:qw,CUSTOM_ELEMENT:Qw,DATA_ATTR:Yw,DOCTYPE_NAME:Og,ERB_EXPR:Uw,IS_ALLOWED_URI:Tg,IS_SCRIPT_OR_DATA:Kw,MUSTACHE_EXPR:Gw,TMPLIT_EXPR:jw}),va={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Zw=function(){return typeof window>"u"?null:window},Jw=function(t,i){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null,n="data-tt-policy-suffix";i&&i.hasAttribute(n)&&(s=i.getAttribute(n));let o="dompurify"+(s?"#"+s:"");try{return t.createPolicy(o,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},wg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Mg(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zw(),t=G=>Mg(G);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==va.document||!e.Element)return t.isSupported=!1,t;let{document:i}=e,s=i,n=s.currentScript,{DocumentFragment:o,HTMLTemplateElement:r,Node:a,Element:l,NodeFilter:d,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:u,trustedTypes:p}=e,m=l.prototype,f=ba(m,"cloneNode"),g=ba(m,"remove"),_=ba(m,"nextSibling"),v=ba(m,"childNodes"),C=ba(m,"parentNode");if(typeof r=="function"){let G=i.createElement("template");G.content&&G.content.ownerDocument&&(i=G.content.ownerDocument)}let y,S="",{implementation:x,createNodeIterator:I,createDocumentFragment:w,getElementsByTagName:D}=i,{importNode:V}=s,F=wg();t.isSupported=typeof Eg=="function"&&typeof C=="function"&&x&&x.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:W,ERB_EXPR:ee,TMPLIT_EXPR:xe,DATA_ATTR:ie,ARIA_ATTR:Q,IS_SCRIPT_OR_DATA:he,ATTR_WHITESPACE:Ae,CUSTOM_ELEMENT:qe}=Sg,{IS_ALLOWED_URI:Fi}=Sg,Me=null,mi=le({},[...bg,...Fh,...Nh,...Hh,...vg]),Pe=null,Ut=le({},[...Cg,...Vh,...yg,...Jl]),ye=Object.seal(xg(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),jt=null,jo=null,sa=!0,na=!0,yl=!1,B=!0,ne=!1,st=!0,rt=!1,Lt=!1,Ft=!1,Di=!1,fi=!1,ft=!1,hn=!0,zm=!1,ww="user-content-",ph=!0,oa=!1,Yo={},Xo=null,Wm=le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),$m=null,Gm=le({},["audio","video","img","source","image","track"]),mh=null,Um=le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Sl="http://www.w3.org/1998/Math/MathML",wl="http://www.w3.org/2000/svg",Ls="http://www.w3.org/1999/xhtml",Ko=Ls,fh=!1,gh=null,Ew=le({},[Sl,wl,Ls],kh),El=le({},["mi","mo","mn","ms","mtext"]),xl=le({},["annotation-xml"]),xw=le({},["title","style","font","a","script"]),ra=null,Tw=["application/xhtml+xml","text/html"],Ow="text/html",vt=null,qo=null,Mw=i.createElement("form"),jm=function(b){return b instanceof RegExp||b instanceof Function},_h=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qo&&qo===b)){if((!b||typeof b!="object")&&(b={}),b=Bs(b),ra=Tw.indexOf(b.PARSER_MEDIA_TYPE)===-1?Ow:b.PARSER_MEDIA_TYPE,vt=ra==="application/xhtml+xml"?kh:ed,Me=ts(b,"ALLOWED_TAGS")?le({},b.ALLOWED_TAGS,vt):mi,Pe=ts(b,"ALLOWED_ATTR")?le({},b.ALLOWED_ATTR,vt):Ut,gh=ts(b,"ALLOWED_NAMESPACES")?le({},b.ALLOWED_NAMESPACES,kh):Ew,mh=ts(b,"ADD_URI_SAFE_ATTR")?le(Bs(Um),b.ADD_URI_SAFE_ATTR,vt):Um,$m=ts(b,"ADD_DATA_URI_TAGS")?le(Bs(Gm),b.ADD_DATA_URI_TAGS,vt):Gm,Xo=ts(b,"FORBID_CONTENTS")?le({},b.FORBID_CONTENTS,vt):Wm,jt=ts(b,"FORBID_TAGS")?le({},b.FORBID_TAGS,vt):Bs({}),jo=ts(b,"FORBID_ATTR")?le({},b.FORBID_ATTR,vt):Bs({}),Yo=ts(b,"USE_PROFILES")?b.USE_PROFILES:!1,sa=b.ALLOW_ARIA_ATTR!==!1,na=b.ALLOW_DATA_ATTR!==!1,yl=b.ALLOW_UNKNOWN_PROTOCOLS||!1,B=b.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=b.SAFE_FOR_TEMPLATES||!1,st=b.SAFE_FOR_XML!==!1,rt=b.WHOLE_DOCUMENT||!1,Di=b.RETURN_DOM||!1,fi=b.RETURN_DOM_FRAGMENT||!1,ft=b.RETURN_TRUSTED_TYPE||!1,Ft=b.FORCE_BODY||!1,hn=b.SANITIZE_DOM!==!1,zm=b.SANITIZE_NAMED_PROPS||!1,ph=b.KEEP_CONTENT!==!1,oa=b.IN_PLACE||!1,Fi=b.ALLOWED_URI_REGEXP||Tg,Ko=b.NAMESPACE||Ls,El=b.MATHML_TEXT_INTEGRATION_POINTS||El,xl=b.HTML_INTEGRATION_POINTS||xl,ye=b.CUSTOM_ELEMENT_HANDLING||{},b.CUSTOM_ELEMENT_HANDLING&&jm(b.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ye.tagNameCheck=b.CUSTOM_ELEMENT_HANDLING.tagNameCheck),b.CUSTOM_ELEMENT_HANDLING&&jm(b.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ye.attributeNameCheck=b.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),b.CUSTOM_ELEMENT_HANDLING&&typeof b.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ye.allowCustomizedBuiltInElements=b.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(na=!1),fi&&(Di=!0),Yo&&(Me=le({},vg),Pe=[],Yo.html===!0&&(le(Me,bg),le(Pe,Cg)),Yo.svg===!0&&(le(Me,Fh),le(Pe,Vh),le(Pe,Jl)),Yo.svgFilters===!0&&(le(Me,Nh),le(Pe,Vh),le(Pe,Jl)),Yo.mathMl===!0&&(le(Me,Hh),le(Pe,yg),le(Pe,Jl))),b.ADD_TAGS&&(Me===mi&&(Me=Bs(Me)),le(Me,b.ADD_TAGS,vt)),b.ADD_ATTR&&(Pe===Ut&&(Pe=Bs(Pe)),le(Pe,b.ADD_ATTR,vt)),b.ADD_URI_SAFE_ATTR&&le(mh,b.ADD_URI_SAFE_ATTR,vt),b.FORBID_CONTENTS&&(Xo===Wm&&(Xo=Bs(Xo)),le(Xo,b.FORBID_CONTENTS,vt)),ph&&(Me["#text"]=!0),rt&&le(Me,["html","head","body"]),Me.table&&(le(Me,["tbody"]),delete jt.tbody),b.TRUSTED_TYPES_POLICY){if(typeof b.TRUSTED_TYPES_POLICY.createHTML!="function")throw _a('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof b.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _a('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=b.TRUSTED_TYPES_POLICY,S=y.createHTML("")}else y===void 0&&(y=Jw(p,n)),y!==null&&typeof S=="string"&&(S=y.createHTML(""));di&&di(b),qo=b}},Ym=le({},[...Fh,...Nh,...Ww]),Xm=le({},[...Hh,...$w]),Iw=function(b){let P=C(b);(!P||!P.tagName)&&(P={namespaceURI:Ko,tagName:"template"});let z=ed(b.tagName),$e=ed(P.tagName);return gh[b.namespaceURI]?b.namespaceURI===wl?P.namespaceURI===Ls?z==="svg":P.namespaceURI===Sl?z==="svg"&&($e==="annotation-xml"||El[$e]):!!Ym[z]:b.namespaceURI===Sl?P.namespaceURI===Ls?z==="math":P.namespaceURI===wl?z==="math"&&xl[$e]:!!Xm[z]:b.namespaceURI===Ls?P.namespaceURI===wl&&!xl[$e]||P.namespaceURI===Sl&&!El[$e]?!1:!Xm[z]&&(xw[z]||!Ym[z]):!!(ra==="application/xhtml+xml"&&gh[b.namespaceURI]):!1},ds=function(b){fa(t.removed,{element:b});try{C(b).removeChild(b)}catch{g(b)}},Yn=function(b,P){try{fa(t.removed,{attribute:P.getAttributeNode(b),from:P})}catch{fa(t.removed,{attribute:null,from:P})}if(P.removeAttribute(b),b==="is")if(Di||fi)try{ds(P)}catch{}else try{P.setAttribute(b,"")}catch{}},Km=function(b){let P=null,z=null;if(Ft)b="<remove></remove>"+b;else{let at=Lh(b,/^[\r\n\t ]+/);z=at&&at[0]}ra==="application/xhtml+xml"&&Ko===Ls&&(b='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+b+"</body></html>");let $e=y?y.createHTML(b):b;if(Ko===Ls)try{P=new u().parseFromString($e,ra)}catch{}if(!P||!P.documentElement){P=x.createDocument(Ko,"template",null);try{P.documentElement.innerHTML=fh?S:$e}catch{}}let Yt=P.body||P.documentElement;return b&&z&&Yt.insertBefore(i.createTextNode(z),Yt.childNodes[0]||null),Ko===Ls?D.call(P,rt?"html":"body")[0]:rt?P.documentElement:Yt},qm=function(b){return I.call(b.ownerDocument||b,b,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},bh=function(b){return b instanceof h&&(typeof b.nodeName!="string"||typeof b.textContent!="string"||typeof b.removeChild!="function"||!(b.attributes instanceof c)||typeof b.removeAttribute!="function"||typeof b.setAttribute!="function"||typeof b.namespaceURI!="string"||typeof b.insertBefore!="function"||typeof b.hasChildNodes!="function")},Qm=function(b){return typeof a=="function"&&b instanceof a};function Fs(G,b,P){Zl(G,z=>{z.call(t,b,P,qo)})}let Zm=function(b){let P=null;if(Fs(F.beforeSanitizeElements,b,null),bh(b))return ds(b),!0;let z=vt(b.nodeName);if(Fs(F.uponSanitizeElement,b,{tagName:z,allowedTags:Me}),st&&b.hasChildNodes()&&!Qm(b.firstElementChild)&&li(/<[/\w!]/g,b.innerHTML)&&li(/<[/\w!]/g,b.textContent)||b.nodeType===va.progressingInstruction||st&&b.nodeType===va.comment&&li(/<[/\w]/g,b.data))return ds(b),!0;if(!Me[z]||jt[z]){if(!jt[z]&&ef(z)&&(ye.tagNameCheck instanceof RegExp&&li(ye.tagNameCheck,z)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(z)))return!1;if(ph&&!Xo[z]){let $e=C(b)||b.parentNode,Yt=v(b)||b.childNodes;if(Yt&&$e){let at=Yt.length;for(let gi=at-1;gi>=0;--gi){let Ns=f(Yt[gi],!0);Ns.__removalCount=(b.__removalCount||0)+1,$e.insertBefore(Ns,_(b))}}}return ds(b),!0}return b instanceof l&&!Iw(b)||(z==="noscript"||z==="noembed"||z==="noframes")&&li(/<\/no(script|embed|frames)/i,b.innerHTML)?(ds(b),!0):(ne&&b.nodeType===va.text&&(P=b.textContent,Zl([W,ee,xe],$e=>{P=ga(P,$e," ")}),b.textContent!==P&&(fa(t.removed,{element:b.cloneNode()}),b.textContent=P)),Fs(F.afterSanitizeElements,b,null),!1)},Jm=function(b,P,z){if(hn&&(P==="id"||P==="name")&&(z in i||z in Mw))return!1;if(!(na&&!jo[P]&&li(ie,P))){if(!(sa&&li(Q,P))){if(!Pe[P]||jo[P]){if(!(ef(b)&&(ye.tagNameCheck instanceof RegExp&&li(ye.tagNameCheck,b)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(b))&&(ye.attributeNameCheck instanceof RegExp&&li(ye.attributeNameCheck,P)||ye.attributeNameCheck instanceof Function&&ye.attributeNameCheck(P,b))||P==="is"&&ye.allowCustomizedBuiltInElements&&(ye.tagNameCheck instanceof RegExp&&li(ye.tagNameCheck,z)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(z))))return!1}else if(!mh[P]){if(!li(Fi,ga(z,Ae,""))){if(!((P==="src"||P==="xlink:href"||P==="href")&&b!=="script"&&Hw(z,"data:")===0&&$m[b])){if(!(yl&&!li(he,ga(z,Ae,"")))){if(z)return!1}}}}}}return!0},ef=function(b){return b!=="annotation-xml"&&Lh(b,qe)},tf=function(b){Fs(F.beforeSanitizeAttributes,b,null);let{attributes:P}=b;if(!P||bh(b))return;let z={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Pe,forceKeepAttr:void 0},$e=P.length;for(;$e--;){let Yt=P[$e],{name:at,namespaceURI:gi,value:Ns}=Yt,Qo=vt(at),vh=Ns,Nt=at==="value"?vh:Vw(vh);if(z.attrName=Qo,z.attrValue=Nt,z.keepAttr=!0,z.forceKeepAttr=void 0,Fs(F.uponSanitizeAttribute,b,z),Nt=z.attrValue,zm&&(Qo==="id"||Qo==="name")&&(Yn(at,b),Nt=ww+Nt),st&&li(/((--!?|])>)|<\/(style|title|textarea)/i,Nt)){Yn(at,b);continue}if(Qo==="attributename"&&Lh(Nt,"href")){Yn(at,b);continue}if(z.forceKeepAttr)continue;if(!z.keepAttr){Yn(at,b);continue}if(!B&&li(/\/>/i,Nt)){Yn(at,b);continue}ne&&Zl([W,ee,xe],nf=>{Nt=ga(Nt,nf," ")});let sf=vt(b.nodeName);if(!Jm(sf,Qo,Nt)){Yn(at,b);continue}if(y&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!gi)switch(p.getAttributeType(sf,Qo)){case"TrustedHTML":{Nt=y.createHTML(Nt);break}case"TrustedScriptURL":{Nt=y.createScriptURL(Nt);break}}if(Nt!==vh)try{gi?b.setAttributeNS(gi,at,Nt):b.setAttribute(at,Nt),bh(b)?ds(b):_g(t.removed)}catch{Yn(at,b)}}Fs(F.afterSanitizeAttributes,b,null)},Rw=function G(b){let P=null,z=qm(b);for(Fs(F.beforeSanitizeShadowDOM,b,null);P=z.nextNode();)Fs(F.uponSanitizeShadowNode,P,null),Zm(P),tf(P),P.content instanceof o&&G(P.content);Fs(F.afterSanitizeShadowDOM,b,null)};return t.sanitize=function(G){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=null,z=null,$e=null,Yt=null;if(fh=!G,fh&&(G="<!-->"),typeof G!="string"&&!Qm(G))if(typeof G.toString=="function"){if(G=G.toString(),typeof G!="string")throw _a("dirty is not a string, aborting")}else throw _a("toString is not a function");if(!t.isSupported)return G;if(Lt||_h(b),t.removed=[],typeof G=="string"&&(oa=!1),oa){if(G.nodeName){let Ns=vt(G.nodeName);if(!Me[Ns]||jt[Ns])throw _a("root node is forbidden and cannot be sanitized in-place")}}else if(G instanceof a)P=Km("<!---->"),z=P.ownerDocument.importNode(G,!0),z.nodeType===va.element&&z.nodeName==="BODY"||z.nodeName==="HTML"?P=z:P.appendChild(z);else{if(!Di&&!ne&&!rt&&G.indexOf("<")===-1)return y&&ft?y.createHTML(G):G;if(P=Km(G),!P)return Di?null:ft?S:""}P&&Ft&&ds(P.firstChild);let at=qm(oa?G:P);for(;$e=at.nextNode();)Zm($e),tf($e),$e.content instanceof o&&Rw($e.content);if(oa)return G;if(Di){if(fi)for(Yt=w.call(P.ownerDocument);P.firstChild;)Yt.appendChild(P.firstChild);else Yt=P;return(Pe.shadowroot||Pe.shadowrootmode)&&(Yt=V.call(s,Yt,!0)),Yt}let gi=rt?P.outerHTML:P.innerHTML;return rt&&Me["!doctype"]&&P.ownerDocument&&P.ownerDocument.doctype&&P.ownerDocument.doctype.name&&li(Og,P.ownerDocument.doctype.name)&&(gi="<!DOCTYPE "+P.ownerDocument.doctype.name+`>
`+gi),ne&&Zl([W,ee,xe],Ns=>{gi=ga(gi,Ns," ")}),y&&ft?y.createHTML(gi):gi},t.setConfig=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_h(G),Lt=!0},t.clearConfig=function(){qo=null,Lt=!1},t.isValidAttribute=function(G,b,P){qo||_h({});let z=vt(G),$e=vt(b);return Jm(z,$e,P)},t.addHook=function(G,b){typeof b=="function"&&fa(F[G],b)},t.removeHook=function(G,b){if(b!==void 0){let P=Fw(F[G],b);return P===-1?void 0:Nw(F[G],P,1)[0]}return _g(F[G])},t.removeHooks=function(G){F[G]=[]},t.removeAllHooks=function(){F=wg()},t}var Ig=Mg();var Rg=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ae({type:t,selectors:[["app-access-denied"]],standalone:!1,decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"center"]],template:function(n,o){n&1&&(E(0,"div",0)(1,"div",1)(2,"h1",2),L(3,"Access denied"),M()()())},styles:[".center[_ngcontent-%COMP%]{text-align:center}"]});let e=t;return e})();var Dg=(()=>{let t=class t extends or{constructor(s){super(s),this.setBaseUrl("groupresource")}getAllUserPermissionsByUserName(){return this.http.get(`${this.baseUrl}/allpermissionsbyusernameforsidenav`)}};t.\u0275fac=function(n){return new(n||t)(re(ps))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ag=()=>["active"];function tE(e,t){if(e&1&&(E(0,"mat-list-item",11)(1,"span",12),L(2),Te(3,"translate"),M()()),e&2){let i=t.$implicit;H("routerLink",i.link)("routerLinkActive",Dh(5,Ag)),O(2),fe(Oe(3,3,i.resourceTitle))}}function iE(e,t){if(e&1&&(Oh(0),E(1,"mat-expansion-panel",8)(2,"mat-expansion-panel-header",9)(3,"mat-panel-title")(4,"mat-icon"),L(5,"book"),M(),L(6),Te(7,"translate"),M()(),E(8,"mat-nav-list"),Qe(9,tE,4,6,"mat-list-item",10),M()(),Mh()),e&2){let i=je().$implicit;O(6),gt(" ",Oe(7,2,i.resourceTitle)," "),O(3),H("ngForOf",i.child)}}function sE(e,t){if(e&1&&(E(0,"mat-list-item",13)(1,"span",12),L(2),Te(3,"translate"),M()()),e&2){let i=je().$implicit;H("routerLink",i.link)("routerLinkActive",Dh(5,Ag)),O(2),fe(Oe(3,3,i.resourceTitle))}}function nE(e,t){if(e&1&&(Oh(0),Qe(1,iE,10,4,"ng-container",7)(2,sE,4,6,"ng-template",null,0,Cf),Mh()),e&2){let i=t.$implicit,s=Zo(3);O(),H("ngIf",i.child&&i.child.length>0)("ngIfElse",s)}}function oE(e,t){if(e&1&&(E(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header",5)(2,"mat-panel-title"),L(3),Te(4,"translate"),M()(),E(5,"mat-accordion",2),Qe(6,nE,4,2,"ng-container",6),M()()),e&2){let i=t.$implicit;O(3),gt(" ",Oe(4,2,i.resourceTitle)," "),O(3),H("ngForOf",i.child)}}function rE(e,t){if(e&1&&(E(0,"div")(1,"mat-nav-list")(2,"mat-accordion",2),Qe(3,oE,7,4,"mat-expansion-panel",3),M()()()),e&2){let i=je();O(3),H("ngForOf",i.sideNavMenu)}}var Pg=(()=>{let t=class t{constructor(s){this.sideNavMenuService=s,this.sideNavMenu=[]}ngOnInit(){this.sideNavMenuService.getAllUserPermissionsByUserName().subscribe({next:s=>{s.forEach(n=>{n.child&&(n.child=n.child.filter(o=>o?.permissions.includes("R")),n.child.child&&(n.child.child=n.child.child.filter(o=>o?.permissions.includes("R"))))}),this.sideNavMenu=s,console.log("Side navigation menu fetched successfully:",this.sideNavMenu)},error:s=>{console.error("Error fetching side navigation menu:",s)}})}};t.\u0275fac=function(n){return new(n||t)(U(Dg))},t.\u0275cmp=ae({type:t,selectors:[["app-menu-item"]],decls:1,vars:1,consts:[["simpleNavList",""],[4,"ngIf"],["displayMode","flat"],["class","main-panel",4,"ngFor","ngForOf"],[1,"main-panel"],[1,"main-header"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"sub-panel"],[1,"sub-header",2,"margin-right","1px"],["class","sub-content",3,"routerLink","routerLinkActive",4,"ngFor","ngForOf"],[1,"sub-content",3,"routerLink","routerLinkActive"],["matLine",""],[1,"sub-header",2,"padding-right","15px",3,"routerLink","routerLinkActive"]],template:function(n,o){n&1&&Qe(0,rE,4,1,"div",1),n&2&&H("ngIf",o.sideNavMenu&&o.sideNavMenu.length>0)},dependencies:[ke,Jo,us,Se,nt,et,ht,Ie,Le,ct,yt,Et,$l,Wl,Ct,Ze,Xt,lt,dt,Kt,St,wt,Xf,Uf,jf,Yf,qt,Kf,Je,fn,xt,Qt,Ot,Mt,Zt,It,ii,Rt,Jt,Dt,ei,At,Tt,ti,Pt,es,Nl,Hl,Si],styles:[".mdc-list-item[_ngcontent-%COMP%]{padding-left:15px!important;padding-right:30px!important;height:35px!important;border-bottom:.3px dashed #ffffff!important}mat-list-item.active[_ngcontent-%COMP%]{border-right:8px solid #fdfd65!important}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:var(--mat-expansion-container-elevation-shadow)}.main-panel[_ngcontent-%COMP%]{background-color:#e7e7e7}.main-panel.mat-expanded[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#8d001f}.main-panel[_ngcontent-%COMP%]   .mat-expansion-panel-content[_ngcontent-%COMP%]{background-color:#f5f5f5}.sub-panel[_ngcontent-%COMP%]{background-color:#fff}.sub-header[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--mat-sys-primary) 20%,transparent);color:#333;font-weight:500}.sub-header[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--mat-sys-primary) 30%,transparent)!important}.sub-panel.mat-expanded[_ngcontent-%COMP%]   .sub-header[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--mat-sys-primary) 30%,transparent)}.sub-content[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--mat-sys-primary) 50%,transparent)}"]});let e=t;return e})();function aE(e,t){if(e&1&&(E(0,"div",14),L(1),M()),e&2){let i=je();O(),gt(" ",i.successMessage," ")}}var kg=(()=>{let t=class t{constructor(s,n,o,r,a,l){this.userService=s,this.messageService=n,this.translate=o,this.fb=r,this.dialogRef=a,this.data=l,this.successMessage=null,this.showOldPassword=!1,this.showNewPassword=!1,this.showConfirmNewPassword=!1,this.form=this.fb.group({oldPassword:["",Vs.required],newPassword:["",Vs.required],confirmNewPassword:["",Vs.required]},{validators:this.passwordsMatchValidator})}passwordsMatchValidator(s){let n=s.get("newPassword")?.value,o=s.get("confirmNewPassword")?.value;return n===o?null:{passwordMismatch:!0}}submit(){this.form.valid&&this.userService.changePassword(this.form.value).subscribe(s=>{this.successMessage=this.translate.instant("success.passwordChangedSuccessfully"),this.messageService.showMessage(this.translate.instant("success.passwordChangedSuccessfully"),3e3),setTimeout(()=>{this.dialogRef.close()},1500)},s=>{this.messageService.showErrorMessage(this.translate.instant("error.passwordChangeFailed")),console.error("Error changing password:",s)})}onCancel(){this.dialogRef.close()}};t.\u0275fac=function(n){return new(n||t)(U(lg),U(Xl),U(ot),U(pn),U(Wf),U(zl))},t.\u0275cmp=ae({type:t,selectors:[["app-change-password-dialog"]],decls:44,vars:27,consts:[["dir","rtl",1,"change-password-dialog"],["mat-dialog-title","",1,"title"],[3,"ngSubmit","formGroup"],["class","success-message",4,"ngIf"],[1,"form-item"],["for","firstName",1,"form-label"],["appearance","outline",1,"form-field"],["matInput","","formControlName","oldPassword","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button","tabindex","-1",3,"click"],["matInput","","formControlName","newPassword","required","",3,"type"],["matInput","","formControlName","confirmNewPassword","required","",3,"type"],["align","end"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"click","disabled"],[1,"success-message"]],template:function(n,o){n&1&&(E(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"h2",1),L(5),Te(6,"translate"),M()()(),E(7,"mat-card-content")(8,"form",2),te("ngSubmit",function(){return o.submit()}),Qe(9,aE,2,1,"div",3),E(10,"div",4)(11,"label",5),L(12),Te(13,"translate"),M(),E(14,"mat-form-field",6),ve(15,"input",7),E(16,"button",8),te("click",function(){return o.showOldPassword=!o.showOldPassword}),E(17,"mat-icon"),L(18),M()()()(),E(19,"div",4)(20,"label",5),L(21),Te(22,"translate"),M(),E(23,"mat-form-field",6),ve(24,"input",9),E(25,"button",8),te("click",function(){return o.showNewPassword=!o.showNewPassword}),E(26,"mat-icon"),L(27),M()()()(),E(28,"div",4)(29,"label",5),L(30),Te(31,"translate"),M(),E(32,"mat-form-field",6),ve(33,"input",10),E(34,"button",8),te("click",function(){return o.showConfirmNewPassword=!o.showConfirmNewPassword}),E(35,"mat-icon"),L(36),M()()()()()(),E(37,"mat-card-actions",11)(38,"button",12),te("click",function(){return o.onCancel()}),L(39),Te(40,"translate"),M(),E(41,"button",13),te("click",function(){return o.submit()}),L(42),Te(43,"translate"),M()()()()),n&2&&(O(5),fe(Oe(6,15,"changePassword.title")),O(3),H("formGroup",o.form),O(),H("ngIf",o.successMessage),O(3),fe(Oe(13,17,"changePassword.oldPassword")),O(3),H("type",o.showOldPassword?"text":"password"),O(3),fe(o.showOldPassword?"visibility_off":"visibility"),O(3),fe(Oe(22,19,"changePassword.newPassword")),O(3),H("type",o.showNewPassword?"text":"password"),O(3),fe(o.showNewPassword?"visibility_off":"visibility"),O(3),fe(Oe(31,21,"changePassword.confirmNewPassword")),O(3),H("type",o.showConfirmNewPassword?"text":"password"),O(3),fe(o.showConfirmNewPassword?"visibility_off":"visibility"),O(3),fe(Oe(40,23,"changePassword.cancel")),O(2),H("disabled",o.form.invalid),O(),fe(Oe(43,25,"changePassword.change")))},dependencies:[ke,us,Ie,Wi,Pf,ms,Le,_s,Ze,gs,ir,St,Gf,Se,tr,fs,vi,Ci,Af,yi,zi,et,lt,mn,Ff,sr,Nf,Lf,Je,fn,Si],styles:[".change-password-dialog[_ngcontent-%COMP%]{direction:rtl;text-align:right;max-width:400px;margin:0 auto}.full-width[_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();var Lg=(()=>{let t=class t{constructor(){this.themes=[{id:"deep-blue-dark",primary:"#1976D2",displayName:"Deep Blue Dark"},{id:"green",primary:"#00796B",displayName:"Green"},{id:"orange",primary:"#E65100",displayName:"Orange"},{id:"purple",primary:"#6200EE",displayName:"Purple"},{id:"red",primary:"#C2185B",displayName:"Red"}],this.currentTheme=pf(this.themes[0]),this.updateThemeClass=yf(()=>{let s=this.currentTheme();document.body.classList.remove(...this.themes.map(n=>`${n.id}-theme`)),document.body.classList.add(`${s.id}-theme`)})}getThemes(){return this.themes}setTheme(s){let n=this.themes.find(o=>o.id===s);n&&this.currentTheme.set(n)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rr=(()=>{let t=class t extends or{constructor(s){super(s),this.setBaseUrl(Kl.SelectUserCompany)}getAllByCurrentUser(){return console.log(this.baseUrl),this.http.get(`${this.baseUrl}/get-all-by-current-user`)}};t.\u0275fac=function(n){return new(n||t)(re(ps))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var $s=(()=>{let t=class t{constructor(s){this.keycloak=s}getLoggedUser(){try{return this.keycloak.getKeycloakInstance().idTokenParsed}catch(s){console.error(s);return}}getUserName(){try{return this.keycloak.getKeycloakInstance().idTokenParsed?.preferred_username}catch(s){console.error(s);return}}isLoggedIn(){return console.log("isLoggedIn in..."),this.keycloak.isLoggedIn()}loadUserProfile(){return this.keycloak.loadUserProfile()}login(){console.log("Logging in..."),this.keycloak.login()}logout(){_t.removeCompanyId(),_t.removeCompanyName(),this.keycloak.logout(window.location.origin).then()}getToken(){return this.keycloak.getToken()}addTokenToHeader(){this.keycloak.addTokenToHeader()}isTenantAdmin(){return this.keycloak.getUserRoles().includes("TENANT_ADMIN")}};t.\u0275fac=function(n){return new(n||t)(re(Vl))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var lE=(e,t)=>t.id;function dE(e,t){if(e&1){let i=Vi();E(0,"button",15),te("click",function(){_i(i);let n=je();return bi(n.menuToggled.emit(!0))}),E(1,"mat-icon"),L(2,"menu"),M()()}}function cE(e,t){if(e&1){let i=Vi();E(0,"button",14),te("click",function(){let n=_i(i).$implicit,o=je();return bi(o.themeService.setTheme(n.id))}),E(1,"div",16),ve(2,"div",17),E(3,"span"),L(4),M()()()}if(e&2){let i=t.$implicit;O(2),bf("background-color",i.primary),O(2),fe(i.displayName)}}function hE(e,t){e&1&&ve(0,"mat-divider",12)}function uE(e,t){e&1&&(E(0,"mat-icon"),L(1,"check"),M())}function pE(e,t){if(e&1){let i=Vi();E(0,"button",14),te("click",function(){let n=_i(i).$implicit,o=je(2);return bi(o.onMisYearChange(n))}),Qe(1,uE,2,0,"mat-icon",9),E(2,"span"),L(3),M()()}if(e&2){let i=t.$implicit,s=je(2);O(),H("ngIf",s.misYear===i),O(2),fe(i)}}function mE(e,t){if(e&1&&(E(0,"div")(1,"button",18)(2,"mat-icon"),L(3,"calendar_today"),M(),L(4),E(5,"mat-icon"),L(6,"arrow_drop_down"),M()(),E(7,"mat-menu",null,2),Qe(9,pE,4,2,"button",19),M()()),e&2){let i=Zo(8),s=je();O(),H("matMenuTriggerFor",i),O(3),gt(" ",s.misYear," "),O(5),H("ngForOf",s.misYears)}}function fE(e,t){e&1&&ve(0,"mat-divider",12)}function gE(e,t){e&1&&(E(0,"mat-icon"),L(1,"check"),M())}function _E(e,t){if(e&1){let i=Vi();E(0,"button",14),te("click",function(){let n=_i(i).$implicit,o=je(2);return bi(o.onCompanyChange(n))}),Qe(1,gE,2,0,"mat-icon",9),E(2,"span"),L(3),M()()}if(e&2){let i=t.$implicit,s=je(2);O(),H("ngIf",s.getSelectedCompanyName()===i.name),O(2),fe(i.name)}}function bE(e,t){if(e&1&&(E(0,"div")(1,"button",20)(2,"mat-icon"),L(3,"business"),M(),L(4),E(5,"mat-icon"),L(6,"arrow_drop_down"),M()(),E(7,"mat-menu",null,3),Qe(9,_E,4,2,"button",19),M()()),e&2){let i=Zo(8),s=je();O(),H("matMenuTriggerFor",i),O(3),gt(" ",s.getSelectedCompanyName()," "),O(5),H("ngForOf",s.companies)}}function vE(e,t){e&1&&ve(0,"mat-divider",12)}function CE(e,t){if(e&1){let i=Vi();E(0,"button",11),te("click",function(){_i(i);let n=je();return bi(n.toggleTheme())}),E(1,"mat-icon"),L(2,"notifications"),M()()}}function yE(e,t){e&1&&ve(0,"mat-divider",12)}var ar=(()=>{let t=class t{constructor(s,n,o,r,a,l){this.selectUserCompanyService=s,this.misYearService=n,this.authService=o,this.overlayContainer=r,this.dialog=a,this.router=l,this.menuToggled=new hs,this.toggleDirection=new hs,this.showUserMenu=!0,this.showNotifications=!0,this.showCompanyMenu=!0,this.showDarkThemeToggle=!0,this.showToggleMenu=!0,this.showMisYear=!0,this.themeService=da(Lg),this.user="",this.isDarkTheme=!1,this.misYear=_t.getMisYear(),this.misYears=[],this.direction="rtl",this.companies=[],this.selectedCompanyId=null,this.user=this.authService.getUserName()}ngAfterViewInit(){this.showCompanyMenu&&this.selectUserCompanyService.getAllByCurrentUser().subscribe(s=>{this.companies=s.map(n=>({id:n.companyRegistry.companyId,name:n.companyRegistry.companyName})),this.selectedCompanyId=_t.getCompanyId()}),this.showMisYear&&this.misYearService.getAll().subscribe(s=>{this.misYears=s.map(n=>typeof n=="object"&&n.year?n.year:Number(n))}),setTimeout(()=>this.manageLoadThemeRestore())}onMisYearChange(s){this.misYear=s,_t.setMisYear(s),window.location.reload()}openChangePasswordDialog(){this.dialog.open(kg,{width:"400px",data:{userId:this.authService.getUserName()?this.authService.getUserName():this.user}}).afterClosed().subscribe(n=>{})}manageLoadThemeRestore(){let s=localStorage.getItem("theme");console.log("Saved theme from localStorage:",s),s==="light"?(this.isDarkTheme=!1,this.changeTheme(!1)):(this.isDarkTheme=!0,this.changeTheme(!0))}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.changeTheme(this.isDarkTheme)}changeTheme(s){document.body.classList.forEach(n=>{n.endsWith("-theme")&&document.body.classList.remove(n)}),s?(document.body.classList.add("dark-theme"),localStorage.setItem("theme","dark")):(document.body.classList.add("light-theme"),localStorage.setItem("theme","light"))}logout(){this.authService.logout(),console.log("Logged out")}getSelectedCompanyName(){return _t.getCompanyName()}onCompanyChange(s){_t.setCompanyName(s.name),_t.setCompanyId(s.id),window.location.href="/"}};t.\u0275fac=function(n){return new(n||t)(U(rr),U(cg),U($s),U(If),U($f),U(Bi))},t.\u0275cmp=ae({type:t,selectors:[["app-header"]],inputs:{showUserMenu:"showUserMenu",showNotifications:"showNotifications",showCompanyMenu:"showCompanyMenu",showDarkThemeToggle:"showDarkThemeToggle",showToggleMenu:"showToggleMenu",showMisYear:"showMisYear"},outputs:{menuToggled:"menuToggled",toggleDirection:"toggleDirection"},decls:32,vars:18,consts:[["themeMenu","matMenu"],["menu","matMenu"],["misYearMenu","matMenu"],["companyMenu","matMenu"],[3,"dir"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-menu-item",""],[1,"spacer"],["vertical","","class","thick-divider","style","height:15px; ",4,"ngIf"],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["vertical","",1,"thick-divider",2,"height","15px"],["mat-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-icon-button","",3,"click"],[1,"theme-menu-item"],[1,"color-preview"],["mat-button","",2,"min-width","140px","margin","0 12px",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-button","",2,"min-width","180px","margin","0 12px",3,"matMenuTriggerFor"]],template:function(n,o){if(n&1){let r=Vi();E(0,"mat-toolbar",4),Qe(1,dE,3,0,"button",5),E(2,"mat-menu",null,0),gf(4,cE,5,3,"button",6,lE),M(),ve(6,"span",7),Qe(7,hE,1,0,"mat-divider",8)(8,mE,10,3,"div",9)(9,fE,1,0,"mat-divider",8)(10,bE,10,3,"div",9)(11,vE,1,0,"mat-divider",8)(12,CE,3,0,"button",10)(13,yE,1,0,"mat-divider",8),E(14,"button",11),te("click",function(){return _i(r),bi(o.toggleTheme())}),E(15,"mat-icon"),L(16),M()(),ve(17,"mat-divider",12),E(18,"button",13)(19,"mat-icon"),L(20,"person_pin"),M(),L(21),M(),E(22,"mat-menu",null,1)(24,"button",14),te("click",function(){return _i(r),bi(o.openChangePasswordDialog())}),E(25,"span"),L(26),Te(27,"translate"),M()(),E(28,"button",14),te("click",function(){return _i(r),bi(o.logout())}),E(29,"span"),L(30),Te(31,"translate"),M()()()()}if(n&2){let r=Zo(23);H("dir",o.direction),O(),H("ngIf",o.showToggleMenu),O(3),_f(o.themeService.getThemes()),O(3),H("ngIf",o.showMisYear),O(),H("ngIf",o.showMisYear),O(),H("ngIf",o.showMisYear),O(),H("ngIf",o.showCompanyMenu),O(),H("ngIf",o.showCompanyMenu),O(),H("ngIf",o.showNotifications),O(),H("ngIf",o.showNotifications),O(3),fe(o.isDarkTheme?"dark_mode":"light_mode"),O(2),H("matMenuTriggerFor",r),O(3),gt(" ",o.user," "),O(5),fe(Oe(27,14,"mainMenu.ChangePassword")),O(4),fe(Oe(31,16,"mainMenu.Logout"))}},dependencies:[ke,Jo,us,Se,nt,et,ht,Ie,ms,Le,ct,yt,Et,qf,Ct,Ze,gs,ir,Xt,lt,dt,Kt,St,wt,qt,Je,fn,xt,Zf,Qf,Jf,Qt,Ot,Mt,Zt,It,ii,Rt,Jt,Dt,ei,At,tg,Tt,ti,Pt,Si],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;--mat-toolbar-container-background-color: var(--mat-sys-primary);--mat-toolbar-container-text-color: var(--mat-sys-on-primary);--mat-icon-button-icon-color: var(--mat-sys-on-primary)}mat-toolbar[_ngcontent-%COMP%]{height:40px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.title[_ngcontent-%COMP%]{cursor:pointer}.welcome-text[_ngcontent-%COMP%]{font-size:smaller}.theme-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.color-preview[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%}"]});let e=t;return e})();var Fg=(()=>{let t=class t{constructor(){this.opened=!0,this.direction="rtl"}toggle(){this.opened=!this.opened}changeDirection(){this.direction=this.direction==="rtl"?"ltr":"rtl"}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ae({type:t,selectors:[["app-layout"]],decls:7,vars:2,consts:[[3,"dir"],[3,"menuToggled","toggleDirection"],["mode","side",3,"opened"]],template:function(n,o){n&1&&(E(0,"div",0)(1,"app-header",1),te("menuToggled",function(){return o.toggle()})("toggleDirection",function(){return o.changeDirection()}),M(),E(2,"mat-drawer-container")(3,"mat-drawer",2),ve(4,"app-menu-item"),M(),E(5,"mat-drawer-content"),ve(6,"router-outlet"),M()()()),n&2&&(H("dir",o.direction),O(3),H("opened",o.opened))},dependencies:[ke,Se,nt,et,ht,Ie,ms,Le,ct,yt,Et,Ct,Ze,Xt,lt,dt,Kt,St,wt,qt,Je,xt,Qt,Ot,Mt,Zt,It,Ul,jl,Gl,ii,Rt,Jt,Dt,ei,At,Tt,ti,Pt,Pg,ar,es,er],styles:["mat-drawer-container[_ngcontent-%COMP%]{height:94vh}mat-drawer[_ngcontent-%COMP%]{width:14%;min-width:120px;max-width:300px;background-color:#e7e7e7}mat-drawer-content[_ngcontent-%COMP%]{flex:1 1 auto}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}"]});let e=t;return e})();var Ng=(()=>{let t=class t{constructor(s,n){this.router=s,this.authService=n}canActivate(){return console.log("CompanySelectionGuard: Checking company selection"),_t.getCompanyId()==null?(this.router.navigate(["/select-user-company"]),!1):!0}};t.\u0275fac=function(n){return new(n||t)(re(Bi),re($s))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Uh=class Uh{};Uh.columnDefs=[{field:"companyId",hide:!0,checkboxSelection:!0},{field:"companyRegistry.companyName",headerName:"companyRegistry.companyName",cellStyle:{display:"flex",alignItems:"center"}},{field:"companyRegistry.companyName",headerName:"companyRegistry.companyName",cellStyle:{display:"flex",alignItems:"center"}},{field:"companyRegistry.companyName",headerName:"companyRegistry.companyName",cellStyle:{display:"flex",alignItems:"center"}}];var id=Uh;var jh=(()=>{let t=class t extends rg{constructor(s,n,o){super(),this.service=s,this.translate=n,this.injector=o,this.dialogData=this.injector.get(zl,null),this.columnDefs=this.translateHeaders(id.columnDefs,this.translate),this.gridOptions.pagination=!1,this.defaultColDef.floatingFilter=!1,this.rowHeight=40,this.headerHeight=40}serverData(){this.dialogData&&this.dialogData.fromDialog&&this.dialogData.fromDialog==!0?this.service.getAll().subscribe(s=>{this.rowData=s}):this.service.getAllByCurrentUser().subscribe(s=>{this.rowData=s})}};t.\u0275fac=function(n){return new(n||t)(U(rr),U(ot),U(Tl))},t.\u0275cmp=ae({type:t,selectors:[["app-select-user-company-grid"]],features:[cs],decls:8,vars:12,consts:[["dir","rtl",1,"generic-ag-grid-container"],[2,"width","100%","display","flex","gap","8px"],["appearance","outline",2,"flex","1 1 auto","margin-bottom","0px"],["matInput","","type","text","id","filter-text-box",2,"flex","0 0 90%","height","29px","margin-bottom","5px",3,"input","placeholder"],["mat-icon-button","",2,"flex","0 0 calc(1%-8px)",3,"click","matTooltip"],[1,"ag-theme-alpine",2,"height","100%",3,"cellValueChanged","cellEditingStarted","cellClicked","gridReady","selectionChanged","rowDoubleClicked","cellKeyPress","ngClass","rowHeight","headerHeight","floatingFiltersHeight","columnDefs","defaultColDef","gridOptions","rowData"]],template:function(n,o){n&1&&(E(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"input",3),te("input",function(a){return o.onFilterTextBoxChanged(a)}),M()(),E(4,"button",4),te("click",function(){return o.gridExport()}),E(5,"mat-icon"),L(6,"file_download"),M()()(),E(7,"ag-grid-angular",5),te("cellValueChanged",function(a){return o.onCellValueChanged(a)})("cellEditingStarted",function(a){return o.onCellEditingStarted(a)})("cellClicked",function(a){return o.onCellClicked(a)})("gridReady",function(a){return o.onGridReady(a)})("selectionChanged",function(a){return o.onSelectionRowChanged(a)})("rowDoubleClicked",function(a){return o.onRowDoubleClicked(a)})("cellKeyPress",function(a){return o.onCellKeyPress(a)}),M()()),n&2&&(O(3),H("placeholder",Rh(o.filterPlaceholderText)),O(),H("matTooltip",Rh(o.exportBtnText)),O(3),H("ngClass",o.activeTheme)("rowHeight",o.rowHeight)("headerHeight",o.headerHeight)("floatingFiltersHeight",o.floatingFiltersHeight)("columnDefs",o.columnDefs)("defaultColDef",o.defaultColDef)("gridOptions",o.gridOptions)("rowData",o.rowData))},dependencies:[ke,Sf,ht,og,Le,_s,Wi,ms,Ze,ir,Je,fn,Tt,zf],encapsulation:2});let e=t;return e})();function SE(e,t){if(e&1){let i=Vi();E(0,"button",10),te("click",function(){_i(i);let n=je();return bi(n.showTenantAdmin())}),E(1,"span",7),L(2,"tenantAdmin.menu.fromUserSelectToTenantAdmin"),M()()}}var Hg=(()=>{let t=class t extends bn{constructor(s,n,o,r,a,l){super(n,r,a),this.authService=s,this.mainService=n,this.formBuilder=o,this.notifier=r,this.translate=a,this.router=l,this.selectedCompanyId=null,this.selectedCompanyName=null}ngOnInit(){}action(s){console.log(s)}onSelectionChanged(s){console.log("Selected compdany:",s),this.selectedCompanyId=s.companyRegistry.companyId,this.selectedCompanyName=s.companyRegistry.companyName}onRowDoubleClicked(s){console.log("Double clicked company:",s);let n=s.companyRegistry;n?(_t.setCompanyId(n.companyId.toString()),_t.setCompanyName(n.companyName.toString()),this.notifier.showSuccess("Company selected successfully"),this.router.navigate(["/"])):this.notifier.showError("Please select a company")}selectCompany(){this.selectedCompanyId?(_t.setCompanyId(this.selectedCompanyId.toString()),_t.setCompanyName(this.selectedCompanyName.toString()),this.notifier.showSuccess("Company selected successfully"),this.router.navigate(["/"])):this.notifier.showError("Please select a company")}logout(){this.authService.logout(),console.log("Logged out")}isTenantAdmin(){return this.authService.isTenantAdmin()}showTenantAdmin(){this.router.navigate(["/tenant-admin"])}};t.\u0275fac=function(n){return new(n||t)(U($s),U(rr),U(pn),U(_n),U(ot),U(Bi))},t.\u0275cmp=ae({type:t,selectors:[["app-select-user-company"]],viewQuery:function(n,o){if(n&1&&Dl(jh,5),n&2){let r;ua(r=pa())&&(o.child=r.first)}},features:[cs],decls:14,vars:6,consts:[[3,"showToggleMenu","showMisYear","showNotifications","showCompanyMenu","showDarkThemeToggle"],[2,"position","fixed","top","0","left","0","width","100vw","height","100vh","display","flex","justify-content","center","align-items","center","background","transparent","z-index","1"],[2,"width","850px","height","450px","padding-bottom","24px","box-sizing","border-box","display","flex","justify-content","center","align-items","center","min-height","350px","border-radius","20px","box-shadow","0 8px 32px 0 rgba(0,0,0,0.25), 0 1.5px 6px 0 rgba(0,0,0,0.18)"],[2,"width","800px","height","350px","padding-bottom","24px"],[3,"outputGetFromGrid","outputDoubleClickFromGrid"],[2,"position","absolute","bottom","16px","left","46px","display","flex","gap","12px"],["mat-flat-button","","color","primary",2,"width","400px",3,"click"],["translate",""],["mat-flat-button","","color","primary","style","width: 140px;",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",2,"width","140px",3,"click"]],template:function(n,o){n&1&&(ve(0,"app-header",0),E(1,"div")(2,"div",1)(3,"mat-card",2)(4,"div",3)(5,"app-select-user-company-grid",4),te("outputGetFromGrid",function(a){return o.onSelectionChanged(a)})("outputDoubleClickFromGrid",function(a){return o.onRowDoubleClicked(a)}),M()(),E(6,"div",5)(7,"button",6),te("click",function(){return o.selectCompany()}),E(8,"span",7),L(9,"mainMenu.selectCompanybBtn"),M()(),Qe(10,SE,3,0,"button",8),E(11,"button",9),te("click",function(){return o.logout()}),E(12,"span",7),L(13,"mainMenu.Logout"),M()()()()()()),n&2&&(H("showToggleMenu",!1)("showMisYear",!1)("showNotifications",!1)("showCompanyMenu",!1)("showDarkThemeToggle",!1),O(10),H("ngIf",o.isTenantAdmin()))},dependencies:[ke,us,Se,nt,et,nr,ht,Ie,Le,ct,yt,Et,Ct,Ze,gs,Xt,lt,mn,dt,Kt,St,wt,qt,Je,xt,Qt,Ot,Mt,Zt,It,ii,Rt,Jt,Dt,ei,At,Tt,ti,Pt,ar,jh],encapsulation:2});let e=t;return e})();var Vg=(()=>{let t=class t{constructor(s,n){this.router=s,this.translate=n,this.opened=!0,this.direction="rtl"}toggle(){this.opened=!this.opened}changeDirection(){this.direction=this.direction==="rtl"?"ltr":"rtl"}};t.\u0275fac=function(n){return new(n||t)(U(Bi),U(ot))},t.\u0275cmp=ae({type:t,selectors:[["app-tenant-layout"]],decls:22,vars:22,consts:[[3,"dir"],[3,"showToggleMenu","showMisYear","showNotifications","showCompanyMenu","showDarkThemeToggle"],["mode","side",3,"opened"],["mat-list-item","",3,"click"],["mat-list-item","","routerLink","./tenant-admin-overview","routerLinkActive","active"],["mat-list-item","","routerLink","./tenant-admin-config","routerLinkActive","active"],["mat-list-item","","routerLink","./company-admin-config","routerLinkActive","active"]],template:function(n,o){n&1&&(E(0,"div",0),ve(1,"app-header",1),E(2,"mat-drawer-container")(3,"mat-drawer",2)(4,"mat-nav-list")(5,"a",3),te("click",function(){return o.router.navigate(["/select-user-company"])}),L(6),Te(7,"translate"),M(),E(8,"a",4),L(9),Te(10,"translate"),M(),E(11,"a",5),L(12),Te(13,"translate"),M(),E(14,"a",6),L(15),Te(16,"translate"),M(),E(17,"a",6),L(18),Te(19,"translate"),M()()(),E(20,"mat-drawer-content"),ve(21,"router-outlet"),M()()()),n&2&&(H("dir",o.direction),O(),H("showToggleMenu",!1)("showMisYear",!1)("showNotifications",!1)("showCompanyMenu",!1)("showDarkThemeToggle",!1),O(2),H("opened",o.opened),O(3),gt(" ",Oe(7,12,"tenantAdmin.sidenav.back")),O(3),fe(Oe(10,14,"tenantAdmin.sidenav.overview")),O(3),fe(Oe(13,16,"tenantAdmin.sidenav.tenantAdminConfig")),O(3),fe(Oe(16,18,"tenantAdmin.sidenav.companyAdminConfig")),O(3),fe(Oe(19,20,"tenantAdmin.sidenav.userManagment")))},dependencies:[ke,Se,nt,et,ht,Ie,ms,Le,ct,yt,Et,$l,Wl,Ct,Ze,Xt,lt,dt,Kt,St,wt,qt,Je,xt,Qt,Ot,Mt,Zt,It,Ul,jl,Gl,ii,Rt,Jt,Dt,ei,At,Tt,ti,Pt,ar,es,er,Nl,Hl,Si],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}mat-drawer-container[_ngcontent-%COMP%]{height:94vh}mat-drawer[_ngcontent-%COMP%]{width:13%;min-width:220px;max-width:300px;background-color:#e7e7e7}mat-drawer-content[_ngcontent-%COMP%]{flex:1 1 auto}.mdc-list-item[_ngcontent-%COMP%]{padding-left:15px!important;padding-right:30px!important;height:35px!important;border-bottom:.3px dashed #ffffff!important}"]});let e=t;return e})();var sd=(()=>{let t=class t extends or{constructor(s){super(s),this.http=s,this.setBaseUrl(Kl.TenantConfig)}getConfig(){return this.http.get(`${this.baseUrl}/current-user-tenant-config`)}updateConfig(s){return this.http.post(`${this.baseUrl}/`,s)}};t.\u0275fac=function(n){return new(n||t)(re(ps))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var zg=(()=>{let t=class t extends bn{constructor(s,n,o){super(s,n,o),this.mainService=s,this.notifier=n,this.translate=o}ngOnInit(){}};t.\u0275fac=function(n){return new(n||t)(U(sd),U(_n),U(ot))},t.\u0275cmp=ae({type:t,selectors:[["app-tenant-admin-overview"]],features:[cs],decls:1,vars:0,template:function(n,o){n&1&&L(0,"overview works!")},dependencies:[ke,Se,nt,et,ht,Ie,Le,ct,yt,Et,Ct,Ze,Xt,lt,dt,Kt,St,wt,qt,Je,xt,Qt,Ot,Mt,Zt,It,ii,Rt,Jt,Dt,ei,At,Tt,ti,Pt,es],encapsulation:2});let e=t;return e})();var Xh=class Xh{static createMainForm(t){return t.group({id:[null],title:[null,[Vs.required]],definition:[null]})}};Xh.gv=gn.variables;var nd=Xh;function EE(e,t){if(e&1){let i=Vi();E(0,"button",15),te("click",function(){_i(i);let n=je();return bi(n.action("save"))}),E(1,"span",2),L(2,"crud.btn.save"),M()()}if(e&2){let i=je();H("disabled",i.formGroup.invalid)}}function xE(e,t){if(e&1){let i=Vi();E(0,"button",16),te("click",function(){_i(i);let n=je();return bi(n.action("delete"))}),E(1,"span",2),L(2,"crud.btn.delete"),M()()}if(e&2){let i=je();H("disabled",i.formGroup.invalid)}}var Wg=(()=>{let t=class t extends bn{constructor(s,n,o,r){super(s,o,r),this.mainService=s,this.formBuilder=n,this.notifier=o,this.translate=r,this.gv=gn.variables,this.formGroup=nd.createMainForm(this.formBuilder)}ngOnInit(){}action(s){console.log(s),this.actionAbs(s,this.formGroup,null)}onSelectionChanged(s){this.formGroup.patchValue(s)}};t.\u0275fac=function(n){return new(n||t)(U(ag),U(pn),U(_n),U(ot))},t.\u0275cmp=ae({type:t,selectors:[["app-company-config"]],features:[cs],decls:30,vars:6,consts:[[1,"action"],["mat-stroked-button","",1,"action",3,"click"],["translate",""],["mat-stroked-button","","color","accent","class","action",3,"disabled","click",4,"ngIf"],["mat-stroked-button","","color","warn","class","action",3,"disabled","click",4,"ngIf"],[1,"parent-card-container"],[1,"input-mat-card"],[3,"formGroup"],[1,"row-fields"],[1,"field-item"],["for","title","translate",""],["appearance","outline"],["matInput","","id","title","formControlName","title"],["for","definition","translate",""],["matInput","","id","definition","formControlName","definition"],["mat-stroked-button","","color","accent",1,"action",3,"click","disabled"],["mat-stroked-button","","color","warn",1,"action",3,"click","disabled"]],template:function(n,o){n&1&&(E(0,"div")(1,"app-page-header",0),L(2),Te(3,"translate"),E(4,"button",1),te("click",function(){return o.action("refresh")}),E(5,"span",2),L(6,"crud.btn.refresh"),M()(),Qe(7,EE,3,1,"button",3)(8,xE,3,1,"button",4),E(9,"button",1),te("click",function(){return o.action("reset")}),E(10,"span",2),L(11,"crud.btn.new"),M()(),E(12,"button",1),te("click",function(){return o.action("gridExport")}),E(13,"span",2),L(14,"crud.btn.export"),M()()(),E(15,"div",5)(16,"mat-card",6)(17,"mat-card-content")(18,"form",7)(19,"div",8)(20,"div",9)(21,"label",10),L(22,"acc.account.accvchtype.title"),M(),E(23,"mat-form-field",11),ve(24,"input",12),M()(),E(25,"div",9)(26,"label",13),L(27,"acc.account.accvchtype.definition"),M(),E(28,"mat-form-field",11),ve(29,"input",14),M()()()()()()()()),n&2&&(O(2),gt(" ",Oe(3,4,"menuTitle.AccVchType")," "),O(5),H("ngIf",o.permissionResource.W),O(),H("ngIf",o.permissionResource.D),O(10),H("formGroup",o.formGroup))},dependencies:[ke,us,Se,tr,fs,vi,Ci,yi,zi,nt,Yl,et,nr,ht,Ie,Wi,Le,_s,ct,yt,Et,Ct,Ze,gs,Xt,lt,mn,sr,dt,Kt,St,wt,qt,Je,xt,Qt,Ot,Mt,Zt,It,ii,Rt,Jt,Dt,ei,At,Tt,ti,Pt,Si],encapsulation:2});let e=t;return e})();var Kh=class Kh{static createMainForm(t){return t.group({id:[null],title:[null],definition:[null],tenantCode:[null,[Vs.required]],tenantName:[null,[Vs.required]],status:[null],industryType:[null],contactEmail:[null],contactPhone:[null],companyAddress:[null],defaultTimezone:[null],defaultLanguage:[null],dateFormat:[null],logo:[null],featureTogglesBilling:[!1],featureTogglesInventory:[!1]})}static getFields(){return[{key:"tenantCode",label:"Tenant Code",type:"text"},{key:"tenantName",label:"Tenant Name",type:"text"},{key:"status",label:"Status",type:"select",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]},{key:"industryType",label:"Industry",type:"text"},{key:"contactEmail",label:"Contact Email",type:"email"},{key:"contactPhone",label:"Contact Phone",type:"phone"},{key:"companyAddress",label:"Company Address",type:"text"},{key:"defaultTimezone",label:"Default Timezone",type:"select",options:[{label:"UTC",value:"UTC"},{label:"Local",value:"Local"}]},{key:"defaultLanguage",label:"Default Language",type:"select",options:[{label:"English",value:"en"},{label:"Fran\xE7ais",value:"fr"}]},{key:"dateFormat",label:"Date Format",type:"select",options:[{label:"YYYY-MM-DD",value:"YYYY-MM-DD"},{label:"DD/MM/YYYY",value:"DD/MM/YYYY"}]},{key:"logo",label:"Logo",type:"file",accept:"image/*"},{key:"featureTogglesBilling",label:"Enable Billing",type:"switch"},{key:"featureTogglesInventory",label:"Enable Inventory",type:"switch"}]}};Kh.gv=gn.variables;var Ca=Kh;var $g=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ae({type:t,selectors:[["app-dynamic-material-text-field"]],inputs:{field:"field",form:"form"},decls:5,vars:9,consts:[[1,"field-item",3,"formGroup"],[3,"for"],["appearance","outline",2,"width","100%"],["matInput","",3,"id","formControlName","placeholder","type"]],template:function(n,o){n&1&&(E(0,"div",0)(1,"label",1),L(2),M(),E(3,"mat-form-field",2),ve(4,"input",3),M()()),n&2&&(H("formGroup",o.form),O(),H("for",o.field.key),O(),fe(o.field.label),O(),vf(o.field.class),O(),H("id",o.field.key)("formControlName",o.field.key)("placeholder",o.field.placeholder)("type",o.field.inputType||"text"))},dependencies:[Ie,Wi,Le,_s,Se,fs,vi,Ci,yi,zi],encapsulation:2});let e=t;return e})();function TE(e,t){if(e&1&&(E(0,"mat-option",5),L(1),M()),e&2){let i=t.$implicit;H("value",i.value),O(),fe(i.label)}}var Gg=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ae({type:t,selectors:[["app-dynamic-material-select-field"]],inputs:{field:"field",form:"form"},decls:6,vars:6,consts:[[1,"field-item",3,"formGroup"],[3,"for"],["appearance","outline",2,"width","100%"],[3,"formControlName","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,o){n&1&&(E(0,"div",0)(1,"label",1),L(2),M(),E(3,"mat-form-field",2)(4,"mat-select",3),Qe(5,TE,2,2,"mat-option",4),M()()()),n&2&&(H("formGroup",o.form),O(),H("for",o.field.key),O(),fe(o.field.label),O(2),H("formControlName",o.field.key)("placeholder",o.field.placeholder),O(),H("ngForOf",o.field.options))},dependencies:[ke,Jo,Ie,Wi,ct,eg,Mf,Se,vi,Ci,yi,zi],encapsulation:2});let e=t;return e})();var Ug=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ae({type:t,selectors:[["app-dynamic-material-checkbox-field"]],inputs:{field:"field",form:"form"},decls:3,vars:3,consts:[[1,"field-item",3,"formGroup"],[3,"formControlName"]],template:function(n,o){n&1&&(E(0,"div",0)(1,"mat-checkbox",1),L(2),M()()),n&2&&(H("formGroup",o.form),O(),H("formControlName",o.field.key),O(),fe(o.field.label))},dependencies:[Ie,dt,Hf,Se,vi,Ci,yi,zi],encapsulation:2});let e=t;return e})();var jg=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ae({type:t,selectors:[["app-dynamic-material-textarea-field"]],inputs:{field:"field",form:"form"},decls:5,vars:5,consts:[[1,"field-item",3,"formGroup"],[3,"for"],["appearance","outline",2,"width","100%"],["matInput","",3,"formControlName","placeholder"]],template:function(n,o){n&1&&(E(0,"div",0)(1,"label",1),L(2),M(),E(3,"mat-form-field",2),ve(4,"textarea",3),M()()),n&2&&(H("formGroup",o.form),O(),H("for",o.field.key),O(),fe(o.field.label),O(2),H("formControlName",o.field.key)("placeholder",o.field.placeholder))},dependencies:[Ie,Wi,Le,_s,Se,fs,vi,Ci,yi,zi],encapsulation:2});let e=t;return e})();var OE=["fieldsContainer"],Yg=(()=>{let t=class t{constructor(){this.fields=[]}ngAfterViewInit(){this.generateFields()}generateFields(){this.fields.forEach(s=>{switch(s.type){case"text":this.createDynamicField(s,$g);break;case"select":this.createDynamicField(s,Gg);break;case"checkbox":this.createDynamicField(s,Ug);break;case"textarea":this.createDynamicField(s,jg);break}})}createDynamicField(s,n){let o=this.fieldsContainer.createComponent(n);o.instance.field=s,o.instance.form=this.form}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ae({type:t,selectors:[["app-dynamic-form"]],viewQuery:function(n,o){if(n&1&&Dl(OE,7,Rl),n&2){let r;ua(r=pa())&&(o.fieldsContainer=r.first)}},inputs:{form:"form",fields:"fields"},decls:4,vars:1,consts:[["fieldsContainer",""],[3,"formGroup"],[1,"row-fields"]],template:function(n,o){n&1&&(E(0,"form",1)(1,"div",2),Ih(2,null,0),M()()),n&2&&H("formGroup",o.form)},dependencies:[Se,tr,Ci,yi],encapsulation:2});let e=t;return e})();var Xg=(()=>{let t=class t extends bn{constructor(s,n,o,r){super(s,o,r),this.mainService=s,this.formBuilder=n,this.notifier=o,this.translate=r,this.gv=gn.variables,this.fields=[],this.formGroup=Ca.createMainForm(this.formBuilder),this.fields=Ca.getFields()}ngOnInit(){this.load()}load(){this.mainService.getConfig().subscribe(s=>{s&&this.formGroup.patchValue(s)},s=>{console.error("Failed to load tenant config",s)})}action(s){if(console.log(s),s==="save"){this.save();return}this.actionAbs(s,this.formGroup,null)}onSelectionChanged(s){this.formGroup.patchValue(s)}save(){let s=this.formGroup.getRawValue();this.mainService.updateConfig(s).subscribe(()=>{this.notifier.showSuccess("Configuration saved")},n=>{console.error(n),this.notifier.showError("Save failed")})}refresh(){this.load()}};t.\u0275fac=function(n){return new(n||t)(U(sd),U(pn),U(_n),U(ot))},t.\u0275cmp=ae({type:t,selectors:[["app-tenant-config"]],features:[cs],decls:17,vars:6,consts:[[1,"action"],["mat-stroked-button","",1,"action",3,"click"],["translate",""],["mat-stroked-button","","color","accent",1,"action",3,"click","disabled"],[1,"parent-card-container"],[1,"input-mat-card"],[3,"form","fields"]],template:function(n,o){n&1&&(E(0,"div")(1,"app-page-header",0),L(2),Te(3,"translate"),E(4,"button",1),te("click",function(){return o.action("refresh")}),E(5,"span",2),L(6,"crud.btn.refresh"),M()(),E(7,"button",3),te("click",function(){return o.action("save")}),E(8,"span",2),L(9,"crud.btn.save"),M()(),E(10,"button",1),te("click",function(){return o.action("gridExport")}),E(11,"span",2),L(12,"crud.btn.export"),M()()(),E(13,"div",4)(14,"mat-card",5)(15,"mat-card-content"),ve(16,"app-dynamic-form",6),M()()()()),n&2&&(O(2),gt(" ",Oe(3,4,"menuTitle.AccVchType")," "),O(5),H("disabled",o.formGroup.invalid),O(9),H("form",o.formGroup)("fields",o.fields))},dependencies:[ke,Se,nt,Yl,et,nr,ht,Ie,Le,ct,yt,Et,Ct,Ze,gs,Xt,lt,mn,sr,dt,Kt,St,wt,qt,Je,xt,Qt,Ot,Mt,Zt,It,ii,Rt,Jt,Dt,ei,At,Tt,ti,Pt,Yg,Si],encapsulation:2});let e=t;return e})();var ME=[{path:"select-user-company",component:Hg,canActivate:[un]},{path:"tenant-admin",component:Vg,children:[{path:"tenant-admin-overview",component:zg,canActivate:[un]},{path:"tenant-admin-config",component:Xg,canActivate:[un]},{path:"company-admin-config",component:Wg,canActivate:[un]}]},{path:"",component:Fg,canActivate:[un,Ng],children:[{path:"",loadChildren:()=>import("./chunk-PT4R7F3U.js").then(e=>e.UserModule)},{path:"",loadChildren:()=>import("./chunk-5P2BFD5C.js").then(e=>e.CoreModule)},{path:"",loadChildren:()=>import("./chunk-DCGPUG7H.js").then(e=>e.AccModule)},{path:"access-denied",component:Rg}]}],Kg=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hi({type:t}),t.\u0275inj=Ni({imports:[es.forRoot(ME),es]});let e=t;return e})();var qg=(()=>{let t=class t{constructor(s){this.translate=s,s.setDefaultLang("en"),s.use("en"),console.log(window.crypto)}};t.\u0275fac=function(n){return new(n||t)(U(ot))},t.\u0275cmp=ae({type:t,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(n,o){n&1&&ve(0,"router-outlet")},dependencies:[er],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;max-width:176px}"]});let e=t;return e})();function Qg(e,t,i){let s={config:Ph.keycloak.config,loadUserProfileAtStartUp:!0,initOptions:Ph.keycloak.initOptions,bearerExcludedUrls:[]};return console.log("Keycloak Init Options:",s),()=>e.init(s).then(n=>ai(null,null,function*(){return n})).catch(n=>(console.error("Keycloak initialization failed",n),!1))}var IE="@",RE=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=da(Tl);loadingSchedulerFn=da(DE,{optional:!0});_engine;constructor(i,s,n,o,r){this.doc=i,this.delegate=s,this.zone=n,this.animationType=o,this.moduleImpl=r}ngOnDestroy(){this._engine?.flush()}loadImpl(){let i=()=>this.moduleImpl??import("./chunk-ZNGV2A5B.js").then(n=>n),s;return this.loadingSchedulerFn?s=this.loadingSchedulerFn(i):s=i(),s.catch(n=>{throw new hf(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let r=new o(this.delegate,this._engine,this.zone);return this.delegate=r,r})}createRenderer(i,s){let n=this.delegate.createRenderer(i,s);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let o=new qh(n);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(r=>{let a=r.createRenderer(i,s);o.use(a),this.scheduler??=this.injector.get(mf,null,{optional:!0}),this.scheduler?.notify(10)}).catch(r=>{o.use(n)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(i){this._engine?.flush(),this.delegate.componentReplaced?.(i)}static \u0275fac=function(s){ff()};static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})(),qh=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,s,n){this.delegate.insertBefore(t,i,s,n)}removeChild(t,i,s){this.delegate.removeChild(t,i,s)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,s,n){this.delegate.setAttribute(t,i,s,n)}removeAttribute(t,i,s){this.delegate.removeAttribute(t,i,s)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,s,n){this.delegate.setStyle(t,i,s,n)}removeStyle(t,i,s){this.delegate.removeStyle(t,i,s)}setProperty(t,i,s){this.shouldReplay(i)&&this.replay.push(n=>n.setProperty(t,i,s)),this.delegate.setProperty(t,i,s)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,s,n){return this.shouldReplay(i)&&this.replay.push(o=>o.listen(t,i,s,n)),this.delegate.listen(t,i,s,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(IE)}},DE=new Kn("");function Zg(e="animations"){return xh("NgAsyncAnimations"),uf([{provide:Il,useFactory:(t,i,s)=>new RE(t,i,s,e),deps:[Ol,Ll,ha]},{provide:ca,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var AE=(()=>{class e extends Ql{constructor(i,s,n){super(i,s,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(s){return new(s||e)(re(Ol),re(ma),re(ql))};static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();function PE(){return new pg}function kE(e,t,i){return new fg(e,t,i)}var e_=[{provide:ql,useFactory:PE},{provide:Ql,useClass:AE},{provide:Il,useFactory:kE,deps:[Ll,Ql,ha]}],LE=[{provide:ma,useClass:ug},{provide:ca,useValue:"NoopAnimations"},...e_],Jg=[{provide:ma,useFactory:()=>new mg},{provide:ca,useFactory:()=>"BrowserAnimations"},...e_],t_=(()=>{class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?LE:Jg}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=Hi({type:e});static \u0275inj=Ni({providers:Jg,imports:[Fl]})}return e})();function wa(e){return e+.5|0}var xn=(e,t,i)=>Math.max(Math.min(e,i),t);function ya(e){return xn(wa(e*2.55),0,255)}function Tn(e){return xn(wa(e*255),0,255)}function Gs(e){return xn(wa(e/2.55)/100,0,1)}function i_(e){return xn(wa(e*100),0,100)}var ji={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zh=[..."0123456789ABCDEF"],FE=e=>Zh[e&15],NE=e=>Zh[(e&240)>>4]+Zh[e&15],od=e=>(e&240)>>4===(e&15),HE=e=>od(e.r)&&od(e.g)&&od(e.b)&&od(e.a);function VE(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&ji[e[1]]*17,g:255&ji[e[2]]*17,b:255&ji[e[3]]*17,a:t===5?ji[e[4]]*17:255}:(t===7||t===9)&&(i={r:ji[e[1]]<<4|ji[e[2]],g:ji[e[3]]<<4|ji[e[4]],b:ji[e[5]]<<4|ji[e[6]],a:t===9?ji[e[7]]<<4|ji[e[8]]:255})),i}var BE=(e,t)=>e<255?t(e):"";function zE(e){var t=HE(e)?FE:NE;return e?"#"+t(e.r)+t(e.g)+t(e.b)+BE(e.a,t):void 0}var WE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function r_(e,t,i){let s=t*Math.min(i,1-i),n=(o,r=(o+e/30)%12)=>i-s*Math.max(Math.min(r-3,9-r,1),-1);return[n(0),n(8),n(4)]}function $E(e,t,i){let s=(n,o=(n+e/60)%6)=>i-i*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function GE(e,t,i){let s=r_(e,1,.5),n;for(t+i>1&&(n=1/(t+i),t*=n,i*=n),n=0;n<3;n++)s[n]*=1-t-i,s[n]+=t;return s}function UE(e,t,i,s,n){return e===n?(t-i)/s+(t<i?6:0):t===n?(i-e)/s+2:(e-t)/s+4}function Jh(e){let i=e.r/255,s=e.g/255,n=e.b/255,o=Math.max(i,s,n),r=Math.min(i,s,n),a=(o+r)/2,l,d,c;return o!==r&&(c=o-r,d=a>.5?c/(2-o-r):c/(o+r),l=UE(i,s,n,c,o),l=l*60+.5),[l|0,d||0,a]}function eu(e,t,i,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,s)).map(Tn)}function tu(e,t,i){return eu(r_,e,t,i)}function jE(e,t,i){return eu(GE,e,t,i)}function YE(e,t,i){return eu($E,e,t,i)}function a_(e){return(e%360+360)%360}function XE(e){let t=WE.exec(e),i=255,s;if(!t)return;t[5]!==s&&(i=t[6]?ya(+t[5]):Tn(+t[5]));let n=a_(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?s=jE(n,o,r):t[1]==="hsv"?s=YE(n,o,r):s=tu(n,o,r),{r:s[0],g:s[1],b:s[2],a:i}}function KE(e,t){var i=Jh(e);i[0]=a_(i[0]+t),i=tu(i),e.r=i[0],e.g=i[1],e.b=i[2]}function qE(e){if(!e)return;let t=Jh(e),i=t[0],s=i_(t[1]),n=i_(t[2]);return e.a<255?`hsla(${i}, ${s}%, ${n}%, ${Gs(e.a)})`:`hsl(${i}, ${s}%, ${n}%)`}var s_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},n_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function QE(){let e={},t=Object.keys(n_),i=Object.keys(s_),s,n,o,r,a;for(s=0;s<t.length;s++){for(r=a=t[s],n=0;n<i.length;n++)o=i[n],a=a.replace(o,s_[o]);o=parseInt(n_[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}var rd;function ZE(e){rd||(rd=QE(),rd.transparent=[0,0,0,0]);let t=rd[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var JE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ex(e){let t=JE.exec(e),i=255,s,n,o;if(t){if(t[7]!==s){let r=+t[7];i=t[8]?ya(r):xn(r*255,0,255)}return s=+t[1],n=+t[3],o=+t[5],s=255&(t[2]?ya(s):xn(s,0,255)),n=255&(t[4]?ya(n):xn(n,0,255)),o=255&(t[6]?ya(o):xn(o,0,255)),{r:s,g:n,b:o,a:i}}}function tx(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Gs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var Qh=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,lr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ix(e,t,i){let s=lr(Gs(e.r)),n=lr(Gs(e.g)),o=lr(Gs(e.b));return{r:Tn(Qh(s+i*(lr(Gs(t.r))-s))),g:Tn(Qh(n+i*(lr(Gs(t.g))-n))),b:Tn(Qh(o+i*(lr(Gs(t.b))-o))),a:e.a+i*(t.a-e.a)}}function ad(e,t,i){if(e){let s=Jh(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*i,t===0?360:1)),s=tu(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function l_(e,t){return e&&Object.assign(t||{},e)}function o_(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Tn(e[3]))):(t=l_(e,{r:0,g:0,b:0,a:1}),t.a=Tn(t.a)),t}function sx(e){return e.charAt(0)==="r"?ex(e):XE(e)}var Sa=class e{constructor(t){if(t instanceof e)return t;let i=typeof t,s;i==="object"?s=o_(t):i==="string"&&(s=VE(t)||ZE(t)||sx(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=l_(this._rgb);return t&&(t.a=Gs(t.a)),t}set rgb(t){this._rgb=o_(t)}rgbString(){return this._valid?tx(this._rgb):void 0}hexString(){return this._valid?zE(this._rgb):void 0}hslString(){return this._valid?qE(this._rgb):void 0}mix(t,i){if(t){let s=this.rgb,n=t.rgb,o,r=i===o?.5:i,a=2*r-1,l=s.a-n.a,d=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-d,s.r=255&d*s.r+o*n.r+.5,s.g=255&d*s.g+o*n.g+.5,s.b=255&d*s.b+o*n.b+.5,s.a=r*s.a+(1-r)*n.a,this.rgb=s}return this}interpolate(t,i){return t&&(this._rgb=ix(this._rgb,t._rgb,i)),this}clone(){return new e(this.rgb)}alpha(t){return this._rgb.a=Tn(t),this}clearer(t){let i=this._rgb;return i.a*=1-t,this}greyscale(){let t=this._rgb,i=wa(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){let i=this._rgb;return i.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ad(this._rgb,2,t),this}darken(t){return ad(this._rgb,2,-t),this}saturate(t){return ad(this._rgb,1,t),this}desaturate(t){return ad(this._rgb,1,-t),this}rotate(t){return KE(this._rgb,t),this}};function ys(){}var v_=(()=>{let e=0;return()=>e++})();function oe(e){return e==null}function Fe(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function de(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ye(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ei(e,t){return Ye(e)?e:t}function q(e,t){return typeof e>"u"?t:e}var C_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,ou=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Re(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function we(e,t,i,s){let n,o,r;if(Fe(e))if(o=e.length,s)for(n=o-1;n>=0;n--)t.call(i,e[n],n);else for(n=0;n<o;n++)t.call(i,e[n],n);else if(de(e))for(r=Object.keys(e),o=r.length,n=0;n<o;n++)t.call(i,e[r[n]],r[n])}function Ta(e,t){let i,s,n,o;if(!e||!t||e.length!==t.length)return!1;for(i=0,s=e.length;i<s;++i)if(n=e[i],o=t[i],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function ud(e){if(Fe(e))return e.map(ud);if(de(e)){let t=Object.create(null),i=Object.keys(e),s=i.length,n=0;for(;n<s;++n)t[i[n]]=ud(e[i[n]]);return t}return e}function y_(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function nx(e,t,i,s){if(!y_(e))return;let n=t[e],o=i[e];de(n)&&de(o)?cr(n,o,s):t[e]=ud(o)}function cr(e,t,i){let s=Fe(t)?t:[t],n=s.length;if(!de(e))return e;i=i||{};let o=i.merger||nx,r;for(let a=0;a<n;++a){if(r=s[a],!de(r))continue;let l=Object.keys(r);for(let d=0,c=l.length;d<c;++d)o(l[d],e,r,i)}return e}function ur(e,t){return cr(e,t,{merger:ox})}function ox(e,t,i){if(!y_(e))return;let s=t[e],n=i[e];de(s)&&de(n)?ur(s,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ud(n))}var d_={"":e=>e,x:e=>e.x,y:e=>e.y};function rx(e){let t=e.split("."),i=[],s="";for(let n of t)s+=n,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}function ax(e){let t=rx(e);return i=>{for(let s of t){if(s==="")break;i=i&&i[s]}return i}}function Ys(e,t){return(d_[t]||(d_[t]=ax(t)))(e)}function gd(e){return e.charAt(0).toUpperCase()+e.slice(1)}var pr=e=>typeof e<"u",Us=e=>typeof e=="function",ru=(e,t)=>{if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0};function S_(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var be=Math.PI,Ne=2*be,lx=Ne+be,pd=Number.POSITIVE_INFINITY,dx=be/180,tt=be/2,vo=be/4,c_=be*2/3,js=Math.log10,ss=Math.sign;function mr(e,t,i){return Math.abs(e-t)<i}function au(e){let t=Math.round(e);e=mr(e,t,e/1e3)?t:e;let i=Math.pow(10,Math.floor(js(e))),s=e/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function w_(e){let t=[],i=Math.sqrt(e),s;for(s=1;s<i;s++)e%s===0&&(t.push(s),t.push(e/s));return i===(i|0)&&t.push(i),t.sort((n,o)=>n-o).pop(),t}function cx(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function So(e){return!cx(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function E_(e,t){let i=Math.round(e);return i-t<=e&&i+t>=e}function lu(e,t,i){let s,n,o;for(s=0,n=e.length;s<n;s++)o=e[s][i],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Yi(e){return e*(be/180)}function _d(e){return e*(180/be)}function du(e){if(!Ye(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function cu(e,t){let i=t.x-e.x,s=t.y-e.y,n=Math.sqrt(i*i+s*s),o=Math.atan2(s,i);return o<-.5*be&&(o+=Ne),{angle:o,distance:n}}function md(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hx(e,t){return(e-t+lx)%Ne-be}function Ht(e){return(e%Ne+Ne)%Ne}function fr(e,t,i,s){let n=Ht(e),o=Ht(t),r=Ht(i),a=Ht(o-n),l=Ht(r-n),d=Ht(n-o),c=Ht(n-r);return n===o||n===r||s&&o===r||a>l&&d<c}function bt(e,t,i){return Math.max(t,Math.min(i,e))}function x_(e){return bt(e,-32768,32767)}function Ss(e,t,i,s=1e-6){return e>=Math.min(t,i)-s&&e<=Math.max(t,i)+s}function bd(e,t,i){i=i||(r=>e[r]<t);let s=e.length-1,n=0,o;for(;s-n>1;)o=n+s>>1,i(o)?n=o:s=o;return{lo:n,hi:s}}var vs=(e,t,i,s)=>bd(e,i,s?n=>{let o=e[n][t];return o<i||o===i&&e[n+1][t]===i}:n=>e[n][t]<i),T_=(e,t,i)=>bd(e,i,s=>e[s][t]>=i);function O_(e,t,i){let s=0,n=e.length;for(;s<n&&e[s]<t;)s++;for(;n>s&&e[n-1]>i;)n--;return s>0||n<e.length?e.slice(s,n):e}var M_=["push","pop","shift","splice","unshift"];function I_(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),M_.forEach(i=>{let s="_onData"+gd(i),n=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...o){let r=n.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...o)}),r}})})}function hu(e,t){let i=e._chartjs;if(!i)return;let s=i.listeners,n=s.indexOf(t);n!==-1&&s.splice(n,1),!(s.length>0)&&(M_.forEach(o=>{delete e[o]}),delete e._chartjs)}function uu(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}var pu=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function mu(e,t){let i=[],s=!1;return function(...n){i=n,s||(s=!0,pu.call(window,()=>{s=!1,e.apply(t,i)}))}}function R_(e,t){let i;return function(...s){return t?(clearTimeout(i),i=setTimeout(e,t,s)):e.apply(this,s),t}}var vd=e=>e==="start"?"left":e==="end"?"right":"center",Vt=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2,D_=(e,t,i,s)=>e===(s?"left":"right")?i:e==="center"?(t+i)/2:t;function fu(e,t,i){let s=t.length,n=0,o=s;if(e._sorted){let{iScale:r,vScale:a,_parsed:l}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,c=r.axis,{min:h,max:u,minDefined:p,maxDefined:m}=r.getUserBounds();if(p){if(n=Math.min(vs(l,c,h).lo,i?s:vs(t,c,r.getPixelForValue(h)).lo),d){let f=l.slice(0,n+1).reverse().findIndex(g=>!oe(g[a.axis]));n-=Math.max(0,f)}n=bt(n,0,s-1)}if(m){let f=Math.max(vs(l,r.axis,u,!0).hi+1,i?0:vs(t,c,r.getPixelForValue(u),!0).hi+1);if(d){let g=l.slice(f-1).findIndex(_=>!oe(_[a.axis]));f+=Math.max(0,g)}o=bt(f,n,s)-n}else o=s-n}return{start:n,count:o}}function gu(e){let{xScale:t,yScale:i,_scaleRanges:s}=e,n={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!s)return e._scaleRanges=n,!0;let o=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),o}var ld=e=>e===0||e===1,h_=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ne/i)),u_=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ne/i)+1,dr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*tt)+1,easeOutSine:e=>Math.sin(e*tt),easeInOutSine:e=>-.5*(Math.cos(be*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ld(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ld(e)?e:h_(e,.075,.3),easeOutElastic:e=>ld(e)?e:u_(e,.075,.3),easeInOutElastic(e){return ld(e)?e:e<.5?.5*h_(e*2,.1125,.45):.5+.5*u_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-dr.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?dr.easeInBounce(e*2)*.5:dr.easeOutBounce(e*2-1)*.5+.5};function _u(e){if(e&&typeof e=="object"){let t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function bu(e){return _u(e)?e:new Sa(e)}function iu(e){return _u(e)?e:new Sa(e).saturate(.5).darken(.1).hexString()}var ux=["x","y","borderWidth","radius","tension"],px=["color","borderColor","backgroundColor"];function mx(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:px},numbers:{type:"number",properties:ux}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function fx(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var p_=new Map;function gx(e,t){t=t||{};let i=e+JSON.stringify(t),s=p_.get(i);return s||(s=new Intl.NumberFormat(e,t),p_.set(i,s)),s}function gr(e,t,i){return gx(t,i).format(e)}var A_={values(e){return Fe(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";let s=this.chart.options.locale,n,o=e;if(i.length>1){let d=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),o=_x(e,i)}let r=js(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),gr(e,s,l)},logarithmic(e,t,i){if(e===0)return"0";let s=i[t].significand||e/Math.pow(10,Math.floor(js(e)));return[1,2,3,5,10,15].includes(s)||t>.8*i.length?A_.numeric.call(this,e,t,i):""}};function _x(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var Oa={formatters:A_};function bx(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Oa.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Mn=Object.create(null),Cd=Object.create(null);function Ea(e,t){if(!t)return e;let i=t.split(".");for(let s=0,n=i.length;s<n;++s){let o=i[s];e=e[o]||(e[o]=Object.create(null))}return e}function su(e,t,i){return typeof t=="string"?cr(Ea(e,t),i):cr(Ea(e,""),t)}var nu=class{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,n)=>iu(n.backgroundColor),this.hoverBorderColor=(s,n)=>iu(n.borderColor),this.hoverColor=(s,n)=>iu(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return su(this,t,i)}get(t){return Ea(this,t)}describe(t,i){return su(Cd,t,i)}override(t,i){return su(Mn,t,i)}route(t,i,s,n){let o=Ea(this,t),r=Ea(this,s),a="_"+i;Object.defineProperties(o,{[a]:{value:o[i],writable:!0},[i]:{enumerable:!0,get(){let l=this[a],d=r[n];return de(l)?Object.assign({},d,l):q(l,d)},set(l){this[a]=l}}})}apply(t){t.forEach(i=>i(this))}},De=new nu({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mx,fx,bx]);function vx(e){return!e||oe(e.size)||oe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function xa(e,t,i,s,n){let o=t[n];return o||(o=t[n]=e.measureText(n).width,i.push(n)),o>s&&(s=o),s}function P_(e,t,i,s){s=s||{};let n=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(n=s.data={},o=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let r=0,a=i.length,l,d,c,h,u;for(l=0;l<a;l++)if(h=i[l],h!=null&&!Fe(h))r=xa(e,n,o,r,h);else if(Fe(h))for(d=0,c=h.length;d<c;d++)u=h[d],u!=null&&!Fe(u)&&(r=xa(e,n,o,r,u));e.restore();let p=o.length/2;if(p>i.length){for(l=0;l<p;l++)delete n[o[l]];o.splice(0,p)}return r}function In(e,t,i){let s=e.currentDevicePixelRatio,n=i!==0?Math.max(i/2,.5):0;return Math.round((t-n)*s)/s+n}function vu(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function yd(e,t,i,s){Cu(e,t,i,s,null)}function Cu(e,t,i,s,n){let o,r,a,l,d,c,h,u,p=t.pointStyle,m=t.rotation,f=t.radius,g=(m||0)*dx;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(i,s),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(f)||f<=0)){switch(e.beginPath(),p){default:n?e.ellipse(i,s,n/2,f,0,0,Ne):e.arc(i,s,f,0,Ne),e.closePath();break;case"triangle":c=n?n/2:f,e.moveTo(i+Math.sin(g)*c,s-Math.cos(g)*f),g+=c_,e.lineTo(i+Math.sin(g)*c,s-Math.cos(g)*f),g+=c_,e.lineTo(i+Math.sin(g)*c,s-Math.cos(g)*f),e.closePath();break;case"rectRounded":d=f*.516,l=f-d,r=Math.cos(g+vo)*l,h=Math.cos(g+vo)*(n?n/2-d:l),a=Math.sin(g+vo)*l,u=Math.sin(g+vo)*(n?n/2-d:l),e.arc(i-h,s-a,d,g-be,g-tt),e.arc(i+u,s-r,d,g-tt,g),e.arc(i+h,s+a,d,g,g+tt),e.arc(i-u,s+r,d,g+tt,g+be),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*f,c=n?n/2:l,e.rect(i-c,s-l,2*c,2*l);break}g+=vo;case"rectRot":h=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,a=Math.sin(g)*f,u=Math.sin(g)*(n?n/2:f),e.moveTo(i-h,s-a),e.lineTo(i+u,s-r),e.lineTo(i+h,s+a),e.lineTo(i-u,s+r),e.closePath();break;case"crossRot":g+=vo;case"cross":h=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,a=Math.sin(g)*f,u=Math.sin(g)*(n?n/2:f),e.moveTo(i-h,s-a),e.lineTo(i+h,s+a),e.moveTo(i+u,s-r),e.lineTo(i-u,s+r);break;case"star":h=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,a=Math.sin(g)*f,u=Math.sin(g)*(n?n/2:f),e.moveTo(i-h,s-a),e.lineTo(i+h,s+a),e.moveTo(i+u,s-r),e.lineTo(i-u,s+r),g+=vo,h=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,a=Math.sin(g)*f,u=Math.sin(g)*(n?n/2:f),e.moveTo(i-h,s-a),e.lineTo(i+h,s+a),e.moveTo(i+u,s-r),e.lineTo(i-u,s+r);break;case"line":r=n?n/2:Math.cos(g)*f,a=Math.sin(g)*f,e.moveTo(i-r,s-a),e.lineTo(i+r,s+a);break;case"dash":e.moveTo(i,s),e.lineTo(i+Math.cos(g)*(n?n/2:f),s+Math.sin(g)*f);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Cs(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function Ma(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ia(e){e.restore()}function k_(e,t,i,s,n){if(!t)return e.lineTo(i.x,i.y);if(n==="middle"){let o=(t.x+i.x)/2;e.lineTo(o,t.y),e.lineTo(o,i.y)}else n==="after"!=!!s?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function L_(e,t,i,s){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function Cx(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),oe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function yx(e,t,i,s,n){if(n.strikethrough||n.underline){let o=e.measureText(s),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,d=i+o.actualBoundingBoxDescent,c=n.strikethrough?(l+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(r,c),e.lineTo(a,c),e.stroke()}}function Sx(e,t){let i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function Rn(e,t,i,s,n,o={}){let r=Fe(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,d;for(e.save(),e.font=n.string,Cx(e,o),l=0;l<r.length;++l)d=r[l],o.backdrop&&Sx(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),oe(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(d,i,s,o.maxWidth)),e.fillText(d,i,s,o.maxWidth),yx(e,i,s,d,o),s+=Number(n.lineHeight);e.restore()}function _r(e,t){let{x:i,y:s,w:n,h:o,radius:r}=t;e.arc(i+r.topLeft,s+r.topLeft,r.topLeft,1.5*be,be,!0),e.lineTo(i,s+o-r.bottomLeft),e.arc(i+r.bottomLeft,s+o-r.bottomLeft,r.bottomLeft,be,tt,!0),e.lineTo(i+n-r.bottomRight,s+o),e.arc(i+n-r.bottomRight,s+o-r.bottomRight,r.bottomRight,tt,0,!0),e.lineTo(i+n,s+r.topRight),e.arc(i+n-r.topRight,s+r.topRight,r.topRight,0,-tt,!0),e.lineTo(i+r.topLeft,s)}var wx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ex=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xx(e,t){let i=(""+e).match(wx);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}var Tx=e=>+e||0;function Sd(e,t){let i={},s=de(t),n=s?Object.keys(t):t,o=de(e)?s?r=>q(e[r],e[t[r]]):r=>e[r]:()=>e;for(let r of n)i[r]=Tx(o(r));return i}function yu(e){return Sd(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Dn(e){return Sd(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Bt(e){let t=yu(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ut(e,t){e=e||{},t=t||De.font;let i=q(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let s=q(e.style,t.style);s&&!(""+s).match(Ex)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);let n={family:q(e.family,t.family),lineHeight:xx(q(e.lineHeight,t.lineHeight),i),size:i,style:s,weight:q(e.weight,t.weight),string:""};return n.string=vx(n),n}function br(e,t,i,s){let n=!0,o,r,a;for(o=0,r=e.length;o<r;++o)if(a=e[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),n=!1),i!==void 0&&Fe(a)&&(a=a[i%a.length],n=!1),a!==void 0))return s&&!n&&(s.cacheable=!1),a}function F_(e,t,i){let{min:s,max:n}=e,o=ou(t,(n-s)/2),r=(a,l)=>i&&a===0?0:a+l;return{min:r(s,-Math.abs(o)),max:r(n,o)}}function Xs(e,t){return Object.assign(Object.create(e),t)}function wd(e,t=[""],i,s,n=()=>e[0]){let o=i||e;typeof s>"u"&&(s=V_("_fallback",e));let r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:n,override:a=>wd([a,...e],t,o,s)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return N_(a,l,()=>kx(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return f_(a).includes(l)},ownKeys(a){return f_(a)},set(a,l,d){let c=a._storage||(a._storage=n());return a[l]=c[l]=d,delete a._keys,!0}})}function yo(e,t,i,s){let n={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:Su(e,s),setContext:o=>yo(e,o,i,s),override:o=>yo(e.override(o),t,i,s)};return new Proxy(n,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return N_(o,r,()=>Mx(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function Su(e,t={scriptable:!0,indexable:!0}){let{_scriptable:i=t.scriptable,_indexable:s=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:i,indexable:s,isScriptable:Us(i)?i:()=>i,isIndexable:Us(s)?s:()=>s}}var Ox=(e,t)=>e?e+gd(t):t,wu=(e,t)=>de(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function N_(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];let s=i();return e[t]=s,s}function Mx(e,t,i){let{_proxy:s,_context:n,_subProxy:o,_descriptors:r}=e,a=s[t];return Us(a)&&r.isScriptable(t)&&(a=Ix(t,a,e,i)),Fe(a)&&a.length&&(a=Rx(t,a,e,r.isIndexable)),wu(t,a)&&(a=yo(a,n,o&&o[t],r)),a}function Ix(e,t,i,s){let{_proxy:n,_context:o,_subProxy:r,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,r||s);return a.delete(e),wu(e,l)&&(l=Eu(n._scopes,n,e,l)),l}function Rx(e,t,i,s){let{_proxy:n,_context:o,_subProxy:r,_descriptors:a}=i;if(typeof o.index<"u"&&s(e))return t[o.index%t.length];if(de(t[0])){let l=t,d=n._scopes.filter(c=>c!==l);t=[];for(let c of l){let h=Eu(d,n,e,c);t.push(yo(h,o,r&&r[e],a))}}return t}function H_(e,t,i){return Us(e)?e(t,i):e}var Dx=(e,t)=>e===!0?t:typeof e=="string"?Ys(t,e):void 0;function Ax(e,t,i,s,n){for(let o of t){let r=Dx(i,o);if(r){e.add(r);let a=H_(r._fallback,i,n);if(typeof a<"u"&&a!==i&&a!==s)return a}else if(r===!1&&typeof s<"u"&&i!==s)return null}return!1}function Eu(e,t,i,s){let n=t._rootScopes,o=H_(t._fallback,i,s),r=[...e,...n],a=new Set;a.add(s);let l=m_(a,r,i,o||i,s);return l===null||typeof o<"u"&&o!==i&&(l=m_(a,r,o,l,s),l===null)?!1:wd(Array.from(a),[""],n,o,()=>Px(t,i,s))}function m_(e,t,i,s,n){for(;i;)i=Ax(e,t,i,s,n);return i}function Px(e,t,i){let s=e._getTarget();t in s||(s[t]={});let n=s[t];return Fe(n)&&de(i)?i:n||{}}function kx(e,t,i,s){let n;for(let o of t)if(n=V_(Ox(o,e),i),typeof n<"u")return wu(e,n)?Eu(i,s,e,n):n}function V_(e,t){for(let i of t){if(!i)continue;let s=i[e];if(typeof s<"u")return s}}function f_(e){let t=e._keys;return t||(t=e._keys=Lx(e._scopes)),t}function Lx(e){let t=new Set;for(let i of e)for(let s of Object.keys(i).filter(n=>!n.startsWith("_")))t.add(s);return Array.from(t)}function xu(e,t,i,s){let{iScale:n}=e,{key:o="r"}=this._parsing,r=new Array(s),a,l,d,c;for(a=0,l=s;a<l;++a)d=a+i,c=t[d],r[a]={r:n.parse(Ys(c,o),d)};return r}var Fx=Number.EPSILON||1e-14,hr=(e,t)=>t<e.length&&!e[t].skip&&e[t],B_=e=>e==="x"?"y":"x";function Nx(e,t,i,s){let n=e.skip?t:e,o=t,r=i.skip?t:i,a=md(o,n),l=md(r,o),d=a/(a+l),c=l/(a+l);d=isNaN(d)?0:d,c=isNaN(c)?0:c;let h=s*d,u=s*c;return{previous:{x:o.x-h*(r.x-n.x),y:o.y-h*(r.y-n.y)},next:{x:o.x+u*(r.x-n.x),y:o.y+u*(r.y-n.y)}}}function Hx(e,t,i){let s=e.length,n,o,r,a,l,d=hr(e,0);for(let c=0;c<s-1;++c)if(l=d,d=hr(e,c+1),!(!l||!d)){if(mr(t[c],0,Fx)){i[c]=i[c+1]=0;continue}n=i[c]/t[c],o=i[c+1]/t[c],a=Math.pow(n,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),i[c]=n*r*t[c],i[c+1]=o*r*t[c])}}function Vx(e,t,i="x"){let s=B_(i),n=e.length,o,r,a,l=hr(e,0);for(let d=0;d<n;++d){if(r=a,a=l,l=hr(e,d+1),!a)continue;let c=a[i],h=a[s];r&&(o=(c-r[i])/3,a[`cp1${i}`]=c-o,a[`cp1${s}`]=h-o*t[d]),l&&(o=(l[i]-c)/3,a[`cp2${i}`]=c+o,a[`cp2${s}`]=h+o*t[d])}}function Bx(e,t="x"){let i=B_(t),s=e.length,n=Array(s).fill(0),o=Array(s),r,a,l,d=hr(e,0);for(r=0;r<s;++r)if(a=l,l=d,d=hr(e,r+1),!!l){if(d){let c=d[t]-l[t];n[r]=c!==0?(d[i]-l[i])/c:0}o[r]=a?d?ss(n[r-1])!==ss(n[r])?0:(n[r-1]+n[r])/2:n[r-1]:n[r]}Hx(e,n,o),Vx(e,o,t)}function dd(e,t,i){return Math.max(Math.min(e,i),t)}function zx(e,t){let i,s,n,o,r,a=Cs(e[0],t);for(i=0,s=e.length;i<s;++i)r=o,o=a,a=i<s-1&&Cs(e[i+1],t),o&&(n=e[i],r&&(n.cp1x=dd(n.cp1x,t.left,t.right),n.cp1y=dd(n.cp1y,t.top,t.bottom)),a&&(n.cp2x=dd(n.cp2x,t.left,t.right),n.cp2y=dd(n.cp2y,t.top,t.bottom)))}function z_(e,t,i,s,n){let o,r,a,l;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")Bx(e,n);else{let d=s?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],l=Nx(d,a,e[Math.min(o+1,r-(s?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,d=a}t.capBezierPoints&&zx(e,i)}function Ed(){return typeof window<"u"&&typeof document<"u"}function xd(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function fd(e,t,i){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[i])):s=e,s}var Td=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Wx(e,t){return Td(e).getPropertyValue(t)}var $x=["top","right","bottom","left"];function Co(e,t,i){let s={};i=i?"-"+i:"";for(let n=0;n<4;n++){let o=$x[n];s[o]=parseFloat(e[t+"-"+o+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}var Gx=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function Ux(e,t){let i=e.touches,s=i&&i.length?i[0]:e,{offsetX:n,offsetY:o}=s,r=!1,a,l;if(Gx(n,o,e.target))a=n,l=o;else{let d=t.getBoundingClientRect();a=s.clientX-d.left,l=s.clientY-d.top,r=!0}return{x:a,y:l,box:r}}function An(e,t){if("native"in e)return e;let{canvas:i,currentDevicePixelRatio:s}=t,n=Td(i),o=n.boxSizing==="border-box",r=Co(n,"padding"),a=Co(n,"border","width"),{x:l,y:d,box:c}=Ux(e,i),h=r.left+(c&&a.left),u=r.top+(c&&a.top),{width:p,height:m}=t;return o&&(p-=r.width+a.width,m-=r.height+a.height),{x:Math.round((l-h)/p*i.width/s),y:Math.round((d-u)/m*i.height/s)}}function jx(e,t,i){let s,n;if(t===void 0||i===void 0){let o=e&&xd(e);if(!o)t=e.clientWidth,i=e.clientHeight;else{let r=o.getBoundingClientRect(),a=Td(o),l=Co(a,"border","width"),d=Co(a,"padding");t=r.width-d.width-l.width,i=r.height-d.height-l.height,s=fd(a.maxWidth,o,"clientWidth"),n=fd(a.maxHeight,o,"clientHeight")}}return{width:t,height:i,maxWidth:s||pd,maxHeight:n||pd}}var cd=e=>Math.round(e*10)/10;function W_(e,t,i,s){let n=Td(e),o=Co(n,"margin"),r=fd(n.maxWidth,e,"clientWidth")||pd,a=fd(n.maxHeight,e,"clientHeight")||pd,l=jx(e,t,i),{width:d,height:c}=l;if(n.boxSizing==="content-box"){let u=Co(n,"border","width"),p=Co(n,"padding");d-=p.width+u.width,c-=p.height+u.height}return d=Math.max(0,d-o.width),c=Math.max(0,s?d/s:c-o.height),d=cd(Math.min(d,r,l.maxWidth)),c=cd(Math.min(c,a,l.maxHeight)),d&&!c&&(c=cd(d/2)),(t!==void 0||i!==void 0)&&s&&l.height&&c>l.height&&(c=l.height,d=cd(Math.floor(c*s))),{width:d,height:c}}function Tu(e,t,i){let s=t||1,n=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let r=e.canvas;return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||r.height!==n||r.width!==o?(e.currentDevicePixelRatio=s,r.height=n,r.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}var $_=(function(){let e=!1;try{let t={get passive(){return e=!0,!1}};Ed()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function Ou(e,t){let i=Wx(e,t),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function On(e,t,i,s){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function G_(e,t,i,s){return{x:e.x+i*(t.x-e.x),y:s==="middle"?i<.5?e.y:t.y:s==="after"?i<1?e.y:t.y:i>0?t.y:e.y}}function U_(e,t,i,s){let n={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=On(e,n,i),a=On(n,o,i),l=On(o,t,i),d=On(r,a,i),c=On(a,l,i);return On(d,c,i)}var Yx=function(e,t){return{x(i){return e+e+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,s){return i-s},leftForLtr(i,s){return i-s}}},Xx=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function wo(e,t,i){return e?Yx(t,i):Xx()}function Mu(e,t){let i,s;(t==="ltr"||t==="rtl")&&(i=e.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=s)}function Iu(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function j_(e){return e==="angle"?{between:fr,compare:hx,normalize:Ht}:{between:Ss,compare:(t,i)=>t-i,normalize:t=>t}}function g_({start:e,end:t,count:i,loop:s,style:n}){return{start:e%i,end:t%i,loop:s&&(t-e+1)%i===0,style:n}}function Kx(e,t,i){let{property:s,start:n,end:o}=i,{between:r,normalize:a}=j_(s),l=t.length,{start:d,end:c,loop:h}=e,u,p;if(h){for(d+=l,c+=l,u=0,p=l;u<p&&r(a(t[d%l][s]),n,o);++u)d--,c--;d%=l,c%=l}return c<d&&(c+=l),{start:d,end:c,loop:h,style:e.style}}function Ru(e,t,i){if(!i)return[e];let{property:s,start:n,end:o}=i,r=t.length,{compare:a,between:l,normalize:d}=j_(s),{start:c,end:h,loop:u,style:p}=Kx(e,t,i),m=[],f=!1,g=null,_,v,C,y=()=>l(n,C,_)&&a(n,C)!==0,S=()=>a(o,_)===0||l(o,C,_),x=()=>f||y(),I=()=>!f||S();for(let w=c,D=c;w<=h;++w)v=t[w%r],!v.skip&&(_=d(v[s]),_!==C&&(f=l(_,n,o),g===null&&x()&&(g=a(_,n)===0?w:D),g!==null&&I()&&(m.push(g_({start:g,end:w,loop:u,count:r,style:p})),g=null),D=w,C=_));return g!==null&&m.push(g_({start:g,end:h,loop:u,count:r,style:p})),m}function Du(e,t){let i=[],s=e.segments;for(let n=0;n<s.length;n++){let o=Ru(s[n],e.points,t);o.length&&i.push(...o)}return i}function qx(e,t,i,s){let n=0,o=t-1;if(i&&!s)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,i&&(o+=n);o>n&&e[o%t].skip;)o--;return o%=t,{start:n,end:o}}function Qx(e,t,i,s){let n=e.length,o=[],r=t,a=e[t],l;for(l=t+1;l<=i;++l){let d=e[l%n];d.skip||d.stop?a.skip||(s=!1,o.push({start:t%n,end:(l-1)%n,loop:s}),t=r=d.stop?l:null):(r=l,a.skip&&(t=l)),a=d}return r!==null&&o.push({start:t%n,end:r%n,loop:s}),o}function Y_(e,t){let i=e.points,s=e.options.spanGaps,n=i.length;if(!n)return[];let o=!!e._loop,{start:r,end:a}=qx(i,n,o,s);if(s===!0)return __(e,[{start:r,end:a,loop:o}],i,t);let l=a<r?a+n:a,d=!!e._fullLoop&&r===0&&a===n-1;return __(e,Qx(i,r,l,d),i,t)}function __(e,t,i,s){return!s||!s.setContext||!i?t:Zx(e,t,i,s)}function Zx(e,t,i,s){let n=e._chart.getContext(),o=b_(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=i.length,d=[],c=o,h=t[0].start,u=h;function p(m,f,g,_){let v=a?-1:1;if(m!==f){for(m+=l;i[m%l].skip;)m-=v;for(;i[f%l].skip;)f+=v;m%l!==f%l&&(d.push({start:m%l,end:f%l,loop:g,style:_}),c=_,h=f%l)}}for(let m of t){h=a?h:m.start;let f=i[h%l],g;for(u=h+1;u<=m.end;u++){let _=i[u%l];g=b_(s.setContext(Xs(n,{type:"segment",p0:f,p1:_,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:r}))),Jx(g,c)&&p(h,u-1,m.loop,c),f=_,c=g}h<u-1&&p(h,u-1,m.loop,c)}return d}function b_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Jx(e,t){if(!t)return!1;let i=[],s=function(n,o){return _u(o)?(i.includes(o)||i.push(o),i.indexOf(o)):o};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function hd(e,t,i){return e.options.clip?e[i]:t[i]}function eT(e,t){let{xScale:i,yScale:s}=e;return i&&s?{left:hd(i,t,"left"),right:hd(i,t,"right"),top:hd(s,t,"top"),bottom:hd(s,t,"bottom")}:t}function Au(e,t){let i=t._clip;if(i.disabled)return!1;let s=eT(t,e.chartArea);return{left:i.left===!1?0:s.left-(i.left===!0?0:i.left),right:i.right===!1?e.width:s.right+(i.right===!0?0:i.right),top:i.top===!1?0:s.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?e.height:s.bottom+(i.bottom===!0?0:i.bottom)}}var Gu=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,s,n){let o=i.listeners[n],r=i.duration;o.forEach(a=>a({chart:t,initial:i.initial,numSteps:r,currentStep:Math.min(s-i.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=pu.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((s,n)=>{if(!s.running||!s.items.length)return;let o=s.items,r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(n.draw(),this._notify(n,s,t,"progress")),o.length||(s.running=!1,this._notify(n,s,t,"complete"),s.initial=!1),i+=o.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){let i=this._charts,s=i.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,s)),s}listen(t,i,s){this._getAnims(t).listeners[i].push(s)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){let i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((s,n)=>Math.max(s,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;let i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){let i=this._charts.get(t);if(!i||!i.items.length)return;let s=i.items,n=s.length-1;for(;n>=0;--n)s[n].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Ks=new Gu,X_="transparent",tT={boolean(e,t,i){return i>.5?t:e},color(e,t,i){let s=bu(e||X_),n=s.valid&&bu(t||X_);return n&&n.valid?n.mix(s,i).hexString():t},number(e,t,i){return e+(t-e)*i}},Uu=class{constructor(t,i,s,n){let o=i[s];n=br([t.to,n,o,t.from]);let r=br([t.from,o,n]);this._active=!0,this._fn=t.fn||tT[t.type||typeof r],this._easing=dr[t.easing]||dr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=s,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(t,i,s){if(this._active){this._notify(!1);let n=this._target[this._prop],o=s-this._start,r=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=br([t.to,i,n,t.from]),this._from=br([t.from,n,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let i=t-this._start,s=this._duration,n=this._prop,o=this._from,r=this._loop,a=this._to,l;if(this._active=o!==a&&(r||i<s),!this._active){this._target[n]=a,this._notify(!0);return}if(i<0){this._target[n]=o;return}l=i/s%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((i,s)=>{t.push({res:i,rej:s})})}_notify(t){let i=t?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][i]()}},Ld=class{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!de(t))return;let i=Object.keys(De.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{let o=t[n];if(!de(o))return;let r={};for(let a of i)r[a]=o[a];(Fe(o.properties)&&o.properties||[n]).forEach(a=>{(a===n||!s.has(a))&&s.set(a,r)})})}_animateOptions(t,i){let s=i.options,n=sT(t,s);if(!n)return[];let o=this._createAnimations(n,s);return s.$shared&&iT(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,i){let s=this._properties,n=[],o=t.$animations||(t.$animations={}),r=Object.keys(i),a=Date.now(),l;for(l=r.length-1;l>=0;--l){let d=r[l];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(t,i));continue}let c=i[d],h=o[d],u=s.get(d);if(h)if(u&&h.active()){h.update(u,c,a);continue}else h.cancel();if(!u||!u.duration){t[d]=c;continue}o[d]=h=new Uu(u,t,d,c),n.push(h)}return n}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}let s=this._createAnimations(t,i);if(s.length)return Ks.add(this._chart,s),!0}};function iT(e,t){let i=[],s=Object.keys(t);for(let n=0;n<s.length;n++){let o=e[s[n]];o&&o.active()&&i.push(o.wait())}return Promise.all(i)}function sT(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function K_(e,t){let i=e&&e.options||{},s=i.reverse,n=i.min===void 0?t:0,o=i.max===void 0?t:0;return{start:s?o:n,end:s?n:o}}function nT(e,t,i){if(i===!1)return!1;let s=K_(e,i),n=K_(t,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}function oT(e){let t,i,s,n;return de(e)?(t=e.top,i=e.right,s=e.bottom,n=e.left):t=i=s=n=e,{top:t,right:i,bottom:s,left:n,disabled:e===!1}}function Xb(e,t){let i=[],s=e._getSortedDatasetMetas(t),n,o;for(n=0,o=s.length;n<o;++n)i.push(s[n].index);return i}function q_(e,t,i,s={}){let n=e.keys,o=s.mode==="single",r,a,l,d;if(t===null)return;let c=!1;for(r=0,a=n.length;r<a;++r){if(l=+n[r],l===i){if(c=!0,s.all)continue;break}d=e.values[l],Ye(d)&&(o||t===0||ss(t)===ss(d))&&(t+=d)}return!c&&!s.all?0:t}function rT(e,t){let{iScale:i,vScale:s}=t,n=i.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length),l,d,c;for(l=0,d=r.length;l<d;++l)c=r[l],a[l]={[n]:c,[o]:e[c]};return a}function Pu(e,t){let i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function aT(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function lT(e){let{min:t,max:i,minDefined:s,maxDefined:n}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}function dT(e,t,i){let s=e[t]||(e[t]={});return s[i]||(s[i]={})}function Q_(e,t,i,s){for(let n of t.getMatchingVisibleMetas(s).reverse()){let o=e[n.index];if(i&&o>0||!i&&o<0)return n.index}return null}function Z_(e,t){let{chart:i,_cachedMeta:s}=e,n=i._stacks||(i._stacks={}),{iScale:o,vScale:r,index:a}=s,l=o.axis,d=r.axis,c=aT(o,r,s),h=t.length,u;for(let p=0;p<h;++p){let m=t[p],{[l]:f,[d]:g}=m,_=m._stacks||(m._stacks={});u=_[d]=dT(n,c,f),u[a]=g,u._top=Q_(u,r,!0,s.type),u._bottom=Q_(u,r,!1,s.type);let v=u._visualValues||(u._visualValues={});v[a]=g}}function ku(e,t){let i=e.scales;return Object.keys(i).filter(s=>i[s].axis===t).shift()}function cT(e,t){return Xs(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function hT(e,t,i){return Xs(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function Ra(e,t){let i=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(let n of t){let o=n._stacks;if(!o||o[s]===void 0||o[s][i]===void 0)return;delete o[s][i],o[s]._visualValues!==void 0&&o[s]._visualValues[i]!==void 0&&delete o[s]._visualValues[i]}}}var Lu=e=>e==="reset"||e==="none",J_=(e,t)=>t?e:Object.assign({},e),uT=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:Xb(i,!0),values:null},kn=(()=>{class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(i,s){this.chart=i,this._ctx=i.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=Pu(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&Ra(this._cachedMeta),this.index=i}linkScales(){let i=this.chart,s=this._cachedMeta,n=this.getDataset(),o=(u,p,m,f)=>u==="x"?p:u==="r"?f:m,r=s.xAxisID=q(n.xAxisID,ku(i,"x")),a=s.yAxisID=q(n.yAxisID,ku(i,"y")),l=s.rAxisID=q(n.rAxisID,ku(i,"r")),d=s.indexAxis,c=s.iAxisID=o(d,r,a,l),h=s.vAxisID=o(d,a,r,l);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(a),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){let s=this._cachedMeta;return i===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){let i=this._cachedMeta;this._data&&hu(this._data,this),i._stacked&&Ra(i)}_dataCheck(){let i=this.getDataset(),s=i.data||(i.data=[]),n=this._data;if(de(s)){let o=this._cachedMeta;this._data=rT(s,o)}else if(n!==s){if(n){hu(n,this);let o=this._cachedMeta;Ra(o),o._parsed=[]}s&&Object.isExtensible(s)&&I_(s,this),this._syncList=[],this._data=s}}addElements(){let i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){let s=this._cachedMeta,n=this.getDataset(),o=!1;this._dataCheck();let r=s._stacked;s._stacked=Pu(s.vScale,s),s.stack!==n.stack&&(o=!0,Ra(s),s.stack=n.stack),this._resyncElements(i),(o||r!==s._stacked)&&(Z_(this,s._parsed),s._stacked=Pu(s.vScale,s))}configure(){let i=this.chart.config,s=i.datasetScopeKeys(this._type),n=i.getOptionScopes(this.getDataset(),s,!0);this.options=i.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,s){let{_cachedMeta:n,_data:o}=this,{iScale:r,_stacked:a}=n,l=r.axis,d=i===0&&s===o.length?!0:n._sorted,c=i>0&&n._parsed[i-1],h,u,p;if(this._parsing===!1)n._parsed=o,n._sorted=!0,p=o;else{Fe(o[i])?p=this.parseArrayData(n,o,i,s):de(o[i])?p=this.parseObjectData(n,o,i,s):p=this.parsePrimitiveData(n,o,i,s);let m=()=>u[l]===null||c&&u[l]<c[l];for(h=0;h<s;++h)n._parsed[h+i]=u=p[h],d&&(m()&&(d=!1),c=u);n._sorted=d}a&&Z_(this,p)}parsePrimitiveData(i,s,n,o){let{iScale:r,vScale:a}=i,l=r.axis,d=a.axis,c=r.getLabels(),h=r===a,u=new Array(o),p,m,f;for(p=0,m=o;p<m;++p)f=p+n,u[p]={[l]:h||r.parse(c[f],f),[d]:a.parse(s[f],f)};return u}parseArrayData(i,s,n,o){let{xScale:r,yScale:a}=i,l=new Array(o),d,c,h,u;for(d=0,c=o;d<c;++d)h=d+n,u=s[h],l[d]={x:r.parse(u[0],h),y:a.parse(u[1],h)};return l}parseObjectData(i,s,n,o){let{xScale:r,yScale:a}=i,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,c=new Array(o),h,u,p,m;for(h=0,u=o;h<u;++h)p=h+n,m=s[p],c[h]={x:r.parse(Ys(m,l),p),y:a.parse(Ys(m,d),p)};return c}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,s,n){let o=this.chart,r=this._cachedMeta,a=s[i.axis],l={keys:Xb(o,!0),values:s._stacks[i.axis]._visualValues};return q_(l,a,r.index,{mode:n})}updateRangeFromParsed(i,s,n,o){let r=n[s.axis],a=r===null?NaN:r,l=o&&n._stacks[s.axis];o&&l&&(o.values=l,a=q_(o,r,this._cachedMeta.index)),i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}getMinMax(i,s){let n=this._cachedMeta,o=n._parsed,r=n._sorted&&i===n.iScale,a=o.length,l=this._getOtherScale(i),d=uT(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=lT(l),p,m;function f(){m=o[p];let g=m[l.axis];return!Ye(m[i.axis])||h>g||u<g}for(p=0;p<a&&!(!f()&&(this.updateRangeFromParsed(c,i,m,d),r));++p);if(r){for(p=a-1;p>=0;--p)if(!f()){this.updateRangeFromParsed(c,i,m,d);break}}return c}getAllParsedValues(i){let s=this._cachedMeta._parsed,n=[],o,r,a;for(o=0,r=s.length;o<r;++o)a=s[o][i.axis],Ye(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(i){let s=this._cachedMeta,n=s.iScale,o=s.vScale,r=this.getParsed(i);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(i){let s=this._cachedMeta;this.update(i||"default"),s._clip=oT(q(this.options.clip,nT(s.xScale,s.yScale,this.getMaxOverflow())))}update(i){}draw(){let i=this._ctx,s=this.chart,n=this._cachedMeta,o=n.data||[],r=s.chartArea,a=[],l=this._drawStart||0,d=this._drawCount||o.length-l,c=this.options.drawActiveElementsOnTop,h;for(n.dataset&&n.dataset.draw(i,r,l,d),h=l;h<l+d;++h){let u=o[h];u.hidden||(u.active&&c?a.push(u):u.draw(i,r))}for(h=0;h<a.length;++h)a[h].draw(i,r)}getStyle(i,s){let n=s?"active":"default";return i===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(i||0,n)}getContext(i,s,n){let o=this.getDataset(),r;if(i>=0&&i<this._cachedMeta.data.length){let a=this._cachedMeta.data[i];r=a.$context||(a.$context=hT(this.getContext(),i,a)),r.parsed=this.getParsed(i),r.raw=o.data[i],r.index=r.dataIndex=i}else r=this.$context||(this.$context=cT(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=n,r}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,s){return this._resolveElementOptions(this.dataElementType.id,s,i)}_resolveElementOptions(i,s="default",n){let o=s==="active",r=this._cachedDataOpts,a=i+"-"+s,l=r[a],d=this.enableOptionSharing&&pr(n);if(l)return J_(l,d);let c=this.chart.config,h=c.datasetElementScopeKeys(this._type,i),u=o?[`${i}Hover`,"hover",i,""]:[i,""],p=c.getOptionScopes(this.getDataset(),h),m=Object.keys(De.elements[i]),f=()=>this.getContext(n,o,s),g=c.resolveNamedOptions(p,m,f,u);return g.$shared&&(g.$shared=d,r[a]=Object.freeze(J_(g,d))),g}_resolveAnimations(i,s,n){let o=this.chart,r=this._cachedDataOpts,a=`animation-${s}`,l=r[a];if(l)return l;let d;if(o.options.animation!==!1){let h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,s),p=h.getOptionScopes(this.getDataset(),u);d=h.createResolver(p,this.getContext(i,n,s))}let c=new Ld(o,d&&d.animations);return d&&d._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,s){return!s||Lu(i)||this.chart._animationsDisabled}_getSharedOptions(i,s){let n=this.resolveDataElementOptions(i,s),o=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(s,r)||r!==o;return this.updateSharedOptions(r,s,n),{sharedOptions:r,includeOptions:a}}updateElement(i,s,n,o){Lu(o)?Object.assign(i,n):this._resolveAnimations(s,o).update(i,n)}updateSharedOptions(i,s,n){i&&!Lu(s)&&this._resolveAnimations(void 0,s).update(i,n)}_setStyle(i,s,n,o){i.active=o;let r=this.getStyle(s,o);this._resolveAnimations(s,n,o).update(i,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(i,s,n){this._setStyle(i,n,"active",!1)}setHoverStyle(i,s,n){this._setStyle(i,n,"active",!0)}_removeDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){let s=this._data,n=this._cachedMeta.data;for(let[l,d,c]of this._syncList)this[l](d,c);this._syncList=[];let o=n.length,r=s.length,a=Math.min(r,o);a&&this.parse(0,a),r>o?this._insertElements(o,r-o,i):r<o&&this._removeElements(r,o-r)}_insertElements(i,s,n=!0){let o=this._cachedMeta,r=o.data,a=i+s,l,d=c=>{for(c.length+=s,l=c.length-1;l>=a;l--)c[l]=c[l-s]};for(d(r),l=i;l<a;++l)r[l]=new this.dataElementType;this._parsing&&d(o._parsed),this.parse(i,s),n&&this.updateElements(r,i,s,"reset")}updateElements(i,s,n,o){}_removeElements(i,s){let n=this._cachedMeta;if(this._parsing){let o=n._parsed.splice(i,s);n._stacked&&Ra(n,o)}n.data.splice(i,s)}_sync(i){if(this._parsing)this._syncList.push(i);else{let[s,n,o]=i;this[s](n,o)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){let i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,s){s&&this._sync(["_removeElements",i,s]);let n=arguments.length-2;n&&this._sync(["_insertElements",i,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e})();function pT(e,t){if(!e._cache.$bar){let i=e.getMatchingVisibleMetas(t),s=[];for(let n=0,o=i.length;n<o;n++)s=s.concat(i[n].controller.getAllParsedValues(e));e._cache.$bar=uu(s.sort((n,o)=>n-o))}return e._cache.$bar}function mT(e){let t=e.iScale,i=pT(t,e.type),s=t._length,n,o,r,a,l=()=>{r===32767||r===-32768||(pr(a)&&(s=Math.min(s,Math.abs(r-a)||s)),a=r)};for(n=0,o=i.length;n<o;++n)r=t.getPixelForValue(i[n]),l();for(a=void 0,n=0,o=t.ticks.length;n<o;++n)r=t.getPixelForTick(n),l();return s}function fT(e,t,i,s){let n=i.barThickness,o,r;return oe(n)?(o=t.min*i.categoryPercentage,r=i.barPercentage):(o=n*s,r=1),{chunk:o/s,ratio:r,start:t.pixels[e]-o/2}}function gT(e,t,i,s){let n=t.pixels,o=n[e],r=e>0?n[e-1]:null,a=e<n.length-1?n[e+1]:null,l=i.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);let d=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/s,ratio:i.barPercentage,start:d}}function _T(e,t,i,s){let n=i.parse(e[0],s),o=i.parse(e[1],s),r=Math.min(n,o),a=Math.max(n,o),l=r,d=a;Math.abs(r)>Math.abs(a)&&(l=a,d=r),t[i.axis]=d,t._custom={barStart:l,barEnd:d,start:n,end:o,min:r,max:a}}function Kb(e,t,i,s){return Fe(e)?_T(e,t,i,s):t[i.axis]=i.parse(e,s),t}function eb(e,t,i,s){let n=e.iScale,o=e.vScale,r=n.getLabels(),a=n===o,l=[],d,c,h,u;for(d=i,c=i+s;d<c;++d)u=t[d],h={},h[n.axis]=a||n.parse(r[d],d),l.push(Kb(u,h,o,d));return l}function Fu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function bT(e,t,i){return e!==0?ss(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}function vT(e){let t,i,s,n,o;return e.horizontal?(t=e.base>e.x,i="left",s="right"):(t=e.base<e.y,i="bottom",s="top"),t?(n="end",o="start"):(n="start",o="end"),{start:i,end:s,reverse:t,top:n,bottom:o}}function CT(e,t,i,s){let n=t.borderSkipped,o={};if(!n){e.borderSkipped=o;return}if(n===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:r,end:a,reverse:l,top:d,bottom:c}=vT(e);n==="middle"&&i&&(e.enableBorderRadius=!0,(i._top||0)===s?n=d:(i._bottom||0)===s?n=c:(o[tb(c,r,a,l)]=!0,n=d)),o[tb(n,r,a,l)]=!0,e.borderSkipped=o}function tb(e,t,i,s){return s?(e=yT(e,t,i),e=ib(e,i,t)):e=ib(e,t,i),e}function yT(e,t,i){return e===t?i:e===i?t:e}function ib(e,t,i){return e==="start"?t:e==="end"?i:e}function ST(e,{inflateAmount:t},i){e.inflateAmount=t==="auto"?i===1?.33:0:t}var wT=(()=>{class e extends kn{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(i,s,n,o){return eb(i,s,n,o)}parseArrayData(i,s,n,o){return eb(i,s,n,o)}parseObjectData(i,s,n,o){let{iScale:r,vScale:a}=i,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,c=r.axis==="x"?l:d,h=a.axis==="x"?l:d,u=[],p,m,f,g;for(p=n,m=n+o;p<m;++p)g=s[p],f={},f[r.axis]=r.parse(Ys(g,c),p),u.push(Kb(Ys(g,h),f,a,p));return u}updateRangeFromParsed(i,s,n,o){super.updateRangeFromParsed(i,s,n,o);let r=n._custom;r&&s===this._cachedMeta.vScale&&(i.min=Math.min(i.min,r.min),i.max=Math.max(i.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(i){let s=this._cachedMeta,{iScale:n,vScale:o}=s,r=this.getParsed(i),a=r._custom,l=Fu(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let i=this._cachedMeta;i.stack=this.getDataset().stack}update(i){let s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,i)}updateElements(i,s,n,o){let r=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,d=l.getBasePixel(),c=l.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:p}=this._getSharedOptions(s,o);for(let m=s;m<s+n;m++){let f=this.getParsed(m),g=r||oe(f[l.axis])?{base:d,head:d}:this._calculateBarValuePixels(m),_=this._calculateBarIndexPixels(m,h),v=(f._stacks||{})[l.axis],C={horizontal:c,base:g.base,enableBorderRadius:!v||Fu(f._custom)||a===v._top||a===v._bottom,x:c?g.head:_.center,y:c?_.center:g.head,height:c?_.size:Math.abs(g.size),width:c?Math.abs(g.size):_.size};p&&(C.options=u||this.resolveDataElementOptions(m,i[m].active?"active":o));let y=C.options||i[m].options;CT(C,y,v,a),ST(C,y,h.ratio),this.updateElement(i[m],m,C,o)}}_getStacks(i,s){let{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=n.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(s),d=l&&l[n.axis],c=h=>{let u=h._parsed.find(m=>m[n.axis]===d),p=u&&u[h.vScale.axis];if(oe(p)||isNaN(p))return!0};for(let h of o)if(!(s!==void 0&&c(h))&&((r===!1||a.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===i))break;return a.length||a.push(void 0),a}_getStackCount(i){return this._getStacks(void 0,i).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let i=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(i).filter(n=>i[n].axis===s).shift()}_getAxis(){let i={},s=this.getFirstScaleIdForIndexAxis();for(let n of this.chart.data.datasets)i[q(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(i)}_getStackIndex(i,s,n){let o=this._getStacks(i,n),r=s!==void 0?o.indexOf(s):-1;return r===-1?o.length-1:r}_getRuler(){let i=this.options,s=this._cachedMeta,n=s.iScale,o=[],r,a;for(r=0,a=s.data.length;r<a;++r)o.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));let l=i.barThickness;return{min:l||mT(s),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:i.grouped,ratio:l?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){let{_cachedMeta:{vScale:s,_stacked:n,index:o},options:{base:r,minBarLength:a}}=this,l=r||0,d=this.getParsed(i),c=d._custom,h=Fu(c),u=d[s.axis],p=0,m=n?this.applyStack(s,d,n):u,f,g;m!==u&&(p=m-u,m=u),h&&(u=c.barStart,m=c.barEnd-c.barStart,u!==0&&ss(u)!==ss(c.barEnd)&&(p=0),p+=u);let _=!oe(r)&&!h?r:p,v=s.getPixelForValue(_);if(this.chart.getDataVisibility(i)?f=s.getPixelForValue(p+m):f=v,g=f-v,Math.abs(g)<a){g=bT(g,s,l)*a,u===l&&(v-=g/2);let C=s.getPixelForDecimal(0),y=s.getPixelForDecimal(1),S=Math.min(C,y),x=Math.max(C,y);v=Math.max(Math.min(v,x),S),f=v+g,n&&!h&&(d._stacks[s.axis]._visualValues[o]=s.getValueForPixel(f)-s.getValueForPixel(v))}if(v===s.getPixelForValue(l)){let C=ss(g)*s.getLineWidthForValue(l)/2;v+=C,g-=C}return{size:g,base:v,head:f,center:f+g/2}}_calculateBarIndexPixels(i,s){let n=s.scale,o=this.options,r=o.skipNull,a=q(o.maxBarThickness,1/0),l,d,c=this._getAxisCount();if(s.grouped){let h=r?this._getStackCount(i):s.stackCount,u=o.barThickness==="flex"?gT(i,s,o,h*c):fT(i,s,o,h*c),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(q(p,this.getFirstScaleIdForIndexAxis())),f=this._getStackIndex(this.index,this._cachedMeta.stack,r?i:void 0)+m;l=u.start+u.chunk*f+u.chunk/2,d=Math.min(a,u.chunk*u.ratio)}else l=n.getPixelForValue(this.getParsed(i)[n.axis],i),d=Math.min(a,s.min*s.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}}draw(){let i=this._cachedMeta,s=i.vScale,n=i.data,o=n.length,r=0;for(;r<o;++r)this.getParsed(r)[s.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}return e})(),ET=(()=>{class e extends kn{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,s,n,o){let r=super.parsePrimitiveData(i,s,n,o);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+n).radius;return r}parseArrayData(i,s,n,o){let r=super.parseArrayData(i,s,n,o);for(let a=0;a<r.length;a++){let l=s[n+a];r[a]._custom=q(l[2],this.resolveDataElementOptions(a+n).radius)}return r}parseObjectData(i,s,n,o){let r=super.parseObjectData(i,s,n,o);for(let a=0;a<r.length;a++){let l=s[n+a];r[a]._custom=q(l&&l.r&&+l.r,this.resolveDataElementOptions(a+n).radius)}return r}getMaxOverflow(){let i=this._cachedMeta.data,s=0;for(let n=i.length-1;n>=0;--n)s=Math.max(s,i[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(i){let s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=s,a=this.getParsed(i),l=o.getLabelForValue(a.x),d=r.getLabelForValue(a.y),c=a._custom;return{label:n[i]||"",value:"("+l+", "+d+(c?", "+c:"")+")"}}update(i){let s=this._cachedMeta.data;this.updateElements(s,0,s.length,i)}updateElements(i,s,n,o){let r=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:d,includeOptions:c}=this._getSharedOptions(s,o),h=a.axis,u=l.axis;for(let p=s;p<s+n;p++){let m=i[p],f=!r&&this.getParsed(p),g={},_=g[h]=r?a.getPixelForDecimal(.5):a.getPixelForValue(f[h]),v=g[u]=r?l.getBasePixel():l.getPixelForValue(f[u]);g.skip=isNaN(_)||isNaN(v),c&&(g.options=d||this.resolveDataElementOptions(p,m.active?"active":o),r&&(g.options.radius=0)),this.updateElement(m,p,g,o)}}resolveDataElementOptions(i,s){let n=this.getParsed(i),o=super.resolveDataElementOptions(i,s);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let r=o.radius;return s!=="active"&&(o.radius=0),o.radius+=q(n&&n._custom,r),o}}return e})();function xT(e,t,i){let s=1,n=1,o=0,r=0;if(t<Ne){let a=e,l=a+t,d=Math.cos(a),c=Math.sin(a),h=Math.cos(l),u=Math.sin(l),p=(C,y,S)=>fr(C,a,l,!0)?1:Math.max(y,y*i,S,S*i),m=(C,y,S)=>fr(C,a,l,!0)?-1:Math.min(y,y*i,S,S*i),f=p(0,d,h),g=p(tt,c,u),_=m(be,d,h),v=m(be+tt,c,u);s=(f-_)/2,n=(g-v)/2,o=-(f+_)/2,r=-(g+v)/2}return{ratioX:s,ratioY:n,offsetX:o,offsetY:r}}var hp=(()=>{class e extends kn{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){let s=i.data;if(s.labels.length&&s.datasets.length){let{labels:{pointStyle:n,color:o}}=i.legend.options;return s.labels.map((r,a)=>{let d=i.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:o,lineWidth:d.borderWidth,pointStyle:n,hidden:!i.getDataVisibility(a),index:a}})}return[]}},onClick(i,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}};constructor(i,s){super(i,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,s){let n=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=n;else{let r=d=>+n[d];if(de(n[i])){let{key:d="value"}=this._parsing;r=c=>+Ys(n[c],d)}let a,l;for(a=i,l=i+s;a<l;++a)o._parsed[a]=r(a)}}_getRotation(){return Yi(this.options.rotation-90)}_getCircumference(){return Yi(this.options.circumference)}_getRotationExtents(){let i=Ne,s=-Ne;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){let o=this.chart.getDatasetMeta(n).controller,r=o._getRotation(),a=o._getCircumference();i=Math.min(i,r),s=Math.max(s,r+a)}return{rotation:i,circumference:s-i}}update(i){let s=this.chart,{chartArea:n}=s,o=this._cachedMeta,r=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),d=Math.min(C_(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:f,offsetY:g}=xT(u,h,d),_=(n.width-a)/p,v=(n.height-a)/m,C=Math.max(Math.min(_,v)/2,0),y=ou(this.options.radius,C),S=Math.max(y*d,0),x=(y-S)/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=g*y,o.total=this.calculateTotal(),this.outerRadius=y-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(r,0,r.length,i)}_circumference(i,s){let n=this.options,o=this._cachedMeta,r=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(i)||o._parsed[i]===null||o.data[i].hidden?0:this.calculateCircumference(o._parsed[i]*r/Ne)}updateElements(i,s,n,o){let r=o==="reset",a=this.chart,l=a.chartArea,c=a.options.animation,h=(l.left+l.right)/2,u=(l.top+l.bottom)/2,p=r&&c.animateScale,m=p?0:this.innerRadius,f=p?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(s,o),v=this._getRotation(),C;for(C=0;C<s;++C)v+=this._circumference(C,r);for(C=s;C<s+n;++C){let y=this._circumference(C,r),S=i[C],x={x:h+this.offsetX,y:u+this.offsetY,startAngle:v,endAngle:v+y,circumference:y,outerRadius:f,innerRadius:m};_&&(x.options=g||this.resolveDataElementOptions(C,S.active?"active":o)),v+=y,this.updateElement(S,C,x,o)}}calculateTotal(){let i=this._cachedMeta,s=i.data,n=0,o;for(o=0;o<s.length;o++){let r=i._parsed[o];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(o)&&!s[o].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(i){let s=this._cachedMeta.total;return s>0&&!isNaN(i)?Ne*(Math.abs(i)/s):0}getLabelAndValue(i){let s=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=gr(s._parsed[i],n.options.locale);return{label:o[i]||"",value:r}}getMaxBorderWidth(i){let s=0,n=this.chart,o,r,a,l,d;if(!i){for(o=0,r=n.data.datasets.length;o<r;++o)if(n.isDatasetVisible(o)){a=n.getDatasetMeta(o),i=a.data,l=a.controller;break}}if(!i)return 0;for(o=0,r=i.length;o<r;++o)d=l.resolveDataElementOptions(o),d.borderAlign!=="inner"&&(s=Math.max(s,d.borderWidth||0,d.hoverBorderWidth||0));return s}getMaxOffset(i){let s=0;for(let n=0,o=i.length;n<o;++n){let r=this.resolveDataElementOptions(n);s=Math.max(s,r.offset||0,r.hoverOffset||0)}return s}_getRingWeightOffset(i){let s=0;for(let n=0;n<i;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(i){return Math.max(q(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e})(),TT=(()=>{class e extends kn{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){let s=this._cachedMeta,{dataset:n,data:o=[],_dataset:r}=s,a=this.chart._animationsDisabled,{start:l,count:d}=fu(s,o,a);this._drawStart=l,this._drawCount=d,gu(s)&&(l=0,d=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=o;let c=this.resolveDatasetElementOptions(i);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},i),this.updateElements(o,l,d,i)}updateElements(i,s,n,o){let r=o==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(s,o),p=a.axis,m=l.axis,{spanGaps:f,segment:g}=this.options,_=So(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||o==="none",C=s+n,y=i.length,S=s>0&&this.getParsed(s-1);for(let x=0;x<y;++x){let I=i[x],w=v?I:{};if(x<s||x>=C){w.skip=!0;continue}let D=this.getParsed(x),V=oe(D[m]),F=w[p]=a.getPixelForValue(D[p],x),W=w[m]=r||V?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,D,d):D[m],x);w.skip=isNaN(F)||isNaN(W)||V,w.stop=x>0&&Math.abs(D[p]-S[p])>_,g&&(w.parsed=D,w.raw=c.data[x]),u&&(w.options=h||this.resolveDataElementOptions(x,I.active?"active":o)),v||this.updateElement(I,x,w,o),S=D}}getMaxOverflow(){let i=this._cachedMeta,s=i.dataset,n=s.options&&s.options.borderWidth||0,o=i.data||[];if(!o.length)return n;let r=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,r,a)/2}draw(){let i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}}return e})(),qb=(()=>{class e extends kn{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){let s=i.data;if(s.labels.length&&s.datasets.length){let{labels:{pointStyle:n,color:o}}=i.legend.options;return s.labels.map((r,a)=>{let d=i.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:o,lineWidth:d.borderWidth,pointStyle:n,hidden:!i.getDataVisibility(a),index:a}})}return[]}},onClick(i,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(i,s){super(i,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){let s=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=gr(s._parsed[i].r,n.options.locale);return{label:o[i]||"",value:r}}parseObjectData(i,s,n,o){return xu.bind(this)(i,s,n,o)}update(i){let s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,i)}getMinMax(){let i=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return i.data.forEach((n,o)=>{let r=this.getParsed(o).r;!isNaN(r)&&this.chart.getDataVisibility(o)&&(r<s.min&&(s.min=r),r>s.max&&(s.max=r))}),s}_updateRadius(){let i=this.chart,s=i.chartArea,n=i.options,o=Math.min(s.right-s.left,s.bottom-s.top),r=Math.max(o/2,0),a=Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0),l=(r-a)/i.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(i,s,n,o){let r=o==="reset",a=this.chart,d=a.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,p=c.getIndexAngle(0)-.5*be,m=p,f,g=360/this.countVisibleElements();for(f=0;f<s;++f)m+=this._computeAngle(f,o,g);for(f=s;f<s+n;f++){let _=i[f],v=m,C=m+this._computeAngle(f,o,g),y=a.getDataVisibility(f)?c.getDistanceFromCenterForValue(this.getParsed(f).r):0;m=C,r&&(d.animateScale&&(y=0),d.animateRotate&&(v=C=p));let S={x:h,y:u,innerRadius:0,outerRadius:y,startAngle:v,endAngle:C,options:this.resolveDataElementOptions(f,_.active?"active":o)};this.updateElement(_,f,S,o)}}countVisibleElements(){let i=this._cachedMeta,s=0;return i.data.forEach((n,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&s++}),s}_computeAngle(i,s,n){return this.chart.getDataVisibility(i)?Yi(this.resolveDataElementOptions(i,s).angle||n):0}}return e})(),OT=(()=>{class e extends hp{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return e})(),MT=(()=>{class e extends kn{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(i){let s=this._cachedMeta.vScale,n=this.getParsed(i);return{label:s.getLabels()[i],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(i,s,n,o){return xu.bind(this)(i,s,n,o)}update(i){let s=this._cachedMeta,n=s.dataset,o=s.data||[],r=s.iScale.getLabels();if(n.points=o,i!=="resize"){let a=this.resolveDatasetElementOptions(i);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:r.length===o.length,options:a};this.updateElement(n,void 0,l,i)}this.updateElements(o,0,o.length,i)}updateElements(i,s,n,o){let r=this._cachedMeta.rScale,a=o==="reset";for(let l=s;l<s+n;l++){let d=i[l],c=this.resolveDataElementOptions(l,d.active?"active":o),h=r.getPointPositionForValue(l,this.getParsed(l).r),u=a?r.xCenter:h.x,p=a?r.yCenter:h.y,m={x:u,y:p,angle:h.angle,skip:isNaN(u)||isNaN(p),options:c};this.updateElement(d,l,m,o)}}}return e})(),IT=(()=>{class e extends kn{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(i){let s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=s,a=this.getParsed(i),l=o.getLabelForValue(a.x),d=r.getLabelForValue(a.y);return{label:n[i]||"",value:"("+l+", "+d+")"}}update(i){let s=this._cachedMeta,{data:n=[]}=s,o=this.chart._animationsDisabled,{start:r,count:a}=fu(s,n,o);if(this._drawStart=r,this._drawCount=a,gu(s)&&(r=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:d}=s;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!d._decimated,l.points=n;let c=this.resolveDatasetElementOptions(i);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:c},i)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,r,a,i)}addElements(){let{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,s,n,o){let r=o==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(s,o),u=this.getSharedOptions(h),p=this.includeOptions(o,u),m=a.axis,f=l.axis,{spanGaps:g,segment:_}=this.options,v=So(g)?g:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||r||o==="none",y=s>0&&this.getParsed(s-1);for(let S=s;S<s+n;++S){let x=i[S],I=this.getParsed(S),w=C?x:{},D=oe(I[f]),V=w[m]=a.getPixelForValue(I[m],S),F=w[f]=r||D?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,I,d):I[f],S);w.skip=isNaN(V)||isNaN(F)||D,w.stop=S>0&&Math.abs(I[m]-y[m])>v,_&&(w.parsed=I,w.raw=c.data[S]),p&&(w.options=u||this.resolveDataElementOptions(S,x.active?"active":o)),C||this.updateElement(x,S,w,o),y=I}this.updateSharedOptions(u,o,h)}getMaxOverflow(){let i=this._cachedMeta,s=i.data||[];if(!this.options.showLine){let l=0;for(let d=s.length-1;d>=0;--d)l=Math.max(l,s[d].size(this.resolveDataElementOptions(d))/2);return l>0&&l}let n=i.dataset,o=n.options&&n.options.borderWidth||0;if(!s.length)return o;let r=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(o,r,a)/2}}return e})(),RT=Object.freeze({__proto__:null,BarController:wT,BubbleController:ET,DoughnutController:hp,LineController:TT,PieController:OT,PolarAreaController:qb,RadarController:MT,ScatterController:IT});function Eo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var ju=class e{static override(t){Object.assign(e.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Eo()}parse(){return Eo()}format(){return Eo()}add(){return Eo()}diff(){return Eo()}startOf(){return Eo()}endOf(){return Eo()}},DT={_date:ju};function AT(e,t,i,s){let{controller:n,data:o,_sorted:r}=e,a=n._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){let d=a._reversePixels?T_:vs;if(s){if(n._sharedOptions){let c=o[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){let u=d(o,t,i-h),p=d(o,t,i+h);return{lo:u.lo,hi:p.hi}}}}else{let c=d(o,t,i);if(l){let{vScale:h}=n._cachedMeta,{_parsed:u}=e,p=u.slice(0,c.lo+1).reverse().findIndex(f=>!oe(f[h.axis]));c.lo-=Math.max(0,p);let m=u.slice(c.hi).findIndex(f=>!oe(f[h.axis]));c.hi+=Math.max(0,m)}return c}}return{lo:0,hi:o.length-1}}function Ba(e,t,i,s,n){let o=e.getSortedVisibleDatasetMetas(),r=i[t];for(let a=0,l=o.length;a<l;++a){let{index:d,data:c}=o[a],{lo:h,hi:u}=AT(o[a],t,r,n);for(let p=h;p<=u;++p){let m=c[p];m.skip||s(m,d,p)}}}function PT(e){let t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(s,n){let o=t?Math.abs(s.x-n.x):0,r=i?Math.abs(s.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Nu(e,t,i,s,n){let o=[];return!n&&!e.isPointInArea(t)||Ba(e,i,t,function(a,l,d){!n&&!Cs(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&o.push({element:a,datasetIndex:l,index:d})},!0),o}function kT(e,t,i,s){let n=[];function o(r,a,l){let{startAngle:d,endAngle:c}=r.getProps(["startAngle","endAngle"],s),{angle:h}=cu(r,{x:t.x,y:t.y});fr(h,d,c)&&n.push({element:r,datasetIndex:a,index:l})}return Ba(e,i,t,o),n}function LT(e,t,i,s,n,o){let r=[],a=PT(i),l=Number.POSITIVE_INFINITY;function d(c,h,u){let p=c.inRange(t.x,t.y,n);if(s&&!p)return;let m=c.getCenterPoint(n);if(!(!!o||e.isPointInArea(m))&&!p)return;let g=a(t,m);g<l?(r=[{element:c,datasetIndex:h,index:u}],l=g):g===l&&r.push({element:c,datasetIndex:h,index:u})}return Ba(e,i,t,d),r}function Hu(e,t,i,s,n,o){return!o&&!e.isPointInArea(t)?[]:i==="r"&&!s?kT(e,t,i,n):LT(e,t,i,s,n,o)}function sb(e,t,i,s,n){let o=[],r=i==="x"?"inXRange":"inYRange",a=!1;return Ba(e,i,t,(l,d,c)=>{l[r]&&l[r](t[i],n)&&(o.push({element:l,datasetIndex:d,index:c}),a=a||l.inRange(t.x,t.y,n))}),s&&!a?[]:o}var FT={evaluateInteractionItems:Ba,modes:{index(e,t,i,s){let n=An(t,e),o=i.axis||"x",r=i.includeInvisible||!1,a=i.intersect?Nu(e,n,o,s,r):Hu(e,n,o,!1,s,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{let c=a[0].index,h=d.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:d.index,index:c})}),l):[]},dataset(e,t,i,s){let n=An(t,e),o=i.axis||"xy",r=i.includeInvisible||!1,a=i.intersect?Nu(e,n,o,s,r):Hu(e,n,o,!1,s,r);if(a.length>0){let l=a[0].datasetIndex,d=e.getDatasetMeta(l).data;a=[];for(let c=0;c<d.length;++c)a.push({element:d[c],datasetIndex:l,index:c})}return a},point(e,t,i,s){let n=An(t,e),o=i.axis||"xy",r=i.includeInvisible||!1;return Nu(e,n,o,s,r)},nearest(e,t,i,s){let n=An(t,e),o=i.axis||"xy",r=i.includeInvisible||!1;return Hu(e,n,o,i.intersect,s,r)},x(e,t,i,s){let n=An(t,e);return sb(e,n,"x",i.intersect,s)},y(e,t,i,s){let n=An(t,e);return sb(e,n,"y",i.intersect,s)}}},Qb=["left","top","right","bottom"];function Da(e,t){return e.filter(i=>i.pos===t)}function nb(e,t){return e.filter(i=>Qb.indexOf(i.pos)===-1&&i.box.axis===t)}function Aa(e,t){return e.sort((i,s)=>{let n=t?s:i,o=t?i:s;return n.weight===o.weight?n.index-o.index:n.weight-o.weight})}function NT(e){let t=[],i,s,n,o,r,a;for(i=0,s=(e||[]).length;i<s;++i)n=e[i],{position:o,options:{stack:r,stackWeight:a=1}}=n,t.push({index:i,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:r&&o+r,stackWeight:a});return t}function HT(e){let t={};for(let i of e){let{stack:s,pos:n,stackWeight:o}=i;if(!s||!Qb.includes(n))continue;let r=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function VT(e,t){let i=HT(e),{vBoxMaxWidth:s,hBoxMaxHeight:n}=t,o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];let{fullSize:l}=a.box,d=i[a.stack],c=d&&a.stackWeight/d.weight;a.horizontal?(a.width=c?c*s:l&&t.availableWidth,a.height=n):(a.width=s,a.height=c?c*n:l&&t.availableHeight)}return i}function BT(e){let t=NT(e),i=Aa(t.filter(d=>d.box.fullSize),!0),s=Aa(Da(t,"left"),!0),n=Aa(Da(t,"right")),o=Aa(Da(t,"top"),!0),r=Aa(Da(t,"bottom")),a=nb(t,"x"),l=nb(t,"y");return{fullSize:i,leftAndTop:s.concat(o),rightAndBottom:n.concat(l).concat(r).concat(a),chartArea:Da(t,"chartArea"),vertical:s.concat(n).concat(l),horizontal:o.concat(r).concat(a)}}function ob(e,t,i,s){return Math.max(e[i],t[i])+Math.max(e[s],t[s])}function Zb(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function zT(e,t,i,s){let{pos:n,box:o}=i,r=e.maxPadding;if(!de(n)){i.size&&(e[n]-=i.size);let h=s[i.stack]||{size:0,count:1};h.size=Math.max(h.size,i.horizontal?o.height:o.width),i.size=h.size/h.count,e[n]+=i.size}o.getPadding&&Zb(r,o.getPadding());let a=Math.max(0,t.outerWidth-ob(r,e,"left","right")),l=Math.max(0,t.outerHeight-ob(r,e,"top","bottom")),d=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,i.horizontal?{same:d,other:c}:{same:c,other:d}}function WT(e){let t=e.maxPadding;function i(s){let n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function $T(e,t){let i=t.maxPadding;function s(n){let o={left:0,top:0,right:0,bottom:0};return n.forEach(r=>{o[r]=Math.max(t[r],i[r])}),o}return s(e?["left","right"]:["top","bottom"])}function La(e,t,i,s){let n=[],o,r,a,l,d,c;for(o=0,r=e.length,d=0;o<r;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,$T(a.horizontal,t));let{same:h,other:u}=zT(t,i,a,s);d|=h&&n.length,c=c||u,l.fullSize||n.push(a)}return d&&La(n,t,i,s)||c}function Od(e,t,i,s,n){e.top=i,e.left=t,e.right=t+s,e.bottom=i+n,e.width=s,e.height=n}function rb(e,t,i,s){let n=i.padding,{x:o,y:r}=t;for(let a of e){let l=a.box,d=s[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/d.weight||1;if(a.horizontal){let h=t.w*c,u=d.size||l.height;pr(d.start)&&(r=d.start),l.fullSize?Od(l,n.left,r,i.outerWidth-n.right-n.left,u):Od(l,t.left+d.placed,r,h,u),d.start=r,d.placed+=h,r=l.bottom}else{let h=t.h*c,u=d.size||l.width;pr(d.start)&&(o=d.start),l.fullSize?Od(l,o,n.top,u,i.outerHeight-n.bottom-n.top):Od(l,o,t.top+d.placed,u,h),d.start=o,d.placed+=h,o=l.right}}t.x=o,t.y=r}var si={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){let i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,s){if(!e)return;let n=Bt(e.options.layout.padding),o=Math.max(t-n.width,0),r=Math.max(i-n.height,0),a=BT(e.boxes),l=a.vertical,d=a.horizontal;we(e.boxes,f=>{typeof f.beforeLayout=="function"&&f.beforeLayout()});let c=l.reduce((f,g)=>g.box.options&&g.box.options.display===!1?f:f+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:i,padding:n,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/c,hBoxMaxHeight:r/2}),u=Object.assign({},n);Zb(u,Bt(s));let p=Object.assign({maxPadding:u,w:o,h:r,x:n.left,y:n.top},n),m=VT(l.concat(d),h);La(a.fullSize,p,h,m),La(l,p,h,m),La(d,p,h,m)&&La(l,p,h,m),WT(p),rb(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,rb(a.rightAndBottom,p,h,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},we(a.chartArea,f=>{let g=f.box;Object.assign(g,e.chartArea),g.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},Fd=class{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,s){}removeEventListener(t,i,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,s,n){return i=Math.max(0,i||t.width),s=s||t.height,{width:i,height:Math.max(0,n?Math.floor(i/n):s)}}isAttached(t){return!0}updateConfig(t){}},Yu=class extends Fd{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Pd="$chartjs",GT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ab=e=>e===null||e==="";function UT(e,t){let i=e.style,s=e.getAttribute("height"),n=e.getAttribute("width");if(e[Pd]={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ab(n)){let o=Ou(e,"width");o!==void 0&&(e.width=o)}if(ab(s))if(e.style.height==="")e.height=e.width/(t||2);else{let o=Ou(e,"height");o!==void 0&&(e.height=o)}return e}var Jb=$_?{passive:!0}:!1;function jT(e,t,i){e&&e.addEventListener(t,i,Jb)}function YT(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,Jb)}function XT(e,t){let i=GT[e.type]||e.type,{x:s,y:n}=An(e,t);return{type:i,chart:t,native:e,x:s!==void 0?s:null,y:n!==void 0?n:null}}function Nd(e,t){for(let i of e)if(i===t||i.contains(t))return!0}function KT(e,t,i){let s=e.canvas,n=new MutationObserver(o=>{let r=!1;for(let a of o)r=r||Nd(a.addedNodes,s),r=r&&!Nd(a.removedNodes,s);r&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}function qT(e,t,i){let s=e.canvas,n=new MutationObserver(o=>{let r=!1;for(let a of o)r=r||Nd(a.removedNodes,s),r=r&&!Nd(a.addedNodes,s);r&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}var Na=new Map,lb=0;function ev(){let e=window.devicePixelRatio;e!==lb&&(lb=e,Na.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function QT(e,t){Na.size||window.addEventListener("resize",ev),Na.set(e,t)}function ZT(e){Na.delete(e),Na.size||window.removeEventListener("resize",ev)}function JT(e,t,i){let s=e.canvas,n=s&&xd(s);if(!n)return;let o=mu((a,l)=>{let d=n.clientWidth;i(a,l),d<n.clientWidth&&i()},window),r=new ResizeObserver(a=>{let l=a[0],d=l.contentRect.width,c=l.contentRect.height;d===0&&c===0||o(d,c)});return r.observe(n),QT(e,o),r}function Vu(e,t,i){i&&i.disconnect(),t==="resize"&&ZT(e)}function e0(e,t,i){let s=e.canvas,n=mu(o=>{e.ctx!==null&&i(XT(o,e))},e);return jT(s,t,n),n}var Xu=class extends Fd{acquireContext(t,i){let s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(UT(t,i),s):null}releaseContext(t){let i=t.canvas;if(!i[Pd])return!1;let s=i[Pd].initial;["height","width"].forEach(o=>{let r=s[o];oe(r)?i.removeAttribute(o):i.setAttribute(o,r)});let n=s.style||{};return Object.keys(n).forEach(o=>{i.style[o]=n[o]}),i.width=i.width,delete i[Pd],!0}addEventListener(t,i,s){this.removeEventListener(t,i);let n=t.$proxies||(t.$proxies={}),r={attach:KT,detach:qT,resize:JT}[i]||e0;n[i]=r(t,i,s)}removeEventListener(t,i){let s=t.$proxies||(t.$proxies={}),n=s[i];if(!n)return;({attach:Vu,detach:Vu,resize:Vu}[i]||YT)(t,i,n),s[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,s,n){return W_(t,i,s,n)}isAttached(t){let i=t&&xd(t);return!!(i&&i.isConnected)}};function t0(e){return!Ed()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Yu:Xu}var ns=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}hasValue(){return So(this.x)&&So(this.y)}getProps(t,i){let s=this.$animations;if(!i||!s)return this;let n={};return t.forEach(o=>{n[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),n}};function i0(e,t){let i=e.options.ticks,s=s0(e),n=Math.min(i.maxTicksLimit||s,s),o=i.major.enabled?o0(t):[],r=o.length,a=o[0],l=o[r-1],d=[];if(r>n)return r0(t,d,o,r/n),d;let c=n0(o,t,n);if(r>0){let h,u,p=r>1?Math.round((l-a)/(r-1)):null;for(Md(t,d,c,oe(p)?0:a-p,a),h=0,u=r-1;h<u;h++)Md(t,d,c,o[h],o[h+1]);return Md(t,d,c,l,oe(p)?t.length:l+p),d}return Md(t,d,c),d}function s0(e){let t=e.options.offset,i=e._tickSize(),s=e._length/i+(t?0:1),n=e._maxLength/i;return Math.floor(Math.min(s,n))}function n0(e,t,i){let s=a0(e),n=t.length/i;if(!s)return Math.max(n,1);let o=w_(s);for(let r=0,a=o.length-1;r<a;r++){let l=o[r];if(l>n)return l}return Math.max(n,1)}function o0(e){let t=[],i,s;for(i=0,s=e.length;i<s;i++)e[i].major&&t.push(i);return t}function r0(e,t,i,s){let n=0,o=i[0],r;for(s=Math.ceil(s),r=0;r<e.length;r++)r===o&&(t.push(e[r]),n++,o=i[n*s])}function Md(e,t,i,s,n){let o=q(s,0),r=Math.min(q(n,e.length),e.length),a=0,l,d,c;for(i=Math.ceil(i),n&&(l=n-s,i=l/Math.floor(l/i)),c=o;c<0;)a++,c=Math.round(o+a*i);for(d=Math.max(o,0);d<r;d++)d===c&&(t.push(e[d]),a++,c=Math.round(o+a*i))}function a0(e){let t=e.length,i,s;if(t<2)return!1;for(s=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==s)return!1;return s}var l0=e=>e==="left"?"right":e==="right"?"left":e,db=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i,cb=(e,t)=>Math.min(t||e,e);function hb(e,t){let i=[],s=e.length/t,n=e.length,o=0;for(;o<n;o+=s)i.push(e[Math.floor(o)]);return i}function d0(e,t,i){let s=e.ticks.length,n=Math.min(t,s-1),o=e._startPixel,r=e._endPixel,a=1e-6,l=e.getPixelForTick(n),d;if(!(i&&(s===1?d=Math.max(l-o,r-l):t===0?d=(e.getPixelForTick(1)-l)/2:d=(l-e.getPixelForTick(n-1))/2,l+=n<t?d:-d,l<o-a||l>r+a)))return l}function c0(e,t){we(e,i=>{let s=i.gc,n=s.length/2,o;if(n>t){for(o=0;o<n;++o)delete i.data[s[o]];s.splice(0,n)}})}function Pa(e){return e.drawTicks?e.tickLength:0}function ub(e,t){if(!e.display)return 0;let i=ut(e.font,t),s=Bt(e.padding);return(Fe(e.text)?e.text.length:1)*i.lineHeight+s.height}function h0(e,t){return Xs(e,{scale:t,type:"scale"})}function u0(e,t,i){return Xs(e,{tick:i,index:t,type:"tick"})}function p0(e,t,i){let s=vd(e);return(i&&t!=="right"||!i&&t==="right")&&(s=l0(s)),s}function m0(e,t,i,s){let{top:n,left:o,bottom:r,right:a,chart:l}=e,{chartArea:d,scales:c}=l,h=0,u,p,m,f=r-n,g=a-o;if(e.isHorizontal()){if(p=Vt(s,o,a),de(i)){let _=Object.keys(i)[0],v=i[_];m=c[_].getPixelForValue(v)+f-t}else i==="center"?m=(d.bottom+d.top)/2+f-t:m=db(e,i,t);u=a-o}else{if(de(i)){let _=Object.keys(i)[0],v=i[_];p=c[_].getPixelForValue(v)-g+t}else i==="center"?p=(d.left+d.right)/2-g+t:p=db(e,i,t);m=Vt(s,r,n),h=i==="left"?-tt:tt}return{titleX:p,titleY:m,maxWidth:u,rotation:h}}var To=class e extends ns{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:s,_suggestedMax:n}=this;return t=Ei(t,Number.POSITIVE_INFINITY),i=Ei(i,Number.NEGATIVE_INFINITY),s=Ei(s,Number.POSITIVE_INFINITY),n=Ei(n,Number.NEGATIVE_INFINITY),{min:Ei(t,s),max:Ei(i,n),minDefined:Ye(t),maxDefined:Ye(i)}}getMinMax(t){let{min:i,max:s,minDefined:n,maxDefined:o}=this.getUserBounds(),r;if(n&&o)return{min:i,max:s};let a=this.getMatchingVisibleMetas();for(let l=0,d=a.length;l<d;++l)r=a[l].controller.getMinMax(this,t),n||(i=Math.min(i,r.min)),o||(s=Math.max(s,r.max));return i=o&&i>s?s:i,s=n&&i>s?i:s,{min:Ei(i,Ei(s,i)),max:Ei(s,Ei(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Re(this.options.beforeUpdate,[this])}update(t,i,s){let{beginAtZero:n,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=F_(this,o,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?hb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=i0(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,s;this.isHorizontal()?(i=this.left,s=this.right):(i=this.top,s=this.bottom,t=!t),this._startPixel=i,this._endPixel=s,this._reversePixels=t,this._length=s-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Re(this.options.afterUpdate,[this])}beforeSetDimensions(){Re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Re(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Re(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let i=this.options.ticks,s,n,o;for(s=0,n=t.length;s<n;s++)o=t[s],o.label=Re(i.callback,[o.value,s,t],this)}afterTickToLabelConversion(){Re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,i=t.ticks,s=cb(this.ticks.length,t.ticks.maxTicksLimit),n=i.minRotation||0,o=i.maxRotation,r=n,a,l,d;if(!this._isVisible()||!i.display||n>=o||s<=1||!this.isHorizontal()){this.labelRotation=n;return}let c=this._getLabelSizes(),h=c.widest.width,u=c.highest.height,p=bt(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/s:p/(s-1),h+6>a&&(a=p/(s-(t.offset?.5:1)),l=this.maxHeight-Pa(t.grid)-i.padding-ub(t.title,this.chart.options.font),d=Math.sqrt(h*h+u*u),r=_d(Math.min(Math.asin(bt((c.highest.height+6)/a,-1,1)),Math.asin(bt(l/d,-1,1))-Math.asin(bt(u/d,-1,1)))),r=Math.max(n,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){Re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Re(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:i,options:{ticks:s,title:n,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){let l=ub(n,i.options.font);if(a?(t.width=this.maxWidth,t.height=Pa(o)+l):(t.height=this.maxHeight,t.width=Pa(o)+l),s.display&&this.ticks.length){let{first:d,last:c,widest:h,highest:u}=this._getLabelSizes(),p=s.padding*2,m=Yi(this.labelRotation),f=Math.cos(m),g=Math.sin(m);if(a){let _=s.mirror?0:g*h.width+f*u.height;t.height=Math.min(this.maxHeight,t.height+_+p)}else{let _=s.mirror?0:f*h.width+g*u.height;t.width=Math.min(this.maxWidth,t.width+_+p)}this._calculatePadding(d,c,g,f)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,s,n){let{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,d=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),u=0,p=0;l?d?(u=n*t.width,p=s*i.height):(u=s*t.height,p=n*i.width):o==="start"?p=i.width:o==="end"?u=t.width:o!=="inner"&&(u=t.width/2,p=i.width/2),this.paddingLeft=Math.max((u-c+r)*this.width/(this.width-c),0),this.paddingRight=Math.max((p-h+r)*this.width/(this.width-h),0)}else{let c=i.height/2,h=t.height/2;o==="start"?(c=0,h=t.height):o==="end"&&(c=i.height,h=0),this.paddingTop=c+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Re(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,s;for(i=0,s=t.length;i<s;i++)oe(t[i].label)&&(t.splice(i,1),s--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let i=this.options.ticks.sampleSize,s=this.ticks;i<s.length&&(s=hb(s,i)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,s){let{ctx:n,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(i/cb(i,s)),d=0,c=0,h,u,p,m,f,g,_,v,C,y,S;for(h=0;h<i;h+=l){if(m=t[h].label,f=this._resolveTickFontOptions(h),n.font=g=f.string,_=o[g]=o[g]||{data:{},gc:[]},v=f.lineHeight,C=y=0,!oe(m)&&!Fe(m))C=xa(n,_.data,_.gc,C,m),y=v;else if(Fe(m))for(u=0,p=m.length;u<p;++u)S=m[u],!oe(S)&&!Fe(S)&&(C=xa(n,_.data,_.gc,C,S),y+=v);r.push(C),a.push(y),d=Math.max(C,d),c=Math.max(y,c)}c0(o,i);let x=r.indexOf(d),I=a.indexOf(c),w=D=>({width:r[D]||0,height:a[D]||0});return{first:w(0),last:w(i-1),widest:w(x),highest:w(I),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let i=this._startPixel+t*this._length;return x_(this._alignToPixels?In(this.chart,i,0):i)}getDecimalForPixel(t){let i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){let i=this.ticks||[];if(t>=0&&t<i.length){let s=i[t];return s.$context||(s.$context=u0(this.getContext(),t,s))}return this.$context||(this.$context=h0(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,i=Yi(this.labelRotation),s=Math.abs(Math.cos(i)),n=Math.abs(Math.sin(i)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*s>a*n?a/s:l/n:l*n<a*s?l/s:a/n}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let i=this.axis,s=this.chart,n=this.options,{grid:o,position:r,border:a}=n,l=o.offset,d=this.isHorizontal(),h=this.ticks.length+(l?1:0),u=Pa(o),p=[],m=a.setContext(this.getContext()),f=m.display?m.width:0,g=f/2,_=function(Q){return In(s,Q,f)},v,C,y,S,x,I,w,D,V,F,W,ee;if(r==="top")v=_(this.bottom),I=this.bottom-u,D=v-g,F=_(t.top)+g,ee=t.bottom;else if(r==="bottom")v=_(this.top),F=t.top,ee=_(t.bottom)-g,I=v+g,D=this.top+u;else if(r==="left")v=_(this.right),x=this.right-u,w=v-g,V=_(t.left)+g,W=t.right;else if(r==="right")v=_(this.left),V=t.left,W=_(t.right)-g,x=v+g,w=this.left+u;else if(i==="x"){if(r==="center")v=_((t.top+t.bottom)/2+.5);else if(de(r)){let Q=Object.keys(r)[0],he=r[Q];v=_(this.chart.scales[Q].getPixelForValue(he))}F=t.top,ee=t.bottom,I=v+g,D=I+u}else if(i==="y"){if(r==="center")v=_((t.left+t.right)/2);else if(de(r)){let Q=Object.keys(r)[0],he=r[Q];v=_(this.chart.scales[Q].getPixelForValue(he))}x=v-g,w=x-u,V=t.left,W=t.right}let xe=q(n.ticks.maxTicksLimit,h),ie=Math.max(1,Math.ceil(h/xe));for(C=0;C<h;C+=ie){let Q=this.getContext(C),he=o.setContext(Q),Ae=a.setContext(Q),qe=he.lineWidth,Fi=he.color,Me=Ae.dash||[],mi=Ae.dashOffset,Pe=he.tickWidth,Ut=he.tickColor,ye=he.tickBorderDash||[],jt=he.tickBorderDashOffset;y=d0(this,C,l),y!==void 0&&(S=In(s,y,qe),d?x=w=V=W=S:I=D=F=ee=S,p.push({tx1:x,ty1:I,tx2:w,ty2:D,x1:V,y1:F,x2:W,y2:ee,width:qe,color:Fi,borderDash:Me,borderDashOffset:mi,tickWidth:Pe,tickColor:Ut,tickBorderDash:ye,tickBorderDashOffset:jt}))}return this._ticksLength=h,this._borderValue=v,p}_computeLabelItems(t){let i=this.axis,s=this.options,{position:n,ticks:o}=s,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:d,padding:c,mirror:h}=o,u=Pa(s.grid),p=u+c,m=h?-c:p,f=-Yi(this.labelRotation),g=[],_,v,C,y,S,x,I,w,D,V,F,W,ee="middle";if(n==="top")x=this.bottom-m,I=this._getXAxisLabelAlignment();else if(n==="bottom")x=this.top+m,I=this._getXAxisLabelAlignment();else if(n==="left"){let ie=this._getYAxisLabelAlignment(u);I=ie.textAlign,S=ie.x}else if(n==="right"){let ie=this._getYAxisLabelAlignment(u);I=ie.textAlign,S=ie.x}else if(i==="x"){if(n==="center")x=(t.top+t.bottom)/2+p;else if(de(n)){let ie=Object.keys(n)[0],Q=n[ie];x=this.chart.scales[ie].getPixelForValue(Q)+p}I=this._getXAxisLabelAlignment()}else if(i==="y"){if(n==="center")S=(t.left+t.right)/2-p;else if(de(n)){let ie=Object.keys(n)[0],Q=n[ie];S=this.chart.scales[ie].getPixelForValue(Q)}I=this._getYAxisLabelAlignment(u).textAlign}i==="y"&&(l==="start"?ee="top":l==="end"&&(ee="bottom"));let xe=this._getLabelSizes();for(_=0,v=a.length;_<v;++_){C=a[_],y=C.label;let ie=o.setContext(this.getContext(_));w=this.getPixelForTick(_)+o.labelOffset,D=this._resolveTickFontOptions(_),V=D.lineHeight,F=Fe(y)?y.length:1;let Q=F/2,he=ie.color,Ae=ie.textStrokeColor,qe=ie.textStrokeWidth,Fi=I;r?(S=w,I==="inner"&&(_===v-1?Fi=this.options.reverse?"left":"right":_===0?Fi=this.options.reverse?"right":"left":Fi="center"),n==="top"?d==="near"||f!==0?W=-F*V+V/2:d==="center"?W=-xe.highest.height/2-Q*V+V:W=-xe.highest.height+V/2:d==="near"||f!==0?W=V/2:d==="center"?W=xe.highest.height/2-Q*V:W=xe.highest.height-F*V,h&&(W*=-1),f!==0&&!ie.showLabelBackdrop&&(S+=V/2*Math.sin(f))):(x=w,W=(1-F)*V/2);let Me;if(ie.showLabelBackdrop){let mi=Bt(ie.backdropPadding),Pe=xe.heights[_],Ut=xe.widths[_],ye=W-mi.top,jt=0-mi.left;switch(ee){case"middle":ye-=Pe/2;break;case"bottom":ye-=Pe;break}switch(I){case"center":jt-=Ut/2;break;case"right":jt-=Ut;break;case"inner":_===v-1?jt-=Ut:_>0&&(jt-=Ut/2);break}Me={left:jt,top:ye,width:Ut+mi.width,height:Pe+mi.height,color:ie.backdropColor}}g.push({label:y,font:D,textOffset:W,options:{rotation:f,color:he,strokeColor:Ae,strokeWidth:qe,textAlign:Fi,textBaseline:ee,translation:[S,x],backdrop:Me}})}return g}_getXAxisLabelAlignment(){let{position:t,ticks:i}=this.options;if(-Yi(this.labelRotation))return t==="top"?"left":"right";let n="center";return i.align==="start"?n="left":i.align==="end"?n="right":i.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){let{position:i,ticks:{crossAlign:s,mirror:n,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width,d,c;return i==="left"?n?(c=this.right+o,s==="near"?d="left":s==="center"?(d="center",c+=l/2):(d="right",c+=l)):(c=this.right-a,s==="near"?d="right":s==="center"?(d="center",c-=l/2):(d="left",c=this.left)):i==="right"?n?(c=this.left+o,s==="near"?d="right":s==="center"?(d="center",c-=l/2):(d="left",c-=l)):(c=this.left+a,s==="near"?d="left":s==="center"?(d="center",c+=l/2):(d="right",c=this.right)):d="right",{textAlign:d,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:i},left:s,top:n,width:o,height:r}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(s,n,o,r),t.restore())}getLineWidthForValue(t){let i=this.options.grid;if(!this._isVisible()||!i.display)return 0;let n=this.ticks.findIndex(o=>o.value===t);return n>=0?i.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){let i=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,r,a=(l,d,c)=>{!c.width||!c.color||(s.save(),s.lineWidth=c.width,s.strokeStyle=c.color,s.setLineDash(c.borderDash||[]),s.lineDashOffset=c.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(i.display)for(o=0,r=n.length;o<r;++o){let l=n[o];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:i,options:{border:s,grid:n}}=this,o=s.setContext(this.getContext()),r=s.display?o.width:0;if(!r)return;let a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue,d,c,h,u;this.isHorizontal()?(d=In(t,this.left,r)-r/2,c=In(t,this.right,a)+a/2,h=u=l):(h=In(t,this.top,r)-r/2,u=In(t,this.bottom,a)+a/2,d=c=l),i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.beginPath(),i.moveTo(d,h),i.lineTo(c,u),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;let s=this.ctx,n=this._computeLabelArea();n&&Ma(s,n);let o=this.getLabelItems(t);for(let r of o){let a=r.options,l=r.font,d=r.label,c=r.textOffset;Rn(s,d,0,c,l,a)}n&&Ia(s)}drawTitle(){let{ctx:t,options:{position:i,title:s,reverse:n}}=this;if(!s.display)return;let o=ut(s.font),r=Bt(s.padding),a=s.align,l=o.lineHeight/2;i==="bottom"||i==="center"||de(i)?(l+=r.bottom,Fe(s.text)&&(l+=o.lineHeight*(s.text.length-1))):l+=r.top;let{titleX:d,titleY:c,maxWidth:h,rotation:u}=m0(this,l,i,a);Rn(t,s.text,0,0,o,{color:s.color,maxWidth:h,rotation:u,textAlign:p0(a,i,n),textBaseline:"middle",translation:[d,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,i=t.ticks&&t.ticks.z||0,s=q(t.grid&&t.grid.z,-1),n=q(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==e.prototype.draw?[{z:i,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:i,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let i=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[],o,r;for(o=0,r=i.length;o<r;++o){let a=i[o];a[s]===this.id&&(!t||a.type===t)&&n.push(a)}return n}_resolveTickFontOptions(t){let i=this.options.ticks.setContext(this.getContext(t));return ut(i.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Cr=class{constructor(t,i,s){this.type=t,this.scope=i,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let i=Object.getPrototypeOf(t),s;_0(i)&&(s=this.register(i));let n=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in n||(n[o]=t,f0(t,r,s),this.override&&De.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){let i=this.items,s=t.id,n=this.scope;s in i&&delete i[s],n&&s in De[n]&&(delete De[n][s],this.override&&delete Mn[s])}};function f0(e,t,i){let s=cr(Object.create(null),[i?De.get(i):{},De.get(t),e.defaults]);De.set(t,s),e.defaultRoutes&&g0(t,e.defaultRoutes),e.descriptors&&De.describe(t,e.descriptors)}function g0(e,t){Object.keys(t).forEach(i=>{let s=i.split("."),n=s.pop(),o=[e].concat(s).join("."),r=t[i].split("."),a=r.pop(),l=r.join(".");De.route(o,n,l,a)})}function _0(e){return"id"in e&&"defaults"in e}var Ku=class{constructor(){this.controllers=new Cr(kn,"datasets",!0),this.elements=new Cr(ns,"elements"),this.plugins=new Cr(Object,"plugins"),this.scales=new Cr(To,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,s){[...i].forEach(n=>{let o=s||this._getRegistryForType(n);s||o.isForType(n)||o===this.plugins&&n.id?this._exec(t,o,n):we(n,r=>{let a=s||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,i,s){let n=gd(t);Re(s["before"+n],[],s),i[t](s),Re(s["after"+n],[],s)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){let s=this._typedRegistries[i];if(s.isForType(t))return s}return this.plugins}_get(t,i,s){let n=i.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return n}},Es=new Ku,qu=class{constructor(){this._init=[]}notify(t,i,s,n){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=n?this._descriptors(t).filter(n):this._descriptors(t),r=this._notify(o,t,i,s);return i==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,i,s,n){n=n||{};for(let o of t){let r=o.plugin,a=r[s],l=[i,n,o.options];if(Re(a,l,r)===!1&&n.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){let s=t&&t.config,n=q(s.options&&s.options.plugins,{}),o=b0(s);return n===!1&&!i?[]:C0(t,o,n,i)}_notifyStateChanges(t){let i=this._oldCache||[],s=this._cache,n=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(n(i,s),t,"stop"),this._notify(n(s,i),t,"start")}};function b0(e){let t={},i=[],s=Object.keys(Es.plugins.items);for(let o=0;o<s.length;o++)i.push(Es.getPlugin(s[o]));let n=e.plugins||[];for(let o=0;o<n.length;o++){let r=n[o];i.indexOf(r)===-1&&(i.push(r),t[r.id]=!0)}return{plugins:i,localIds:t}}function v0(e,t){return!t&&e===!1?null:e===!0?{}:e}function C0(e,{plugins:t,localIds:i},s,n){let o=[],r=e.getContext();for(let a of t){let l=a.id,d=v0(s[l],n);d!==null&&o.push({plugin:a,options:y0(e.config,{plugin:a,local:i[l]},d,r)})}return o}function y0(e,{plugin:t,local:i},s,n){let o=e.pluginScopeKeys(t),r=e.getOptionScopes(s,o);return i&&t.defaults&&r.push(t.defaults),e.createResolver(r,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qu(e,t){let i=De.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function S0(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function w0(e,t){return e===t?"_index_":"_value_"}function pb(e){if(e==="x"||e==="y"||e==="r")return e}function E0(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Zu(e,...t){if(pb(e))return e;for(let i of t){let s=i.axis||E0(i.position)||e.length>1&&pb(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function mb(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function x0(e,t){if(t.data&&t.data.datasets){let i=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(i.length)return mb(e,"x",i[0])||mb(e,"y",i[0])}return{}}function T0(e,t){let i=Mn[e.type]||{scales:{}},s=t.scales||{},n=Qu(e.type,t),o=Object.create(null);return Object.keys(s).forEach(r=>{let a=s[r];if(!de(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);let l=Zu(r,a,x0(r,e),De.scales[a.type]),d=w0(l,n),c=i.scales||{};o[r]=ur(Object.create(null),[{axis:l},a,c[l],c[d]])}),e.data.datasets.forEach(r=>{let a=r.type||e.type,l=r.indexAxis||Qu(a,t),c=(Mn[a]||{}).scales||{};Object.keys(c).forEach(h=>{let u=S0(h,l),p=r[u+"AxisID"]||u;o[p]=o[p]||Object.create(null),ur(o[p],[{axis:u},s[p],c[h]])})}),Object.keys(o).forEach(r=>{let a=o[r];ur(a,[De.scales[a.type],De.scale])}),o}function tv(e){let t=e.options||(e.options={});t.plugins=q(t.plugins,{}),t.scales=T0(e,t)}function iv(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function O0(e){return e=e||{},e.data=iv(e.data),tv(e),e}var fb=new Map,sv=new Set;function Id(e,t){let i=fb.get(e);return i||(i=t(),fb.set(e,i),sv.add(i)),i}var ka=(e,t,i)=>{let s=Ys(t,i);s!==void 0&&e.add(s)},Ju=class{constructor(t){this._config=O0(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=iv(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),tv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Id(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return Id(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return Id(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){let i=t.id,s=this.type;return Id(`${s}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){let s=this._scopeCache,n=s.get(t);return(!n||i)&&(n=new Map,s.set(t,n)),n}getOptionScopes(t,i,s){let{options:n,type:o}=this,r=this._cachedScopes(t,s),a=r.get(i);if(a)return a;let l=new Set;i.forEach(c=>{t&&(l.add(t),c.forEach(h=>ka(l,t,h))),c.forEach(h=>ka(l,n,h)),c.forEach(h=>ka(l,Mn[o]||{},h)),c.forEach(h=>ka(l,De,h)),c.forEach(h=>ka(l,Cd,h))});let d=Array.from(l);return d.length===0&&d.push(Object.create(null)),sv.has(i)&&r.set(i,d),d}chartOptionScopes(){let{options:t,type:i}=this;return[t,Mn[i]||{},De.datasets[i]||{},{type:i},De,Cd]}resolveNamedOptions(t,i,s,n=[""]){let o={$shared:!0},{resolver:r,subPrefixes:a}=gb(this._resolverCache,t,n),l=r;if(I0(r,i)){o.$shared=!1,s=Us(s)?s():s;let d=this.createResolver(t,s,a);l=yo(r,s,d)}for(let d of i)o[d]=l[d];return o}createResolver(t,i,s=[""],n){let{resolver:o}=gb(this._resolverCache,t,s);return de(i)?yo(o,i,void 0,n):o}};function gb(e,t,i){let s=e.get(t);s||(s=new Map,e.set(t,s));let n=i.join(),o=s.get(n);return o||(o={resolver:wd(t,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},s.set(n,o)),o}var M0=e=>de(e)&&Object.getOwnPropertyNames(e).some(t=>Us(e[t]));function I0(e,t){let{isScriptable:i,isIndexable:s}=Su(e);for(let n of t){let o=i(n),r=s(n),a=(r||o)&&e[n];if(o&&(Us(a)||M0(a))||r&&Fe(a))return!0}return!1}var R0="4.5.0",D0=["top","bottom","left","right","chartArea"];function _b(e,t){return e==="top"||e==="bottom"||D0.indexOf(e)===-1&&t==="x"}function bb(e,t){return function(i,s){return i[e]===s[e]?i[t]-s[t]:i[e]-s[e]}}function vb(e){let t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),Re(i&&i.onComplete,[e],t)}function A0(e){let t=e.chart,i=t.options.animation;Re(i&&i.onProgress,[e],t)}function nv(e){return Ed()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var kd={},Cb=e=>{let t=nv(e);return Object.values(kd).filter(i=>i.canvas===t).pop()};function P0(e,t,i){let s=Object.keys(e);for(let n of s){let o=+n;if(o>=t){let r=e[n];delete e[n],(i>0||o>t)&&(e[o+i]=r)}}}function k0(e,t,i,s){return!i||e.type==="mouseout"?null:s?t:e}var zd=(()=>{class e{static defaults=De;static instances=kd;static overrides=Mn;static registry=Es;static version=R0;static getChart=Cb;static register(...i){Es.add(...i),yb()}static unregister(...i){Es.remove(...i),yb()}constructor(i,s){let n=this.config=new Ju(s),o=nv(i),r=Cb(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||t0(o)),this.platform.updateConfig(n);let l=this.platform.acquireContext(o,a.aspectRatio),d=l&&l.canvas,c=d&&d.height,h=d&&d.width;if(this.id=v_(),this.ctx=l,this.canvas=d,this.width=h,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=R_(u=>this.update(u),a.resizeDelay||0),this._dataChanges=[],kd[this.id]=this,!l||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Ks.listen(this,"complete",vb),Ks.listen(this,"progress",A0),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:i,maintainAspectRatio:s},width:n,height:o,_aspectRatio:r}=this;return oe(i)?s&&r?r:o?n/o:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return Es}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vu(this.canvas,this.ctx),this}stop(){return Ks.stop(this),this}resize(i,s){Ks.running(this)?this._resizeBeforeDraw={width:i,height:s}:this._resize(i,s)}_resize(i,s){let n=this.options,o=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,i,s,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Tu(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Re(n.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){let s=this.options.scales||{};we(s,(n,o)=>{n.id=o})}buildOrUpdateScales(){let i=this.options,s=i.scales,n=this.scales,o=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{}),r=[];s&&(r=r.concat(Object.keys(s).map(a=>{let l=s[a],d=Zu(a,l),c=d==="r",h=d==="x";return{options:l,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),we(r,a=>{let l=a.options,d=l.id,c=Zu(d,l),h=q(l.type,a.dtype);(l.position===void 0||_b(l.position,c)!==_b(a.dposition))&&(l.position=a.dposition),o[d]=!0;let u=null;if(d in n&&n[d].type===h)u=n[d];else{let p=Es.getScale(h);u=new p({id:d,type:h,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(l,i)}),we(o,(a,l)=>{a||delete n[l]}),we(n,a=>{si.configure(this,a,a.options),si.addBox(this,a)})}_updateMetasets(){let i=this._metasets,s=this.data.datasets.length,n=i.length;if(i.sort((o,r)=>o.index-r.index),n>s){for(let o=s;o<n;++o)this._destroyDatasetMeta(o);i.splice(s,n-s)}this._sortedMetasets=i.slice(0).sort(bb("order","index"))}_removeUnreferencedMetasets(){let{_metasets:i,data:{datasets:s}}=this;i.length>s.length&&delete this._stacks,i.forEach((n,o)=>{s.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let i=[],s=this.data.datasets,n,o;for(this._removeUnreferencedMetasets(),n=0,o=s.length;n<o;n++){let r=s[n],a=this.getDatasetMeta(n),l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=r.indexAxis||Qu(l,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{let d=Es.getController(l),{datasetElementType:c,dataElementType:h}=De.datasets[l];Object.assign(d,{dataElementType:Es.getElement(h),datasetElementType:c&&Es.getElement(c)}),a.controller=new d(this,n),i.push(a.controller)}}return this._updateMetasets(),i}_resetElements(){we(this.data.datasets,(i,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){let s=this.config;s.update();let n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0})===!1)return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,h=this.data.datasets.length;c<h;c++){let{controller:u}=this.getDatasetMeta(c),p=!o&&r.indexOf(u)===-1;u.buildOrUpdateElements(p),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),o||we(r,c=>{c.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(bb("z","_idx"));let{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){we(this.scales,i=>{si.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let i=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(i.events);(!ru(s,n)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:i}=this,s=this._getUniformDataChanges()||[];for(let{method:n,start:o,count:r}of s){let a=n==="_removeElements"?-r:r;P0(i,o,a)}}_getUniformDataChanges(){let i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];let s=this.data.datasets.length,n=r=>new Set(i.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),o=n(0);for(let r=1;r<s;r++)if(!ru(o,n(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(i){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;si.update(this,this.width,this.height,i);let s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],we(this.boxes,o=>{n&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Us(i)?i({datasetIndex:s}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,s){let n=this.getDatasetMeta(i),o={meta:n,index:i,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(n.controller._update(s),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ks.has(this)?this.attached&&!Ks.running(this)&&Ks.start(this):(this.draw(),vb({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){let{width:n,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let s=this._layers;for(i=0;i<s.length&&s[i].z<=0;++i)s[i].draw(this.chartArea);for(this._drawDatasets();i<s.length;++i)s[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){let s=this._sortedMetasets,n=[],o,r;for(o=0,r=s.length;o<r;++o){let a=s[o];(!i||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let i=this.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s)this._drawDataset(i[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){let s=this.ctx,n={meta:i,index:i.index,cancelable:!0},o=Au(this,i);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(o&&Ma(s,o),i.controller.draw(),o&&Ia(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(i){return Cs(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,s,n,o){let r=FT.modes[s];return typeof r=="function"?r(this,i,n,o):[]}getDatasetMeta(i){let s=this.data.datasets[i],n=this._metasets,o=n.filter(r=>r&&r._dataset===s).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:i,_dataset:s,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=Xs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){let s=this.data.datasets[i];if(!s)return!1;let n=this.getDatasetMeta(i);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(i,s){let n=this.getDatasetMeta(i);n.hidden=!s}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,s,n){let o=n?"show":"hide",r=this.getDatasetMeta(i),a=r.controller._resolveAnimations(void 0,o);pr(s)?(r.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(i,n),a.update(r,{visible:n}),this.update(l=>l.datasetIndex===i?o:void 0))}hide(i,s){this._updateVisibility(i,s,!1)}show(i,s){this._updateVisibility(i,s,!0)}_destroyDatasetMeta(i){let s=this._metasets[i];s&&s.controller&&s.controller._destroy(),delete this._metasets[i]}_stop(){let i,s;for(this.stop(),Ks.remove(this),i=0,s=this.data.datasets.length;i<s;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:i,ctx:s}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),vu(i,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete kd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let i=this._listeners,s=this.platform,n=(r,a)=>{s.addEventListener(this,r,a),i[r]=a},o=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};we(this.options.events,r=>n(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let i=this._responsiveListeners,s=this.platform,n=(d,c)=>{s.addEventListener(this,d,c),i[d]=c},o=(d,c)=>{i[d]&&(s.removeEventListener(this,d,c),delete i[d])},r=(d,c)=>{this.canvas&&this.resize(d,c)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():a()}unbindEvents(){we(this._listeners,(i,s)=>{this.platform.removeEventListener(this,s,i)}),this._listeners={},we(this._responsiveListeners,(i,s)=>{this.platform.removeEventListener(this,s,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,s,n){let o=n?"set":"remove",r,a,l,d;for(s==="dataset"&&(r=this.getDatasetMeta(i[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),l=0,d=i.length;l<d;++l){a=i[l];let c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){let s=this._active||[],n=i.map(({datasetIndex:r,index:a})=>{let l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!Ta(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(i,s,n){return this._plugins.notify(this,i,s,n)}isPluginEnabled(i){return this._plugins._cache.filter(s=>s.plugin.id===i).length===1}_updateHoverStyles(i,s,n){let o=this.options.hover,r=(d,c)=>d.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),a=r(s,i),l=n?i:r(i,s);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(i,s){let n={event:i,replay:s,cancelable:!0,inChartArea:this.isPointInArea(i)},o=a=>(a.options.events||this.options.events).includes(i.native.type);if(this.notifyPlugins("beforeEvent",n,o)===!1)return;let r=this._handleEvent(i,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(r||n.changed)&&this.render(),this}_handleEvent(i,s,n){let{_active:o=[],options:r}=this,a=s,l=this._getActiveElements(i,o,n,a),d=S_(i),c=k0(i,this._lastEvent,n,d);n&&(this._lastEvent=null,Re(r.onHover,[i,l,this],this),d&&Re(r.onClick,[i,l,this],this));let h=!Ta(l,o);return(h||s)&&(this._active=l,this._updateHoverStyles(l,o,s)),this._lastEvent=c,h}_getActiveElements(i,s,n,o){if(i.type==="mouseout")return[];if(!n)return s;let r=this.options.hover;return this.getElementsAtEventForMode(i,r.mode,r,o)}}return e})();function yb(){return we(zd.instances,e=>e._plugins.invalidate())}function L0(e,t,i){let{startAngle:s,x:n,y:o,outerRadius:r,innerRadius:a,options:l}=t,{borderWidth:d,borderJoinStyle:c}=l,h=Math.min(d/r,Ht(s-i));if(e.beginPath(),e.arc(n,o,r-d/2,s+h/2,i-h/2),a>0){let u=Math.min(d/a,Ht(s-i));e.arc(n,o,a+d/2,i-u/2,s+u/2,!0)}else{let u=Math.min(d/2,r*Ht(s-i));if(c==="round")e.arc(n,o,u,i-be/2,s+be/2,!0);else if(c==="bevel"){let p=2*u*u,m=-p*Math.cos(i+be/2)+n,f=-p*Math.sin(i+be/2)+o,g=p*Math.cos(s+be/2)+n,_=p*Math.sin(s+be/2)+o;e.lineTo(m,f),e.lineTo(g,_)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function F0(e,t,i){let{startAngle:s,pixelMargin:n,x:o,y:r,outerRadius:a,innerRadius:l}=t,d=n/a;e.beginPath(),e.arc(o,r,a,s-d,i+d),l>n?(d=n/l,e.arc(o,r,l,i+d,s-d,!0)):e.arc(o,r,n,i+tt,s-tt),e.closePath(),e.clip()}function N0(e){return Sd(e,["outerStart","outerEnd","innerStart","innerEnd"])}function H0(e,t,i,s){let n=N0(e.options.borderRadius),o=(i-t)/2,r=Math.min(o,s*t/2),a=l=>{let d=(i-Math.min(o,l))*s/2;return bt(l,0,Math.min(o,d))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:bt(n.innerStart,0,r),innerEnd:bt(n.innerEnd,0,r)}}function vr(e,t,i,s){return{x:i+e*Math.cos(t),y:s+e*Math.sin(t)}}function Hd(e,t,i,s,n,o){let{x:r,y:a,startAngle:l,pixelMargin:d,innerRadius:c}=t,h=Math.max(t.outerRadius+s+i-d,0),u=c>0?c+s+i+d:0,p=0,m=n-l;if(s){let ie=c>0?c-s:0,Q=h>0?h-s:0,he=(ie+Q)/2,Ae=he!==0?m*he/(he+s):m;p=(m-Ae)/2}let f=Math.max(.001,m*h-i/be)/h,g=(m-f)/2,_=l+g+p,v=n-g-p,{outerStart:C,outerEnd:y,innerStart:S,innerEnd:x}=H0(t,u,h,v-_),I=h-C,w=h-y,D=_+C/I,V=v-y/w,F=u+S,W=u+x,ee=_+S/F,xe=v-x/W;if(e.beginPath(),o){let ie=(D+V)/2;if(e.arc(r,a,h,D,ie),e.arc(r,a,h,ie,V),y>0){let qe=vr(w,V,r,a);e.arc(qe.x,qe.y,y,V,v+tt)}let Q=vr(W,v,r,a);if(e.lineTo(Q.x,Q.y),x>0){let qe=vr(W,xe,r,a);e.arc(qe.x,qe.y,x,v+tt,xe+Math.PI)}let he=(v-x/u+(_+S/u))/2;if(e.arc(r,a,u,v-x/u,he,!0),e.arc(r,a,u,he,_+S/u,!0),S>0){let qe=vr(F,ee,r,a);e.arc(qe.x,qe.y,S,ee+Math.PI,_-tt)}let Ae=vr(I,_,r,a);if(e.lineTo(Ae.x,Ae.y),C>0){let qe=vr(I,D,r,a);e.arc(qe.x,qe.y,C,_-tt,D)}}else{e.moveTo(r,a);let ie=Math.cos(D)*h+r,Q=Math.sin(D)*h+a;e.lineTo(ie,Q);let he=Math.cos(V)*h+r,Ae=Math.sin(V)*h+a;e.lineTo(he,Ae)}e.closePath()}function V0(e,t,i,s,n){let{fullCircles:o,startAngle:r,circumference:a}=t,l=t.endAngle;if(o){Hd(e,t,i,s,l,n);for(let d=0;d<o;++d)e.fill();isNaN(a)||(l=r+(a%Ne||Ne))}return Hd(e,t,i,s,l,n),e.fill(),l}function B0(e,t,i,s,n){let{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:d,borderJoinStyle:c,borderDash:h,borderDashOffset:u,borderRadius:p}=l,m=l.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=u,m?(e.lineWidth=d*2,e.lineJoin=c||"round"):(e.lineWidth=d,e.lineJoin=c||"bevel");let f=t.endAngle;if(o){Hd(e,t,i,s,f,n);for(let g=0;g<o;++g)e.stroke();isNaN(a)||(f=r+(a%Ne||Ne))}m&&F0(e,t,f),l.selfJoin&&f-r>=be&&p===0&&c!=="miter"&&L0(e,t,f),o||(Hd(e,t,i,s,f,n),e.stroke())}var ep=class extends ns{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){let n=this.getProps(["x","y"],s),{angle:o,distance:r}=cu(n,{x:t,y:i}),{startAngle:a,endAngle:l,innerRadius:d,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,p=q(h,l-a),m=fr(o,a,l)&&a!==l,f=p>=Ne||m,g=Ss(r,d+u,c+u);return f&&g}getCenterPoint(t){let{x:i,y:s,startAngle:n,endAngle:o,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:d}=this.options,c=(n+o)/2,h=(r+a+d+l)/2;return{x:i+Math.cos(c)*h,y:s+Math.sin(c)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:i,circumference:s}=this,n=(i.offset||0)/4,o=(i.spacing||0)/2,r=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ne?Math.floor(s/Ne):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*n,Math.sin(a)*n);let l=1-Math.sin(Math.min(be,s||0)),d=n*l;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,V0(t,this,d,o,r),B0(t,this,d,o,r),t.restore()}};function ov(e,t,i=t){e.lineCap=q(i.borderCapStyle,t.borderCapStyle),e.setLineDash(q(i.borderDash,t.borderDash)),e.lineDashOffset=q(i.borderDashOffset,t.borderDashOffset),e.lineJoin=q(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=q(i.borderWidth,t.borderWidth),e.strokeStyle=q(i.borderColor,t.borderColor)}function z0(e,t,i){e.lineTo(i.x,i.y)}function W0(e){return e.stepped?k_:e.tension||e.cubicInterpolationMode==="monotone"?L_:z0}function rv(e,t,i={}){let s=e.length,{start:n=0,end:o=s-1}=i,{start:r,end:a}=t,l=Math.max(n,r),d=Math.min(o,a),c=n<r&&o<r||n>a&&o>a;return{count:s,start:l,loop:t.loop,ilen:d<l&&!c?s+d-l:d-l}}function $0(e,t,i,s){let{points:n,options:o}=t,{count:r,start:a,loop:l,ilen:d}=rv(n,i,s),c=W0(o),{move:h=!0,reverse:u}=s||{},p,m,f;for(p=0;p<=d;++p)m=n[(a+(u?d-p:p))%r],!m.skip&&(h?(e.moveTo(m.x,m.y),h=!1):c(e,f,m,u,o.stepped),f=m);return l&&(m=n[(a+(u?d:0))%r],c(e,f,m,u,o.stepped)),!!l}function G0(e,t,i,s){let n=t.points,{count:o,start:r,ilen:a}=rv(n,i,s),{move:l=!0,reverse:d}=s||{},c=0,h=0,u,p,m,f,g,_,v=y=>(r+(d?a-y:y))%o,C=()=>{f!==g&&(e.lineTo(c,g),e.lineTo(c,f),e.lineTo(c,_))};for(l&&(p=n[v(0)],e.moveTo(p.x,p.y)),u=0;u<=a;++u){if(p=n[v(u)],p.skip)continue;let y=p.x,S=p.y,x=y|0;x===m?(S<f?f=S:S>g&&(g=S),c=(h*c+y)/++h):(C(),e.lineTo(y,S),m=x,h=0,f=g=S),_=S}C()}function tp(e){let t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?G0:$0}function U0(e){return e.stepped?G_:e.tension||e.cubicInterpolationMode==="monotone"?U_:On}function j0(e,t,i,s){let n=t._path;n||(n=t._path=new Path2D,t.path(n,i,s)&&n.closePath()),ov(e,t.options),e.stroke(n)}function Y0(e,t,i,s){let{segments:n,options:o}=t,r=tp(t);for(let a of n)ov(e,o,a.style),e.beginPath(),r(e,t,a,{start:i,end:i+s-1})&&e.closePath(),e.stroke()}var X0=typeof Path2D=="function";function K0(e,t,i,s){X0&&!t.options.segment?j0(e,t,i,s):Y0(e,t,i,s)}var Wd=(()=>{class e extends ns{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"&&i!=="fill"};constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,s){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let o=n.spanGaps?this._loop:this._fullLoop;z_(this._points,n,i,o,s),this._pointsUpdated=!0}}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Y_(this,this.options.segment))}first(){let i=this.segments,s=this.points;return i.length&&s[i[0].start]}last(){let i=this.segments,s=this.points,n=i.length;return n&&s[i[n-1].end]}interpolate(i,s){let n=this.options,o=i[s],r=this.points,a=Du(this,{property:s,start:o,end:o});if(!a.length)return;let l=[],d=U0(n),c,h;for(c=0,h=a.length;c<h;++c){let{start:u,end:p}=a[c],m=r[u],f=r[p];if(m===f){l.push(m);continue}let g=Math.abs((o-m[s])/(f[s]-m[s])),_=d(m,f,g,n.stepped);_[s]=i[s],l.push(_)}return l.length===1?l[0]:l}pathSegment(i,s,n){return tp(this)(i,this,s,n)}path(i,s,n){let o=this.segments,r=tp(this),a=this._loop;s=s||0,n=n||this.points.length-s;for(let l of o)a&=r(i,this,l,{start:s,end:s+n-1});return!!a}draw(i,s,n,o){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(i.save(),K0(i,this,n,o),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e})();function Sb(e,t,i,s){let n=e.options,{[i]:o}=e.getProps([i],s);return Math.abs(t-o)<n.radius+n.hitRadius}var q0=(()=>{class e extends ns{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,s,n){let o=this.options,{x:r,y:a}=this.getProps(["x","y"],n);return Math.pow(i-r,2)+Math.pow(s-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(i,s){return Sb(this,i,"x",s)}inYRange(i,s){return Sb(this,i,"y",s)}getCenterPoint(i){let{x:s,y:n}=this.getProps(["x","y"],i);return{x:s,y:n}}size(i){i=i||this.options||{};let s=i.radius||0;s=Math.max(s,s&&i.hoverRadius||0);let n=s&&i.borderWidth||0;return(s+n)*2}draw(i,s){let n=this.options;this.skip||n.radius<.1||!Cs(this,s,this.size(n)/2)||(i.strokeStyle=n.borderColor,i.lineWidth=n.borderWidth,i.fillStyle=n.backgroundColor,yd(i,n,this.x,this.y))}getRange(){let i=this.options||{};return i.radius+i.hitRadius}}return e})();function av(e,t){let{x:i,y:s,base:n,width:o,height:r}=e.getProps(["x","y","base","width","height"],t),a,l,d,c,h;return e.horizontal?(h=r/2,a=Math.min(i,n),l=Math.max(i,n),d=s-h,c=s+h):(h=o/2,a=i-h,l=i+h,d=Math.min(s,n),c=Math.max(s,n)),{left:a,top:d,right:l,bottom:c}}function Pn(e,t,i,s){return e?0:bt(t,i,s)}function Q0(e,t,i){let s=e.options.borderWidth,n=e.borderSkipped,o=yu(s);return{t:Pn(n.top,o.top,0,i),r:Pn(n.right,o.right,0,t),b:Pn(n.bottom,o.bottom,0,i),l:Pn(n.left,o.left,0,t)}}function Z0(e,t,i){let{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,o=Dn(n),r=Math.min(t,i),a=e.borderSkipped,l=s||de(n);return{topLeft:Pn(!l||a.top||a.left,o.topLeft,0,r),topRight:Pn(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Pn(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Pn(!l||a.bottom||a.right,o.bottomRight,0,r)}}function J0(e){let t=av(e),i=t.right-t.left,s=t.bottom-t.top,n=Q0(e,i/2,s/2),o=Z0(e,i/2,s/2);return{outer:{x:t.left,y:t.top,w:i,h:s,radius:o},inner:{x:t.left+n.l,y:t.top+n.t,w:i-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,o.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(n.b,n.r))}}}}function Bu(e,t,i,s){let n=t===null,o=i===null,a=e&&!(n&&o)&&av(e,s);return a&&(n||Ss(t,a.left,a.right))&&(o||Ss(i,a.top,a.bottom))}function eO(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function tO(e,t){e.rect(t.x,t.y,t.w,t.h)}function zu(e,t,i={}){let s=e.x!==i.x?-t:0,n=e.y!==i.y?-t:0,o=(e.x+e.w!==i.x+i.w?t:0)-s,r=(e.y+e.h!==i.y+i.h?t:0)-n;return{x:e.x+s,y:e.y+n,w:e.w+o,h:e.h+r,radius:e.radius}}var ip=class extends ns{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:i,options:{borderColor:s,backgroundColor:n}}=this,{inner:o,outer:r}=J0(this),a=eO(r.radius)?_r:tO;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,zu(r,i,o)),t.clip(),a(t,zu(o,-i,r)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,zu(o,i)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,i,s){return Bu(this,t,i,s)}inXRange(t,i){return Bu(this,t,null,i)}inYRange(t,i){return Bu(this,null,t,i)}getCenterPoint(t){let{x:i,y:s,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(i+n)/2:i,y:o?s:(s+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},iO=Object.freeze({__proto__:null,ArcElement:ep,BarElement:ip,LineElement:Wd,PointElement:q0}),sp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],wb=sp.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function lv(e){return sp[e%sp.length]}function dv(e){return wb[e%wb.length]}function sO(e,t){return e.borderColor=lv(t),e.backgroundColor=dv(t),++t}function nO(e,t){return e.backgroundColor=e.data.map(()=>lv(t++)),t}function oO(e,t){return e.backgroundColor=e.data.map(()=>dv(t++)),t}function rO(e){let t=0;return(i,s)=>{let n=e.getDatasetMeta(s).controller;n instanceof hp?t=nO(i,t):n instanceof qb?t=oO(i,t):n&&(t=sO(i,t))}}function Eb(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function aO(e){return e&&(e.borderColor||e.backgroundColor)}function lO(){return De.borderColor!=="rgba(0,0,0,0.1)"||De.backgroundColor!=="rgba(0,0,0,0.1)"}var dO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,i){if(!i.enabled)return;let{data:{datasets:s},options:n}=e.config,{elements:o}=n,r=Eb(s)||aO(n)||o&&Eb(o)||lO();if(!i.forceOverride&&r)return;let a=rO(e);s.forEach(a)}};function cO(e,t,i,s,n){let o=n.samples||s;if(o>=i)return e.slice(t,t+i);let r=[],a=(i-2)/(o-2),l=0,d=t+i-1,c=t,h,u,p,m,f;for(r[l++]=e[c],h=0;h<o-2;h++){let g=0,_=0,v,C=Math.floor((h+1)*a)+1+t,y=Math.min(Math.floor((h+2)*a)+1,i)+t,S=y-C;for(v=C;v<y;v++)g+=e[v].x,_+=e[v].y;g/=S,_/=S;let x=Math.floor(h*a)+1+t,I=Math.min(Math.floor((h+1)*a)+1,i)+t,{x:w,y:D}=e[c];for(p=m=-1,v=x;v<I;v++)m=.5*Math.abs((w-g)*(e[v].y-D)-(w-e[v].x)*(_-D)),m>p&&(p=m,u=e[v],f=v);r[l++]=u,c=f}return r[l++]=e[d],r}function hO(e,t,i,s){let n=0,o=0,r,a,l,d,c,h,u,p,m,f,g=[],_=t+i-1,v=e[t].x,y=e[_].x-v;for(r=t;r<t+i;++r){a=e[r],l=(a.x-v)/y*s,d=a.y;let S=l|0;if(S===c)d<m?(m=d,h=r):d>f&&(f=d,u=r),n=(o*n+a.x)/++o;else{let x=r-1;if(!oe(h)&&!oe(u)){let I=Math.min(h,u),w=Math.max(h,u);I!==p&&I!==x&&g.push(me(N({},e[I]),{x:n})),w!==p&&w!==x&&g.push(me(N({},e[w]),{x:n}))}r>0&&x!==p&&g.push(e[x]),g.push(a),c=S,o=0,m=f=d,h=u=p=r}}return g}function cv(e){if(e._decimated){let t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function xb(e){e.data.datasets.forEach(t=>{cv(t)})}function uO(e,t){let i=t.length,s=0,n,{iScale:o}=e,{min:r,max:a,minDefined:l,maxDefined:d}=o.getUserBounds();return l&&(s=bt(vs(t,o.axis,r).lo,0,i-1)),d?n=bt(vs(t,o.axis,a).hi+1,s,i)-s:n=i-s,{start:s,count:n}}var pO={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,i)=>{if(!i.enabled){xb(e);return}let s=e.width;e.data.datasets.forEach((n,o)=>{let{_data:r,indexAxis:a}=n,l=e.getDatasetMeta(o),d=r||n.data;if(br([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let c=e.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||e.options.parsing)return;let{start:h,count:u}=uO(l,d),p=i.threshold||4*s;if(u<=p){cv(n);return}oe(r)&&(n._data=d,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(f){this._data=f}}));let m;switch(i.algorithm){case"lttb":m=cO(d,h,u,s,i);break;case"min-max":m=hO(d,h,u,s);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}n._decimated=m})},destroy(e){xb(e)}};function mO(e,t,i){let s=e.segments,n=e.points,o=t.points,r=[];for(let a of s){let{start:l,end:d}=a;d=$d(l,d,n);let c=np(i,n[l],n[d],a.loop);if(!t.segments){r.push({source:a,target:c,start:n[l],end:n[d]});continue}let h=Du(t,c);for(let u of h){let p=np(i,o[u.start],o[u.end],u.loop),m=Ru(a,n,p);for(let f of m)r.push({source:f,target:u,start:{[i]:Tb(c,p,"start",Math.max)},end:{[i]:Tb(c,p,"end",Math.min)}})}}return r}function np(e,t,i,s){if(s)return;let n=t[e],o=i[e];return e==="angle"&&(n=Ht(n),o=Ht(o)),{property:e,start:n,end:o}}function fO(e,t){let{x:i=null,y:s=null}=e||{},n=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=$d(r,a,n);let l=n[r],d=n[a];s!==null?(o.push({x:l.x,y:s}),o.push({x:d.x,y:s})):i!==null&&(o.push({x:i,y:l.y}),o.push({x:i,y:d.y}))}),o}function $d(e,t,i){for(;t>e;t--){let s=i[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function Tb(e,t,i,s){return e&&t?s(e[i],t[i]):e?e[i]:t?t[i]:0}function hv(e,t){let i=[],s=!1;return Fe(e)?(s=!0,i=e):i=fO(e,t),i.length?new Wd({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function Ob(e){return e&&e.fill!==!1}function gO(e,t,i){let n=e[t].fill,o=[t],r;if(!i)return n;for(;n!==!1&&o.indexOf(n)===-1;){if(!Ye(n))return n;if(r=e[n],!r)return!1;if(r.visible)return n;o.push(n),n=r.fill}return!1}function _O(e,t,i){let s=yO(e);if(de(s))return isNaN(s.value)?!1:s;let n=parseFloat(s);return Ye(n)&&Math.floor(n)===n?bO(s[0],t,n,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function bO(e,t,i,s){return(e==="-"||e==="+")&&(i=t+i),i===t||i<0||i>=s?!1:i}function vO(e,t){let i=null;return e==="start"?i=t.bottom:e==="end"?i=t.top:de(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}function CO(e,t,i){let s;return e==="start"?s=i:e==="end"?s=t.options.reverse?t.min:t.max:de(e)?s=e.value:s=t.getBaseValue(),s}function yO(e){let t=e.options,i=t.fill,s=q(i&&i.target,i);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function SO(e){let{scale:t,index:i,line:s}=e,n=[],o=s.segments,r=s.points,a=wO(t,i);a.push(hv({x:null,y:t.bottom},s));for(let l=0;l<o.length;l++){let d=o[l];for(let c=d.start;c<=d.end;c++)EO(n,r[c],a)}return new Wd({points:n,options:{}})}function wO(e,t){let i=[],s=e.getMatchingVisibleMetas("line");for(let n=0;n<s.length;n++){let o=s[n];if(o.index===t)break;o.hidden||i.unshift(o.dataset)}return i}function EO(e,t,i){let s=[];for(let n=0;n<i.length;n++){let o=i[n],{first:r,last:a,point:l}=xO(o,t,"x");if(!(!l||r&&a)){if(r)s.unshift(l);else if(e.push(l),!a)break}}e.push(...s)}function xO(e,t,i){let s=e.interpolate(t,i);if(!s)return{};let n=s[i],o=e.segments,r=e.points,a=!1,l=!1;for(let d=0;d<o.length;d++){let c=o[d],h=r[c.start][i],u=r[c.end][i];if(Ss(n,h,u)){a=n===h,l=n===u;break}}return{first:a,last:l,point:s}}var Vd=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,s){let{x:n,y:o,radius:r}=this;return i=i||{start:0,end:Ne},t.arc(n,o,r,i.end,i.start,!0),!s.bounds}interpolate(t){let{x:i,y:s,radius:n}=this,o=t.angle;return{x:i+Math.cos(o)*n,y:s+Math.sin(o)*n,angle:o}}};function TO(e){let{chart:t,fill:i,line:s}=e;if(Ye(i))return OO(t,i);if(i==="stack")return SO(e);if(i==="shape")return!0;let n=MO(e);return n instanceof Vd?n:hv(n,s)}function OO(e,t){let i=e.getDatasetMeta(t);return i&&e.isDatasetVisible(t)?i.dataset:null}function MO(e){return(e.scale||{}).getPointPositionForValue?RO(e):IO(e)}function IO(e){let{scale:t={},fill:i}=e,s=vO(i,t);if(Ye(s)){let n=t.isHorizontal();return{x:n?s:null,y:n?null:s}}return null}function RO(e){let{scale:t,fill:i}=e,s=t.options,n=t.getLabels().length,o=s.reverse?t.max:t.min,r=CO(i,t,o),a=[];if(s.grid.circular){let l=t.getPointPositionForValue(0,o);return new Vd({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<n;++l)a.push(t.getPointPositionForValue(l,r));return a}function Wu(e,t,i){let s=TO(t),{chart:n,index:o,line:r,scale:a,axis:l}=t,d=r.options,c=d.fill,h=d.backgroundColor,{above:u=h,below:p=h}=c||{},m=n.getDatasetMeta(o),f=Au(n,m);s&&r.points.length&&(Ma(e,i),DO(e,{line:r,target:s,above:u,below:p,area:i,scale:a,axis:l,clip:f}),Ia(e))}function DO(e,t){let{line:i,target:s,above:n,below:o,area:r,scale:a,clip:l}=t,d=i._loop?"angle":t.axis;e.save();let c=o;o!==n&&(d==="x"?(Mb(e,s,r.top),$u(e,{line:i,target:s,color:n,scale:a,property:d,clip:l}),e.restore(),e.save(),Mb(e,s,r.bottom)):d==="y"&&(Ib(e,s,r.left),$u(e,{line:i,target:s,color:o,scale:a,property:d,clip:l}),e.restore(),e.save(),Ib(e,s,r.right),c=n)),$u(e,{line:i,target:s,color:c,scale:a,property:d,clip:l}),e.restore()}function Mb(e,t,i){let{segments:s,points:n}=t,o=!0,r=!1;e.beginPath();for(let a of s){let{start:l,end:d}=a,c=n[l],h=n[$d(l,d,n)];o?(e.moveTo(c.x,c.y),o=!1):(e.lineTo(c.x,i),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(h.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function Ib(e,t,i){let{segments:s,points:n}=t,o=!0,r=!1;e.beginPath();for(let a of s){let{start:l,end:d}=a,c=n[l],h=n[$d(l,d,n)];o?(e.moveTo(c.x,c.y),o=!1):(e.lineTo(i,c.y),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(i,h.y)}e.lineTo(i,t.first().y),e.closePath(),e.clip()}function $u(e,t){let{line:i,target:s,property:n,color:o,scale:r,clip:a}=t,l=mO(i,s,n);for(let{source:d,target:c,start:h,end:u}of l){let{style:{backgroundColor:p=o}={}}=d,m=s!==!0;e.save(),e.fillStyle=p,AO(e,r,a,m&&np(n,h,u)),e.beginPath();let f=!!i.pathSegment(e,d),g;if(m){f?e.closePath():Rb(e,s,u,n);let _=!!s.pathSegment(e,c,{move:f,reverse:!0});g=f&&_,g||Rb(e,s,h,n)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function AO(e,t,i,s){let n=t.chart.chartArea,{property:o,start:r,end:a}=s||{};if(o==="x"||o==="y"){let l,d,c,h;o==="x"?(l=r,d=n.top,c=a,h=n.bottom):(l=n.left,d=r,c=n.right,h=a),e.beginPath(),i&&(l=Math.max(l,i.left),c=Math.min(c,i.right),d=Math.max(d,i.top),h=Math.min(h,i.bottom)),e.rect(l,d,c-l,h-d),e.clip()}}function Rb(e,t,i,s){let n=t.interpolate(i,s);n&&e.lineTo(n.x,n.y)}var PO={id:"filler",afterDatasetsUpdate(e,t,i){let s=(e.data.datasets||[]).length,n=[],o,r,a,l;for(r=0;r<s;++r)o=e.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof Wd&&(l={visible:e.isDatasetVisible(r),index:r,fill:_O(a,r,s),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,n.push(l);for(r=0;r<s;++r)l=n[r],!(!l||l.fill===!1)&&(l.fill=gO(n,r,i.propagate))},beforeDraw(e,t,i){let s=i.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=n.length-1;r>=0;--r){let a=n[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),s&&a.fill&&Wu(e.ctx,a,o))}},beforeDatasetsDraw(e,t,i){if(i.drawTime!=="beforeDatasetsDraw")return;let s=e.getSortedVisibleDatasetMetas();for(let n=s.length-1;n>=0;--n){let o=s[n].$filler;Ob(o)&&Wu(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,i){let s=t.meta.$filler;!Ob(s)||i.drawTime!=="beforeDatasetDraw"||Wu(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Db=(e,t)=>{let{boxHeight:i=t,boxWidth:s=t}=e;return e.usePointStyle&&(i=Math.min(i,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(t,i)}},kO=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index,Bd=class extends ns{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,s){this.maxWidth=t,this.maxHeight=i,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},i=Re(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(s=>t.filter(s,this.chart.data))),t.sort&&(i=i.sort((s,n)=>t.sort(s,n,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){let{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}let s=t.labels,n=ut(s.font),o=n.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Db(s,o),d,c;i.font=n.string,this.isHorizontal()?(d=this.maxWidth,c=this._fitRows(r,o,a,l)+10):(c=this.maxHeight,d=this._fitCols(r,n,a,l)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,i,s,n){let{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],d=this.lineWidths=[0],c=n+a,h=t;o.textAlign="left",o.textBaseline="middle";let u=-1,p=-c;return this.legendItems.forEach((m,f)=>{let g=s+i/2+o.measureText(m.text).width;(f===0||d[d.length-1]+g+2*a>r)&&(h+=c,d[d.length-(f>0?0:1)]=0,p+=c,u++),l[f]={left:0,top:p,row:u,width:g,height:n},d[d.length-1]+=g+a}),h}_fitCols(t,i,s,n){let{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],d=this.columnSizes=[],c=r-t,h=a,u=0,p=0,m=0,f=0;return this.legendItems.forEach((g,_)=>{let{itemWidth:v,itemHeight:C}=LO(s,i,o,g,n);_>0&&p+C+2*a>c&&(h+=u+a,d.push({width:u,height:p}),m+=u+a,f++,u=p=0),l[_]={left:m,top:p,col:f,width:v,height:C},u=Math.max(u,v),p+=C+a}),h+=u,d.push({width:u,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:s,labels:{padding:n},rtl:o}}=this,r=wo(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Vt(s,this.left+n,this.right-this.lineWidths[a]);for(let d of i)a!==d.row&&(a=d.row,l=Vt(s,this.left+n,this.right-this.lineWidths[a])),d.top+=this.top+t+n,d.left=r.leftForLtr(r.x(l),d.width),l+=d.width+n}else{let a=0,l=Vt(s,this.top+t+n,this.bottom-this.columnSizes[a].height);for(let d of i)d.col!==a&&(a=d.col,l=Vt(s,this.top+t+n,this.bottom-this.columnSizes[a].height)),d.top=l,d.left+=this.left+n,d.left=r.leftForLtr(r.x(d.left),d.width),l+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Ma(t,this),this._draw(),Ia(t)}}_draw(){let{options:t,columnSizes:i,lineWidths:s,ctx:n}=this,{align:o,labels:r}=t,a=De.color,l=wo(t.rtl,this.left,this.width),d=ut(r.font),{padding:c}=r,h=d.size,u=h/2,p;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;let{boxWidth:m,boxHeight:f,itemHeight:g}=Db(r,h),_=function(x,I,w){if(isNaN(m)||m<=0||isNaN(f)||f<0)return;n.save();let D=q(w.lineWidth,1);if(n.fillStyle=q(w.fillStyle,a),n.lineCap=q(w.lineCap,"butt"),n.lineDashOffset=q(w.lineDashOffset,0),n.lineJoin=q(w.lineJoin,"miter"),n.lineWidth=D,n.strokeStyle=q(w.strokeStyle,a),n.setLineDash(q(w.lineDash,[])),r.usePointStyle){let V={radius:f*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:D},F=l.xPlus(x,m/2),W=I+u;Cu(n,V,F,W,r.pointStyleWidth&&m)}else{let V=I+Math.max((h-f)/2,0),F=l.leftForLtr(x,m),W=Dn(w.borderRadius);n.beginPath(),Object.values(W).some(ee=>ee!==0)?_r(n,{x:F,y:V,w:m,h:f,radius:W}):n.rect(F,V,m,f),n.fill(),D!==0&&n.stroke()}n.restore()},v=function(x,I,w){Rn(n,w.text,x,I+g/2,d,{strikethrough:w.hidden,textAlign:l.textAlign(w.textAlign)})},C=this.isHorizontal(),y=this._computeTitleHeight();C?p={x:Vt(o,this.left+c,this.right-s[0]),y:this.top+c+y,line:0}:p={x:this.left+c,y:Vt(o,this.top+y+c,this.bottom-i[0].height),line:0},Mu(this.ctx,t.textDirection);let S=g+c;this.legendItems.forEach((x,I)=>{n.strokeStyle=x.fontColor,n.fillStyle=x.fontColor;let w=n.measureText(x.text).width,D=l.textAlign(x.textAlign||(x.textAlign=r.textAlign)),V=m+u+w,F=p.x,W=p.y;l.setWidth(this.width),C?I>0&&F+V+c>this.right&&(W=p.y+=S,p.line++,F=p.x=Vt(o,this.left+c,this.right-s[p.line])):I>0&&W+S>this.bottom&&(F=p.x=F+i[p.line].width+c,p.line++,W=p.y=Vt(o,this.top+y+c,this.bottom-i[p.line].height));let ee=l.x(F);if(_(ee,W,x),F=D_(D,F+m+u,C?F+V:this.right,t.rtl),v(l.x(F),W,x),C)p.x+=V+c;else if(typeof x.text!="string"){let xe=d.lineHeight;p.y+=uv(x,xe)+c}else p.y+=S}),Iu(this.ctx,t.textDirection)}drawTitle(){let t=this.options,i=t.title,s=ut(i.font),n=Bt(i.padding);if(!i.display)return;let o=wo(t.rtl,this.left,this.width),r=this.ctx,a=i.position,l=s.size/2,d=n.top+l,c,h=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+d,h=Vt(t.align,h,this.right-u);else{let m=this.columnSizes.reduce((f,g)=>Math.max(f,g.height),0);c=d+Vt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}let p=Vt(a,h,h+u);r.textAlign=o.textAlign(vd(a)),r.textBaseline="middle",r.strokeStyle=i.color,r.fillStyle=i.color,r.font=s.string,Rn(r,i.text,p,c,s)}_computeTitleHeight(){let t=this.options.title,i=ut(t.font),s=Bt(t.padding);return t.display?i.lineHeight+s.height:0}_getLegendItemAt(t,i){let s,n,o;if(Ss(t,this.left,this.right)&&Ss(i,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(n=o[s],Ss(t,n.left,n.left+n.width)&&Ss(i,n.top,n.top+n.height))return this.legendItems[s]}return null}handleEvent(t){let i=this.options;if(!HO(t.type,i))return;let s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let n=this._hoveredItem,o=kO(n,s);n&&!o&&Re(i.onLeave,[t,n,this],this),this._hoveredItem=s,s&&!o&&Re(i.onHover,[t,s,this],this)}else s&&Re(i.onClick,[t,s,this],this)}};function LO(e,t,i,s,n){let o=FO(s,e,t,i),r=NO(n,s,t.lineHeight);return{itemWidth:o,itemHeight:r}}function FO(e,t,i,s){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((o,r)=>o.length>r.length?o:r)),t+i.size/2+s.measureText(n).width}function NO(e,t,i){let s=e;return typeof t.text!="string"&&(s=uv(t,i)),s}function uv(e,t){let i=e.text?e.text.length:0;return t*i}function HO(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var VO={id:"legend",_element:Bd,start(e,t,i){let s=e.legend=new Bd({ctx:e.ctx,options:i,chart:e});si.configure(e,s,i),si.addBox(e,s)},stop(e){si.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){let s=e.legend;si.configure(e,s,i),s.options=i},afterUpdate(e){let t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){let s=t.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),t.hidden=!0):(n.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{let d=l.controller.getStyle(i?0:void 0),c=Bt(d.borderWidth);return{text:t[l.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:r&&(a||d.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},Ha=class extends ns{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){let s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;let n=Fe(s.text)?s.text.length:1;this._padding=Bt(s.padding);let o=n*ut(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:i,left:s,bottom:n,right:o,options:r}=this,a=r.align,l=0,d,c,h;return this.isHorizontal()?(c=Vt(a,s,o),h=i+t,d=o-s):(r.position==="left"?(c=s+t,h=Vt(a,n,i),l=be*-.5):(c=o-t,h=Vt(a,i,n),l=be*.5),d=n-i),{titleX:c,titleY:h,maxWidth:d,rotation:l}}draw(){let t=this.ctx,i=this.options;if(!i.display)return;let s=ut(i.font),o=s.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:d}=this._drawArgs(o);Rn(t,i.text,0,0,s,{color:i.color,maxWidth:l,rotation:d,textAlign:vd(i.align),textBaseline:"middle",translation:[r,a]})}};function BO(e,t){let i=new Ha({ctx:e.ctx,options:t,chart:e});si.configure(e,i,t),si.addBox(e,i),e.titleBlock=i}var zO={id:"title",_element:Ha,start(e,t,i){BO(e,i)},stop(e){let t=e.titleBlock;si.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){let s=e.titleBlock;si.configure(e,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Rd=new WeakMap,WO={id:"subtitle",start(e,t,i){let s=new Ha({ctx:e.ctx,options:i,chart:e});si.configure(e,s,i),si.addBox(e,s),Rd.set(e,s)},stop(e){si.removeBox(e,Rd.get(e)),Rd.delete(e)},beforeUpdate(e,t,i){let s=Rd.get(e);si.configure(e,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Fa={average(e){if(!e.length)return!1;let t,i,s=new Set,n=0,o=0;for(t=0,i=e.length;t<i;++t){let a=e[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();s.add(l.x),n+=l.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:n/o}},nearest(e,t){if(!e.length)return!1;let i=t.x,s=t.y,n=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){let l=e[o].element;if(l&&l.hasValue()){let d=l.getCenterPoint(),c=md(t,d);c<n&&(n=c,a=l)}}if(a){let l=a.tooltipPosition();i=l.x,s=l.y}return{x:i,y:s}}};function ws(e,t){return t&&(Fe(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function qs(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function $O(e,t){let{element:i,datasetIndex:s,index:n}=t,o=e.getDatasetMeta(s).controller,{label:r,value:a}=o.getLabelAndValue(n);return{chart:e,label:r,parsed:o.getParsed(n),raw:e.data.datasets[s].data[n],formattedValue:a,dataset:o.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function Ab(e,t){let i=e.chart.ctx,{body:s,footer:n,title:o}=e,{boxWidth:r,boxHeight:a}=t,l=ut(t.bodyFont),d=ut(t.titleFont),c=ut(t.footerFont),h=o.length,u=n.length,p=s.length,m=Bt(t.padding),f=m.height,g=0,_=s.reduce((y,S)=>y+S.before.length+S.lines.length+S.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,h&&(f+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),_){let y=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;f+=p*y+(_-p)*l.lineHeight+(_-1)*t.bodySpacing}u&&(f+=t.footerMarginTop+u*c.lineHeight+(u-1)*t.footerSpacing);let v=0,C=function(y){g=Math.max(g,i.measureText(y).width+v)};return i.save(),i.font=d.string,we(e.title,C),i.font=l.string,we(e.beforeBody.concat(e.afterBody),C),v=t.displayColors?r+2+t.boxPadding:0,we(s,y=>{we(y.before,C),we(y.lines,C),we(y.after,C)}),v=0,i.font=c.string,we(e.footer,C),i.restore(),g+=m.width,{width:g,height:f}}function GO(e,t){let{y:i,height:s}=t;return i<s/2?"top":i>e.height-s/2?"bottom":"center"}function UO(e,t,i,s){let{x:n,width:o}=s,r=i.caretSize+i.caretPadding;if(e==="left"&&n+o+r>t.width||e==="right"&&n-o-r<0)return!0}function jO(e,t,i,s){let{x:n,width:o}=i,{width:r,chartArea:{left:a,right:l}}=e,d="center";return s==="center"?d=n<=(a+l)/2?"left":"right":n<=o/2?d="left":n>=r-o/2&&(d="right"),UO(d,e,t,i)&&(d="center"),d}function Pb(e,t,i){let s=i.yAlign||t.yAlign||GO(e,i);return{xAlign:i.xAlign||t.xAlign||jO(e,t,i,s),yAlign:s}}function YO(e,t){let{x:i,width:s}=e;return t==="right"?i-=s:t==="center"&&(i-=s/2),i}function XO(e,t,i){let{y:s,height:n}=e;return t==="top"?s+=i:t==="bottom"?s-=n+i:s-=n/2,s}function kb(e,t,i,s){let{caretSize:n,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:l}=i,d=n+o,{topLeft:c,topRight:h,bottomLeft:u,bottomRight:p}=Dn(r),m=YO(t,a),f=XO(t,l,d);return l==="center"?a==="left"?m+=d:a==="right"&&(m-=d):a==="left"?m-=Math.max(c,u)+n:a==="right"&&(m+=Math.max(h,p)+n),{x:bt(m,0,s.width-t.width),y:bt(f,0,s.height-t.height)}}function Dd(e,t,i){let s=Bt(i.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function Lb(e){return ws([],qs(e))}function KO(e,t,i){return Xs(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function Fb(e,t){let i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}var pv={beforeTitle:ys,title(e){if(e.length>0){let t=e[0],i=t.chart.data.labels,s=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return i[t.dataIndex]}return""},afterTitle:ys,beforeBody:ys,beforeLabel:ys,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let i=e.formattedValue;return oe(i)||(t+=i),t},labelColor(e){let i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:ys,afterBody:ys,beforeFooter:ys,footer:ys,afterFooter:ys};function xi(e,t,i,s){let n=e[t].call(i,s);return typeof n>"u"?pv[t].call(i,s):n}var Nb=(()=>{class e extends ns{static positioners=Fa;constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let i=this._cachedAnimations;if(i)return i;let s=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&s.options.animation&&n.animations,r=new Ld(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=KO(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,s){let{callbacks:n}=s,o=xi(n,"beforeTitle",this,i),r=xi(n,"title",this,i),a=xi(n,"afterTitle",this,i),l=[];return l=ws(l,qs(o)),l=ws(l,qs(r)),l=ws(l,qs(a)),l}getBeforeBody(i,s){return Lb(xi(s.callbacks,"beforeBody",this,i))}getBody(i,s){let{callbacks:n}=s,o=[];return we(i,r=>{let a={before:[],lines:[],after:[]},l=Fb(n,r);ws(a.before,qs(xi(l,"beforeLabel",this,r))),ws(a.lines,xi(l,"label",this,r)),ws(a.after,qs(xi(l,"afterLabel",this,r))),o.push(a)}),o}getAfterBody(i,s){return Lb(xi(s.callbacks,"afterBody",this,i))}getFooter(i,s){let{callbacks:n}=s,o=xi(n,"beforeFooter",this,i),r=xi(n,"footer",this,i),a=xi(n,"afterFooter",this,i),l=[];return l=ws(l,qs(o)),l=ws(l,qs(r)),l=ws(l,qs(a)),l}_createItems(i){let s=this._active,n=this.chart.data,o=[],r=[],a=[],l=[],d,c;for(d=0,c=s.length;d<c;++d)l.push($O(this.chart,s[d]));return i.filter&&(l=l.filter((h,u,p)=>i.filter(h,u,p,n))),i.itemSort&&(l=l.sort((h,u)=>i.itemSort(h,u,n))),we(l,h=>{let u=Fb(i.callbacks,h);o.push(xi(u,"labelColor",this,h)),r.push(xi(u,"labelPointStyle",this,h)),a.push(xi(u,"labelTextColor",this,h))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(i,s){let n=this.options.setContext(this.getContext()),o=this._active,r,a=[];if(!o.length)this.opacity!==0&&(r={opacity:0});else{let l=Fa[n.position].call(this,o,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);let d=this._size=Ab(this,n),c=Object.assign({},l,d),h=Pb(this.chart,n,c),u=kb(n,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:d.width,height:d.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),i&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(i,s,n,o){let r=this.getCaretPosition(i,n,o);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(i,s,n){let{xAlign:o,yAlign:r}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:d,topRight:c,bottomLeft:h,bottomRight:u}=Dn(l),{x:p,y:m}=i,{width:f,height:g}=s,_,v,C,y,S,x;return r==="center"?(S=m+g/2,o==="left"?(_=p,v=_-a,y=S+a,x=S-a):(_=p+f,v=_+a,y=S-a,x=S+a),C=_):(o==="left"?v=p+Math.max(d,h)+a:o==="right"?v=p+f-Math.max(c,u)-a:v=this.caretX,r==="top"?(y=m,S=y-a,_=v-a,C=v+a):(y=m+g,S=y+a,_=v+a,C=v-a),x=y),{x1:_,x2:v,x3:C,y1:y,y2:S,y3:x}}drawTitle(i,s,n){let o=this.title,r=o.length,a,l,d;if(r){let c=wo(n.rtl,this.x,this.width);for(i.x=Dd(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",a=ut(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=a.string,d=0;d<r;++d)s.fillText(o[d],c.x(i.x),i.y+a.lineHeight/2),i.y+=a.lineHeight+l,d+1===r&&(i.y+=n.titleMarginBottom-l)}}_drawColorBox(i,s,n,o,r){let a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:d,boxWidth:c}=r,h=ut(r.bodyFont),u=Dd(this,"left",r),p=o.x(u),m=d<h.lineHeight?(h.lineHeight-d)/2:0,f=s.y+m;if(r.usePointStyle){let g={radius:Math.min(c,d)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=o.leftForLtr(p,c)+c/2,v=f+d/2;i.strokeStyle=r.multiKeyBackground,i.fillStyle=r.multiKeyBackground,yd(i,g,_,v),i.strokeStyle=a.borderColor,i.fillStyle=a.backgroundColor,yd(i,g,_,v)}else{i.lineWidth=de(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,i.strokeStyle=a.borderColor,i.setLineDash(a.borderDash||[]),i.lineDashOffset=a.borderDashOffset||0;let g=o.leftForLtr(p,c),_=o.leftForLtr(o.xPlus(p,1),c-2),v=Dn(a.borderRadius);Object.values(v).some(C=>C!==0)?(i.beginPath(),i.fillStyle=r.multiKeyBackground,_r(i,{x:g,y:f,w:c,h:d,radius:v}),i.fill(),i.stroke(),i.fillStyle=a.backgroundColor,i.beginPath(),_r(i,{x:_,y:f+1,w:c-2,h:d-2,radius:v}),i.fill()):(i.fillStyle=r.multiKeyBackground,i.fillRect(g,f,c,d),i.strokeRect(g,f,c,d),i.fillStyle=a.backgroundColor,i.fillRect(_,f+1,c-2,d-2))}i.fillStyle=this.labelTextColors[n]}drawBody(i,s,n){let{body:o}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:d,boxWidth:c,boxPadding:h}=n,u=ut(n.bodyFont),p=u.lineHeight,m=0,f=wo(n.rtl,this.x,this.width),g=function(D){s.fillText(D,f.x(i.x+m),i.y+p/2),i.y+=p+r},_=f.textAlign(a),v,C,y,S,x,I,w;for(s.textAlign=a,s.textBaseline="middle",s.font=u.string,i.x=Dd(this,_,n),s.fillStyle=n.bodyColor,we(this.beforeBody,g),m=l&&_!=="right"?a==="center"?c/2+h:c+2+h:0,S=0,I=o.length;S<I;++S){for(v=o[S],C=this.labelTextColors[S],s.fillStyle=C,we(v.before,g),y=v.lines,l&&y.length&&(this._drawColorBox(s,i,S,f,n),p=Math.max(u.lineHeight,d)),x=0,w=y.length;x<w;++x)g(y[x]),p=u.lineHeight;we(v.after,g)}m=0,p=u.lineHeight,we(this.afterBody,g),i.y-=r}drawFooter(i,s,n){let o=this.footer,r=o.length,a,l;if(r){let d=wo(n.rtl,this.x,this.width);for(i.x=Dd(this,n.footerAlign,n),i.y+=n.footerMarginTop,s.textAlign=d.textAlign(n.footerAlign),s.textBaseline="middle",a=ut(n.footerFont),s.fillStyle=n.footerColor,s.font=a.string,l=0;l<r;++l)s.fillText(o[l],d.x(i.x),i.y+a.lineHeight/2),i.y+=a.lineHeight+n.footerSpacing}}drawBackground(i,s,n,o){let{xAlign:r,yAlign:a}=this,{x:l,y:d}=i,{width:c,height:h}=n,{topLeft:u,topRight:p,bottomLeft:m,bottomRight:f}=Dn(o.cornerRadius);s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.beginPath(),s.moveTo(l+u,d),a==="top"&&this.drawCaret(i,s,n,o),s.lineTo(l+c-p,d),s.quadraticCurveTo(l+c,d,l+c,d+p),a==="center"&&r==="right"&&this.drawCaret(i,s,n,o),s.lineTo(l+c,d+h-f),s.quadraticCurveTo(l+c,d+h,l+c-f,d+h),a==="bottom"&&this.drawCaret(i,s,n,o),s.lineTo(l+m,d+h),s.quadraticCurveTo(l,d+h,l,d+h-m),a==="center"&&r==="left"&&this.drawCaret(i,s,n,o),s.lineTo(l,d+u),s.quadraticCurveTo(l,d,l+u,d),s.closePath(),s.fill(),o.borderWidth>0&&s.stroke()}_updateAnimationTarget(i){let s=this.chart,n=this.$animations,o=n&&n.x,r=n&&n.y;if(o||r){let a=Fa[i.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=Ab(this,i),d=Object.assign({},a,this._size),c=Pb(s,i,d),h=kb(i,d,c,s);(o._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(i){let s=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(s);let o={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let a=Bt(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(i.save(),i.globalAlpha=n,this.drawBackground(r,i,o,s),Mu(i,s.textDirection),r.y+=a.top,this.drawTitle(r,i,s),this.drawBody(r,i,s),this.drawFooter(r,i,s),Iu(i,s.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,s){let n=this._active,o=i.map(({datasetIndex:l,index:d})=>{let c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[d],index:d}}),r=!Ta(n,o),a=this._positionChanged(o,s);(r||a)&&(this._active=o,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,r=this._active||[],a=this._getActiveElements(i,r,s,n),l=this._positionChanged(a,i),d=s||!Ta(a,r)||l;return d&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,s))),d}_getActiveElements(i,s,n,o){let r=this.options;if(i.type==="mouseout")return[];if(!o)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(i,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(i,s){let{caretX:n,caretY:o,options:r}=this,a=Fa[r.position].call(this,i,s);return a!==!1&&(n!==a.x||o!==a.y)}}return e})(),qO={id:"tooltip",_element:Nb,positioners:Fa,afterInit(e,t,i){i&&(e.tooltip=new Nb({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){let t=e.tooltip;if(t&&t._willRender()){let i={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",me(N({},i),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){let i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},QO=Object.freeze({__proto__:null,Colors:dO,Decimation:pO,Filler:PO,Legend:VO,SubTitle:WO,Title:zO,Tooltip:qO}),ZO=(e,t,i,s)=>(typeof t=="string"?(i=e.push(t)-1,s.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function JO(e,t,i,s){let n=e.indexOf(t);if(n===-1)return ZO(e,t,i,s);let o=e.lastIndexOf(t);return n!==o?i:n}var eM=(e,t)=>e===null?null:bt(Math.round(e),0,t);function Hb(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var tM=(()=>{class e extends To{static id="category";static defaults={ticks:{callback:Hb}};constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){let s=this._addedLabels;if(s.length){let n=this.getLabels();for(let{index:o,label:r}of s)n[o]===r&&n.splice(o,1);this._addedLabels=[]}super.init(i)}parse(i,s){if(oe(i))return null;let n=this.getLabels();return s=isFinite(s)&&n[s]===i?s:JO(n,i,q(s,i),this._addedLabels),eM(s,n.length-1)}determineDataLimits(){let{minDefined:i,maxDefined:s}=this.getUserBounds(),{min:n,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(i||(n=0),s||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){let i=this.min,s=this.max,n=this.options.offset,o=[],r=this.getLabels();r=i===0&&s===r.length-1?r:r.slice(i,s+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=i;a<=s;a++)o.push({value:a});return o}getLabelForValue(i){return Hb.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return typeof i!="number"&&(i=this.parse(i)),i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){let s=this.ticks;return i<0||i>s.length-1?null:this.getPixelForValue(s[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}return e})();function iM(e,t){let i=[],{bounds:n,step:o,min:r,max:a,precision:l,count:d,maxTicks:c,maxDigits:h,includeBounds:u}=e,p=o||1,m=c-1,{min:f,max:g}=t,_=!oe(r),v=!oe(a),C=!oe(d),y=(g-f)/(h+1),S=au((g-f)/m/p)*p,x,I,w,D;if(S<1e-14&&!_&&!v)return[{value:f},{value:g}];D=Math.ceil(g/S)-Math.floor(f/S),D>m&&(S=au(D*S/m/p)*p),oe(l)||(x=Math.pow(10,l),S=Math.ceil(S*x)/x),n==="ticks"?(I=Math.floor(f/S)*S,w=Math.ceil(g/S)*S):(I=f,w=g),_&&v&&o&&E_((a-r)/o,S/1e3)?(D=Math.round(Math.min((a-r)/S,c)),S=(a-r)/D,I=r,w=a):C?(I=_?r:I,w=v?a:w,D=d-1,S=(w-I)/D):(D=(w-I)/S,mr(D,Math.round(D),S/1e3)?D=Math.round(D):D=Math.ceil(D));let V=Math.max(du(S),du(I));x=Math.pow(10,oe(l)?V:l),I=Math.round(I*x)/x,w=Math.round(w*x)/x;let F=0;for(_&&(u&&I!==r?(i.push({value:r}),I<r&&F++,mr(Math.round((I+F*S)*x)/x,r,Vb(r,y,e))&&F++):I<r&&F++);F<D;++F){let W=Math.round((I+F*S)*x)/x;if(v&&W>a)break;i.push({value:W})}return v&&u&&w!==a?i.length&&mr(i[i.length-1].value,a,Vb(a,y,e))?i[i.length-1].value=a:i.push({value:a}):(!v||w===a)&&i.push({value:w}),i}function Vb(e,t,{horizontal:i,minRotation:s}){let n=Yi(s),o=(i?Math.sin(n):Math.cos(n))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}var yr=class extends To{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return oe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:i,maxDefined:s}=this.getUserBounds(),{min:n,max:o}=this,r=l=>n=i?n:l,a=l=>o=s?o:l;if(t){let l=ss(n),d=ss(o);l<0&&d<0?a(0):l>0&&d>0&&r(0)}if(n===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(n-l)}this.min=n,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:i,stepSize:s}=t,n;return s?(n=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),i=i||11),i&&(n=Math.min(i,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,i=t.ticks,s=this.getTickLimit();s=Math.max(2,s);let n={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},o=this._range||this,r=iM(n,o);return t.bounds==="ticks"&&lu(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let t=this.ticks,i=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){let n=(s-i)/Math.max(t.length-1,1)/2;i-=n,s+=n}this._startValue=i,this._endValue=s,this._valueRange=s-i}getLabelForValue(t){return gr(t,this.chart.options.locale,this.options.ticks.format)}},op=class extends yr{static id="linear";static defaults={ticks:{callback:Oa.formatters.numeric}};determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=Ye(t)?t:0,this.max=Ye(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),i=t?this.width:this.height,s=Yi(this.options.ticks.minRotation),n=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,o.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Va=e=>Math.floor(js(e)),xo=(e,t)=>Math.pow(10,Va(e)+t);function Bb(e){return e/Math.pow(10,Va(e))===1}function zb(e,t,i){let s=Math.pow(10,i),n=Math.floor(e/s);return Math.ceil(t/s)-n}function sM(e,t){let i=t-e,s=Va(i);for(;zb(e,t,s)>10;)s++;for(;zb(e,t,s)<10;)s--;return Math.min(s,Va(e))}function nM(e,{min:t,max:i}){t=Ei(e.min,t);let s=[],n=Va(t),o=sM(t,i),r=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=n>o?Math.pow(10,n):0,d=Math.round((t-l)*r)/r,c=Math.floor((t-l)/a/10)*a*10,h=Math.floor((d-c)/Math.pow(10,o)),u=Ei(e.min,Math.round((l+c+h*Math.pow(10,o))*r)/r);for(;u<i;)s.push({value:u,major:Bb(u),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,r=o>=0?1:r),u=Math.round((l+c+h*Math.pow(10,o))*r)/r;let p=Ei(e.max,u);return s.push({value:p,major:Bb(p),significand:h}),s}var rp=class extends To{static id="logarithmic";static defaults={ticks:{callback:Oa.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){let s=yr.prototype.parse.apply(this,[t,i]);if(s===0){this._zero=!0;return}return Ye(s)&&s>0?s:null}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=Ye(t)?Math.max(0,t):null,this.max=Ye(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ye(this._userMin)&&(this.min=t===xo(this.min,0)?xo(this.min,-1):xo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),s=this.min,n=this.max,o=a=>s=t?s:a,r=a=>n=i?n:a;s===n&&(s<=0?(o(1),r(10)):(o(xo(s,-1)),r(xo(n,1)))),s<=0&&o(xo(n,-1)),n<=0&&r(xo(s,1)),this.min=s,this.max=n}buildTicks(){let t=this.options,i={min:this._userMin,max:this._userMax},s=nM(i,this);return t.bounds==="ticks"&&lu(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":gr(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=js(t),this._valueRange=js(this.max)-js(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(js(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}};function ap(e){let t=e.ticks;if(t.display&&e.display){let i=Bt(t.backdropPadding);return q(t.font&&t.font.size,De.font.size)+i.height}return 0}function oM(e,t,i){return i=Fe(i)?i:[i],{w:P_(e,t.string,i),h:i.length*t.lineHeight}}function Wb(e,t,i,s,n){return e===s||e===n?{start:t-i/2,end:t+i/2}:e<s||e>n?{start:t-i,end:t}:{start:t,end:t+i}}function rM(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),s=[],n=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?be/o:0;for(let l=0;l<o;l++){let d=r.setContext(e.getPointLabelContext(l));n[l]=d.padding;let c=e.getPointPosition(l,e.drawingArea+n[l],a),h=ut(d.font),u=oM(e.ctx,h,e._pointLabels[l]);s[l]=u;let p=Ht(e.getIndexAngle(l)+a),m=Math.round(_d(p)),f=Wb(m,c.x,u.w,0,180),g=Wb(m,c.y,u.h,90,270);aM(i,t,p,f,g)}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=cM(e,s,n)}function aM(e,t,i,s,n){let o=Math.abs(Math.sin(i)),r=Math.abs(Math.cos(i)),a=0,l=0;s.start<t.l?(a=(t.l-s.start)/o,e.l=Math.min(e.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),n.start<t.t?(l=(t.t-n.start)/r,e.t=Math.min(e.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function lM(e,t,i){let s=e.drawingArea,{extra:n,additionalAngle:o,padding:r,size:a}=i,l=e.getPointPosition(t,s+n+r,o),d=Math.round(_d(Ht(l.angle+tt))),c=pM(l.y,a.h,d),h=hM(d),u=uM(l.x,a.w,h);return{visible:!0,x:l.x,y:c,textAlign:h,left:u,top:c,right:u+a.w,bottom:c+a.h}}function dM(e,t){if(!t)return!0;let{left:i,top:s,right:n,bottom:o}=e;return!(Cs({x:i,y:s},t)||Cs({x:i,y:o},t)||Cs({x:n,y:s},t)||Cs({x:n,y:o},t))}function cM(e,t,i){let s=[],n=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:ap(o)/2,additionalAngle:r?be/n:0},d;for(let c=0;c<n;c++){l.padding=i[c],l.size=t[c];let h=lM(e,c,l);s.push(h),a==="auto"&&(h.visible=dM(h,d),h.visible&&(d=h))}return s}function hM(e){return e===0||e===180?"center":e<180?"left":"right"}function uM(e,t,i){return i==="right"?e-=t:i==="center"&&(e-=t/2),e}function pM(e,t,i){return i===90||i===270?e-=t/2:(i>270||i<90)&&(e-=t),e}function mM(e,t,i){let{left:s,top:n,right:o,bottom:r}=i,{backdropColor:a}=t;if(!oe(a)){let l=Dn(t.borderRadius),d=Bt(t.backdropPadding);e.fillStyle=a;let c=s-d.left,h=n-d.top,u=o-s+d.width,p=r-n+d.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),_r(e,{x:c,y:h,w:u,h:p,radius:l}),e.fill()):e.fillRect(c,h,u,p)}}function fM(e,t){let{ctx:i,options:{pointLabels:s}}=e;for(let n=t-1;n>=0;n--){let o=e._pointLabelItems[n];if(!o.visible)continue;let r=s.setContext(e.getPointLabelContext(n));mM(i,r,o);let a=ut(r.font),{x:l,y:d,textAlign:c}=o;Rn(i,e._pointLabels[n],l,d+a.lineHeight/2,a,{color:r.color,textAlign:c,textBaseline:"middle"})}}function mv(e,t,i,s){let{ctx:n}=e;if(i)n.arc(e.xCenter,e.yCenter,t,0,Ne);else{let o=e.getPointPosition(0,t);n.moveTo(o.x,o.y);for(let r=1;r<s;r++)o=e.getPointPosition(r,t),n.lineTo(o.x,o.y)}}function gM(e,t,i,s,n){let o=e.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!s||!a||!l||i<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(n.dash||[]),o.lineDashOffset=n.dashOffset,o.beginPath(),mv(e,i,r,s),o.closePath(),o.stroke(),o.restore())}function _M(e,t,i){return Xs(e,{label:i,index:t,type:"pointLabel"})}var lp=class extends yr{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Oa.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Bt(ap(this.options)/2),i=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(i,s)/2)}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!1);this.min=Ye(t)&&!isNaN(t)?t:0,this.max=Ye(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ap(this.options))}generateTickLabels(t){yr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,s)=>{let n=Re(this.options.pointLabels.callback,[i,s],this);return n||n===0?n:""}).filter((i,s)=>this.chart.getDataVisibility(s))}fit(){let t=this.options;t.display&&t.pointLabels.display?rM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,s,n){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,s,n))}getIndexAngle(t){let i=Ne/(this._pointLabels.length||1),s=this.options.startAngle||0;return Ht(t*i+Yi(s))}getDistanceFromCenterForValue(t){if(oe(t))return NaN;let i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(oe(t))return NaN;let i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){let i=this._pointLabels||[];if(t>=0&&t<i.length){let s=i[t];return _M(this.getContext(),t,s)}}getPointPosition(t,i,s=0){let n=this.getIndexAngle(t)-tt+s;return{x:Math.cos(n)*i+this.xCenter,y:Math.sin(n)*i+this.yCenter,angle:n}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:i,top:s,right:n,bottom:o}=this._pointLabelItems[t];return{left:i,top:s,right:n,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:i}}=this.options;if(t){let s=this.ctx;s.save(),s.beginPath(),mv(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){let t=this.ctx,i=this.options,{angleLines:s,grid:n,border:o}=i,r=this._pointLabels.length,a,l,d;if(i.pointLabels.display&&fM(this,r),n.display&&this.ticks.forEach((c,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);let u=this.getContext(h),p=n.setContext(u),m=o.setContext(u);gM(this,p,l,r,m)}}),s.display){for(t.save(),a=r-1;a>=0;a--){let c=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:u}=c;!u||!h||(t.lineWidth=u,t.strokeStyle=h,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),d=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,i=this.options,s=i.ticks;if(!s.display)return;let n=this.getIndexAngle(0),o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!i.reverse)return;let d=s.setContext(this.getContext(l)),c=ut(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),d.showLabelBackdrop){t.font=c.string,r=t.measureText(a.label).width,t.fillStyle=d.backdropColor;let h=Bt(d.backdropPadding);t.fillRect(-r/2-h.left,-o-c.size/2-h.top,r+h.width,c.size+h.height)}Rn(t,a.label,0,-o,c,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}},Gd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ti=Object.keys(Gd);function $b(e,t){return e-t}function Gb(e,t){if(oe(t))return null;let i=e._adapter,{parser:s,round:n,isoWeekday:o}=e._parseOpts,r=t;return typeof s=="function"&&(r=s(r)),Ye(r)||(r=typeof s=="string"?i.parse(r,s):i.parse(r)),r===null?null:(n&&(r=n==="week"&&(So(o)||o===!0)?i.startOf(r,"isoWeek",o):i.startOf(r,n)),+r)}function Ub(e,t,i,s){let n=Ti.length;for(let o=Ti.indexOf(e);o<n-1;++o){let r=Gd[Ti[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((i-t)/(a*r.size))<=s)return Ti[o]}return Ti[n-1]}function bM(e,t,i,s,n){for(let o=Ti.length-1;o>=Ti.indexOf(i);o--){let r=Ti[o];if(Gd[r].common&&e._adapter.diff(n,s,r)>=t-1)return r}return Ti[i?Ti.indexOf(i):0]}function vM(e){for(let t=Ti.indexOf(e)+1,i=Ti.length;t<i;++t)if(Gd[Ti[t]].common)return Ti[t]}function jb(e,t,i){if(!i)e[t]=!0;else if(i.length){let{lo:s,hi:n}=bd(i,t),o=i[s]>=t?i[s]:i[n];e[o]=!0}}function CM(e,t,i,s){let n=e._adapter,o=+n.startOf(t[0].value,s),r=t[t.length-1].value,a,l;for(a=o;a<=r;a=+n.add(a,1,s))l=i[a],l>=0&&(t[l].major=!0);return t}function Yb(e,t,i){let s=[],n={},o=t.length,r,a;for(r=0;r<o;++r)a=t[r],n[a]=r,s.push({value:a,major:!1});return o===0||!i?s:CM(e,s,n,i)}var dp=(()=>{class e extends To{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,s={}){let n=i.time||(i.time={}),o=this._adapter=new DT._date(i.adapters.date);o.init(s),ur(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(i),this._normalized=s.normalized}parse(i,s){return i===void 0?null:Gb(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let i=this.options,s=this._adapter,n=i.time.unit||"day",{min:o,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function d(c){!a&&!isNaN(c.min)&&(o=Math.min(o,c.min)),!l&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!a||!l)&&(d(this._getLabelBounds()),(i.bounds!=="ticks"||i.ticks.source!=="labels")&&d(this.getMinMax(!1))),o=Ye(o)&&!isNaN(o)?o:+s.startOf(Date.now(),n),r=Ye(r)&&!isNaN(r)?r:+s.endOf(Date.now(),n)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){let i=this.getLabelTimestamps(),s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return i.length&&(s=i[0],n=i[i.length-1]),{min:s,max:n}}buildTicks(){let i=this.options,s=i.time,n=i.ticks,o=n.source==="labels"?this.getLabelTimestamps():this._generate();i.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let r=this.min,a=this.max,l=O_(o,r,a);return this._unit=s.unit||(n.autoSkip?Ub(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):bM(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:vM(this._unit),this.initOffsets(o),i.reverse&&l.reverse(),Yb(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let s=0,n=0,o,r;this.options.offset&&i.length&&(o=this.getDecimalForValue(i[0]),i.length===1?s=1-o:s=(this.getDecimalForValue(i[1])-o)/2,r=this.getDecimalForValue(i[i.length-1]),i.length===1?n=r:n=(r-this.getDecimalForValue(i[i.length-2]))/2);let a=i.length<3?.5:.25;s=bt(s,0,a),n=bt(n,0,a),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){let i=this._adapter,s=this.min,n=this.max,o=this.options,r=o.time,a=r.unit||Ub(r.minUnit,s,n,this._getLabelCapacity(s)),l=q(o.ticks.stepSize,1),d=a==="week"?r.isoWeekday:!1,c=So(d)||d===!0,h={},u=s,p,m;if(c&&(u=+i.startOf(u,"isoWeek",d)),u=+i.startOf(u,c?"day":a),i.diff(n,s,a)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+a);let f=o.ticks.source==="data"&&this.getDataTimestamps();for(p=u,m=0;p<n;p=+i.add(p,l,a),m++)jb(h,p,f);return(p===n||o.bounds==="ticks"||m===1)&&jb(h,p,f),Object.keys(h).sort($b).map(g=>+g)}getLabelForValue(i){let s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(i,n.tooltipFormat):s.format(i,n.displayFormats.datetime)}format(i,s){let o=this.options.time.displayFormats,r=this._unit,a=s||o[r];return this._adapter.format(i,a)}_tickFormatFunction(i,s,n,o){let r=this.options,a=r.ticks.callback;if(a)return Re(a,[i,s,n],this);let l=r.time.displayFormats,d=this._unit,c=this._majorUnit,h=d&&l[d],u=c&&l[c],p=n[s],m=c&&u&&p&&p.major;return this._adapter.format(i,o||(m?u:h))}generateTickLabels(i){let s,n,o;for(s=0,n=i.length;s<n;++s)o=i[s],o.label=this._tickFormatFunction(o.value,s,i)}getDecimalForValue(i){return i===null?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){let s=this._offsets,n=this.getDecimalForValue(i);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(i){let s=this._offsets,n=this.getDecimalForPixel(i)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(i){let s=this.options.ticks,n=this.ctx.measureText(i).width,o=Yi(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*a,h:n*a+l*r}}_getLabelCapacity(i){let s=this.options.time,n=s.displayFormats,o=n[s.unit]||n.millisecond,r=this._tickFormatFunction(i,0,Yb(this,[i],this._majorUnit),o),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i=this._cache.data||[],s,n;if(i.length)return i;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(s=0,n=o.length;s<n;++s)i=i.concat(o[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let i=this._cache.labels||[],s,n;if(i.length)return i;let o=this.getLabels();for(s=0,n=o.length;s<n;++s)i.push(Gb(this,o[s]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return uu(i.sort($b))}}return e})();function Ad(e,t,i){let s=0,n=e.length-1,o,r,a,l;i?(t>=e[s].pos&&t<=e[n].pos&&({lo:s,hi:n}=vs(e,"pos",t)),{pos:o,time:a}=e[s],{pos:r,time:l}=e[n]):(t>=e[s].time&&t<=e[n].time&&({lo:s,hi:n}=vs(e,"time",t)),{time:o,pos:a}=e[s],{time:r,pos:l}=e[n]);let d=r-o;return d?a+(l-a)*(t-o)/d:a}var cp=class extends dp{static id="timeseries";static defaults=dp.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=Ad(i,this.min),this._tableRange=Ad(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:i,max:s}=this,n=[],o=[],r,a,l,d,c;for(r=0,a=t.length;r<a;++r)d=t[r],d>=i&&d<=s&&n.push(d);if(n.length<2)return[{time:i,pos:0},{time:s,pos:1}];for(r=0,a=n.length;r<a;++r)c=n[r+1],l=n[r-1],d=n[r],Math.round((c+l)/2)!==d&&o.push({time:d,pos:r/(a-1)});return o}_generate(){let t=this.min,i=this.max,s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(i)||s.length===1)&&s.push(i),s.sort((n,o)=>n-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let i=this.getDataTimestamps(),s=this.getLabelTimestamps();return i.length&&s.length?t=this.normalize(i.concat(s)):t=i.length?i:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Ad(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let i=this._offsets,s=this.getDecimalForPixel(t)/i.factor-i.end;return Ad(this._table,s*this._tableRange+this._minPos,!0)}},yM=Object.freeze({__proto__:null,CategoryScale:tM,LinearScale:op,LogarithmicScale:rp,RadialLinearScale:lp,TimeScale:dp,TimeSeriesScale:cp}),fv=[RT,iO,QO,yM];var SM=typeof global=="object"&&global&&global.Object===Object&&global,Ud=SM;var wM=typeof self=="object"&&self&&self.Object===Object&&self,EM=Ud||wM||Function("return this")(),Xi=EM;var xM=Xi.Symbol,Sr=xM;var gv=Object.prototype,TM=gv.hasOwnProperty,OM=gv.toString,za=Sr?Sr.toStringTag:void 0;function MM(e){var t=TM.call(e,za),i=e[za];try{e[za]=void 0;var s=!0}catch{}var n=OM.call(e);return s&&(t?e[za]=i:delete e[za]),n}var _v=MM;var IM=Object.prototype,RM=IM.toString;function DM(e){return RM.call(e)}var bv=DM;var AM="[object Null]",PM="[object Undefined]",vv=Sr?Sr.toStringTag:void 0;function kM(e){return e==null?e===void 0?PM:AM:vv&&vv in Object(e)?_v(e):bv(e)}var Ln=kM;function LM(e){return e!=null&&typeof e=="object"}var xs=LM;var FM=Array.isArray,Wa=FM;function NM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Oi=NM;function HM(e){return e}var jd=HM;var VM="[object AsyncFunction]",BM="[object Function]",zM="[object GeneratorFunction]",WM="[object Proxy]";function $M(e){if(!Oi(e))return!1;var t=Ln(e);return t==BM||t==zM||t==VM||t==WM}var wr=$M;var GM=Xi["__core-js_shared__"],Yd=GM;var Cv=(function(){var e=/[^.]+$/.exec(Yd&&Yd.keys&&Yd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function UM(e){return!!Cv&&Cv in e}var yv=UM;var jM=Function.prototype,YM=jM.toString;function XM(e){if(e!=null){try{return YM.call(e)}catch{}try{return e+""}catch{}}return""}var Sv=XM;var KM=/[\\^$.*+?()[\]{}|]/g,qM=/^\[object .+?Constructor\]$/,QM=Function.prototype,ZM=Object.prototype,JM=QM.toString,eI=ZM.hasOwnProperty,tI=RegExp("^"+JM.call(eI).replace(KM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iI(e){if(!Oi(e)||yv(e))return!1;var t=wr(e)?tI:qM;return t.test(Sv(e))}var wv=iI;function sI(e,t){return e?.[t]}var Ev=sI;function nI(e,t){var i=Ev(e,t);return wv(i)?i:void 0}var Er=nI;var xv=Object.create,oI=(function(){function e(){}return function(t){if(!Oi(t))return{};if(xv)return xv(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}})(),Tv=oI;function rI(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var Ov=rI;function aI(e,t){var i=-1,s=e.length;for(t||(t=Array(s));++i<s;)t[i]=e[i];return t}var Mv=aI;var lI=800,dI=16,cI=Date.now;function hI(e){var t=0,i=0;return function(){var s=cI(),n=dI-(s-i);if(i=s,n>0){if(++t>=lI)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Iv=hI;function uI(e){return function(){return e}}var Rv=uI;var pI=(function(){try{var e=Er(Object,"defineProperty");return e({},"",{}),e}catch{}})(),xr=pI;var mI=xr?function(e,t){return xr(e,"toString",{configurable:!0,enumerable:!1,value:Rv(t),writable:!0})}:jd,Dv=mI;var fI=Iv(Dv),Av=fI;var gI=9007199254740991,_I=/^(?:0|[1-9]\d*)$/;function bI(e,t){var i=typeof e;return t=t??gI,!!t&&(i=="number"||i!="symbol"&&_I.test(e))&&e>-1&&e%1==0&&e<t}var Xd=bI;function vI(e,t,i){t=="__proto__"&&xr?xr(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var Tr=vI;function CI(e,t){return e===t||e!==e&&t!==t}var Fn=CI;var yI=Object.prototype,SI=yI.hasOwnProperty;function wI(e,t,i){var s=e[t];(!(SI.call(e,t)&&Fn(s,i))||i===void 0&&!(t in e))&&Tr(e,t,i)}var Pv=wI;function EI(e,t,i,s){var n=!i;i||(i={});for(var o=-1,r=t.length;++o<r;){var a=t[o],l=s?s(i[a],e[a],a,i,e):void 0;l===void 0&&(l=e[a]),n?Tr(i,a,l):Pv(i,a,l)}return i}var kv=EI;var Lv=Math.max;function xI(e,t,i){return t=Lv(t===void 0?e.length-1:t,0),function(){for(var s=arguments,n=-1,o=Lv(s.length-t,0),r=Array(o);++n<o;)r[n]=s[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=s[n];return a[t]=i(r),Ov(e,this,a)}}var Fv=xI;function TI(e,t){return Av(Fv(e,t,jd),e+"")}var Nv=TI;var OI=9007199254740991;function MI(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=OI}var Kd=MI;function II(e){return e!=null&&Kd(e.length)&&!wr(e)}var Or=II;function RI(e,t,i){if(!Oi(i))return!1;var s=typeof t;return(s=="number"?Or(i)&&Xd(t,i.length):s=="string"&&t in i)?Fn(i[t],e):!1}var Hv=RI;function DI(e){return Nv(function(t,i){var s=-1,n=i.length,o=n>1?i[n-1]:void 0,r=n>2?i[2]:void 0;for(o=e.length>3&&typeof o=="function"?(n--,o):void 0,r&&Hv(i[0],i[1],r)&&(o=n<3?void 0:o,n=1),t=Object(t);++s<n;){var a=i[s];a&&e(t,a,s,o)}return t})}var Vv=DI;var AI=Object.prototype;function PI(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||AI;return e===i}var qd=PI;function kI(e,t){for(var i=-1,s=Array(e);++i<e;)s[i]=t(i);return s}var Bv=kI;var LI="[object Arguments]";function FI(e){return xs(e)&&Ln(e)==LI}var up=FI;var zv=Object.prototype,NI=zv.hasOwnProperty,HI=zv.propertyIsEnumerable,VI=up((function(){return arguments})())?up:function(e){return xs(e)&&NI.call(e,"callee")&&!HI.call(e,"callee")},$a=VI;function BI(){return!1}var Wv=BI;var Uv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$v=Uv&&typeof module=="object"&&module&&!module.nodeType&&module,zI=$v&&$v.exports===Uv,Gv=zI?Xi.Buffer:void 0,WI=Gv?Gv.isBuffer:void 0,$I=WI||Wv,Qd=$I;var GI="[object Arguments]",UI="[object Array]",jI="[object Boolean]",YI="[object Date]",XI="[object Error]",KI="[object Function]",qI="[object Map]",QI="[object Number]",ZI="[object Object]",JI="[object RegExp]",eR="[object Set]",tR="[object String]",iR="[object WeakMap]",sR="[object ArrayBuffer]",nR="[object DataView]",oR="[object Float32Array]",rR="[object Float64Array]",aR="[object Int8Array]",lR="[object Int16Array]",dR="[object Int32Array]",cR="[object Uint8Array]",hR="[object Uint8ClampedArray]",uR="[object Uint16Array]",pR="[object Uint32Array]",Be={};Be[oR]=Be[rR]=Be[aR]=Be[lR]=Be[dR]=Be[cR]=Be[hR]=Be[uR]=Be[pR]=!0;Be[GI]=Be[UI]=Be[sR]=Be[jI]=Be[nR]=Be[YI]=Be[XI]=Be[KI]=Be[qI]=Be[QI]=Be[ZI]=Be[JI]=Be[eR]=Be[tR]=Be[iR]=!1;function mR(e){return xs(e)&&Kd(e.length)&&!!Be[Ln(e)]}var jv=mR;function fR(e){return function(t){return e(t)}}var Yv=fR;var Xv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ga=Xv&&typeof module=="object"&&module&&!module.nodeType&&module,gR=Ga&&Ga.exports===Xv,pp=gR&&Ud.process,_R=(function(){try{var e=Ga&&Ga.require&&Ga.require("util").types;return e||pp&&pp.binding&&pp.binding("util")}catch{}})(),mp=_R;var Kv=mp&&mp.isTypedArray,bR=Kv?Yv(Kv):jv,Zd=bR;var vR=Object.prototype,CR=vR.hasOwnProperty;function yR(e,t){var i=Wa(e),s=!i&&$a(e),n=!i&&!s&&Qd(e),o=!i&&!s&&!n&&Zd(e),r=i||s||n||o,a=r?Bv(e.length,String):[],l=a.length;for(var d in e)(t||CR.call(e,d))&&!(r&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Xd(d,l)))&&a.push(d);return a}var qv=yR;function SR(e,t){return function(i){return e(t(i))}}var Qv=SR;function wR(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var Zv=wR;var ER=Object.prototype,xR=ER.hasOwnProperty;function TR(e){if(!Oi(e))return Zv(e);var t=qd(e),i=[];for(var s in e)s=="constructor"&&(t||!xR.call(e,s))||i.push(s);return i}var Jv=TR;function OR(e){return Or(e)?qv(e,!0):Jv(e)}var Jd=OR;var MR=Er(Object,"create"),Qs=MR;function IR(){this.__data__=Qs?Qs(null):{},this.size=0}var eC=IR;function RR(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tC=RR;var DR="__lodash_hash_undefined__",AR=Object.prototype,PR=AR.hasOwnProperty;function kR(e){var t=this.__data__;if(Qs){var i=t[e];return i===DR?void 0:i}return PR.call(t,e)?t[e]:void 0}var iC=kR;var LR=Object.prototype,FR=LR.hasOwnProperty;function NR(e){var t=this.__data__;return Qs?t[e]!==void 0:FR.call(t,e)}var sC=NR;var HR="__lodash_hash_undefined__";function VR(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Qs&&t===void 0?HR:t,this}var nC=VR;function Mr(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}Mr.prototype.clear=eC;Mr.prototype.delete=tC;Mr.prototype.get=iC;Mr.prototype.has=sC;Mr.prototype.set=nC;var fp=Mr;function BR(){this.__data__=[],this.size=0}var oC=BR;function zR(e,t){for(var i=e.length;i--;)if(Fn(e[i][0],t))return i;return-1}var Nn=zR;var WR=Array.prototype,$R=WR.splice;function GR(e){var t=this.__data__,i=Nn(t,e);if(i<0)return!1;var s=t.length-1;return i==s?t.pop():$R.call(t,i,1),--this.size,!0}var rC=GR;function UR(e){var t=this.__data__,i=Nn(t,e);return i<0?void 0:t[i][1]}var aC=UR;function jR(e){return Nn(this.__data__,e)>-1}var lC=jR;function YR(e,t){var i=this.__data__,s=Nn(i,e);return s<0?(++this.size,i.push([e,t])):i[s][1]=t,this}var dC=YR;function Ir(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}Ir.prototype.clear=oC;Ir.prototype.delete=rC;Ir.prototype.get=aC;Ir.prototype.has=lC;Ir.prototype.set=dC;var Hn=Ir;var XR=Er(Xi,"Map"),ec=XR;function KR(){this.size=0,this.__data__={hash:new fp,map:new(ec||Hn),string:new fp}}var cC=KR;function qR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var hC=qR;function QR(e,t){var i=e.__data__;return hC(t)?i[typeof t=="string"?"string":"hash"]:i.map}var Vn=QR;function ZR(e){var t=Vn(this,e).delete(e);return this.size-=t?1:0,t}var uC=ZR;function JR(e){return Vn(this,e).get(e)}var pC=JR;function eD(e){return Vn(this,e).has(e)}var mC=eD;function tD(e,t){var i=Vn(this,e),s=i.size;return i.set(e,t),this.size+=i.size==s?0:1,this}var fC=tD;function Rr(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}Rr.prototype.clear=cC;Rr.prototype.delete=uC;Rr.prototype.get=pC;Rr.prototype.has=mC;Rr.prototype.set=fC;var gC=Rr;var iD=Qv(Object.getPrototypeOf,Object),tc=iD;var sD="[object Object]",nD=Function.prototype,oD=Object.prototype,_C=nD.toString,rD=oD.hasOwnProperty,aD=_C.call(Object);function lD(e){if(!xs(e)||Ln(e)!=sD)return!1;var t=tc(e);if(t===null)return!0;var i=rD.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&_C.call(i)==aD}var bC=lD;function dD(){this.__data__=new Hn,this.size=0}var vC=dD;function cD(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var CC=cD;function hD(e){return this.__data__.get(e)}var yC=hD;function uD(e){return this.__data__.has(e)}var SC=uD;var pD=200;function mD(e,t){var i=this.__data__;if(i instanceof Hn){var s=i.__data__;if(!ec||s.length<pD-1)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new gC(s)}return i.set(e,t),this.size=i.size,this}var wC=mD;function Dr(e){var t=this.__data__=new Hn(e);this.size=t.size}Dr.prototype.clear=vC;Dr.prototype.delete=CC;Dr.prototype.get=yC;Dr.prototype.has=SC;Dr.prototype.set=wC;var EC=Dr;var MC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xC=MC&&typeof module=="object"&&module&&!module.nodeType&&module,fD=xC&&xC.exports===MC,TC=fD?Xi.Buffer:void 0,OC=TC?TC.allocUnsafe:void 0;function gD(e,t){if(t)return e.slice();var i=e.length,s=OC?OC(i):new e.constructor(i);return e.copy(s),s}var IC=gD;var _D=Xi.Uint8Array,gp=_D;function bD(e){var t=new e.constructor(e.byteLength);return new gp(t).set(new gp(e)),t}var RC=bD;function vD(e,t){var i=t?RC(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var DC=vD;function CD(e){return typeof e.constructor=="function"&&!qd(e)?Tv(tc(e)):{}}var AC=CD;function yD(e){return function(t,i,s){for(var n=-1,o=Object(t),r=s(t),a=r.length;a--;){var l=r[e?a:++n];if(i(o[l],l,o)===!1)break}return t}}var PC=yD;var SD=PC(),kC=SD;function wD(e,t,i){(i!==void 0&&!Fn(e[t],i)||i===void 0&&!(t in e))&&Tr(e,t,i)}var Ua=wD;function ED(e){return xs(e)&&Or(e)}var LC=ED;function xD(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ja=xD;function TD(e){return kv(e,Jd(e))}var FC=TD;function OD(e,t,i,s,n,o,r){var a=ja(e,i),l=ja(t,i),d=r.get(l);if(d){Ua(e,i,d);return}var c=o?o(a,l,i+"",e,t,r):void 0,h=c===void 0;if(h){var u=Wa(l),p=!u&&Qd(l),m=!u&&!p&&Zd(l);c=l,u||p||m?Wa(a)?c=a:LC(a)?c=Mv(a):p?(h=!1,c=IC(l,!0)):m?(h=!1,c=DC(l,!0)):c=[]:bC(l)||$a(l)?(c=a,$a(a)?c=FC(a):(!Oi(a)||wr(a))&&(c=AC(l))):h=!1}h&&(r.set(l,c),n(c,l,s,o,r),r.delete(l)),Ua(e,i,c)}var NC=OD;function HC(e,t,i,s,n){e!==t&&kC(t,function(o,r){if(n||(n=new EC),Oi(o))NC(e,t,r,i,HC,s,n);else{var a=s?s(ja(e,r),o,r+"",e,t,n):void 0;a===void 0&&(a=o),Ua(e,r,a)}},Jd)}var VC=HC;var MD=Vv(function(e,t,i){VC(e,t,i)}),_p=MD;var RD=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],DD={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:e=>Bn(zn(e.datasetIndex),.4),borderColor:e=>Bn(zn(e.datasetIndex),1),pointBackgroundColor:e=>Bn(zn(e.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:e=>Bn(zn(e.datasetIndex),.6),borderColor:e=>Bn(zn(e.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:e=>Bn(zn(e.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:e=>Bn(zn(e.dataIndex),.6),borderColor:e=>Bn(zn(e.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Bn(e,t){return"rgba("+e.concat(t).join(",")+")"}function bp(e,t){return Math.floor(Math.random()*(t-e+1))+e}function AD(){return[bp(0,255),bp(0,255),bp(0,255)]}function zn(e=0){return RD[e]||AD()}var BC=(()=>{class e{constructor(){this.generateColors=!0}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();zd.register(...fv);var WC=(()=>{class e{constructor(i){i?.plugins&&zd.register(...i?.plugins);let s=_p(i?.generateColors?DD:{},i?.defaults||{});De.set(s)}static forRoot(i){return{ngModule:e,providers:[{provide:BC,useValue:i}]}}}return e.\u0275fac=function(i){return new(i||e)(re(BC,8))},e.\u0275mod=Hi({type:e}),e.\u0275inj=Ni({}),e})();var vp={};aa(vp,{BackendUtilityService:()=>ic});var Ar=(function(e){return e.local="local",e.remote="remote",e})(Ar||{});var ic=class{constructor(t){this.rxjs=t,this._infiniteScrollBottomHit=!1}addRxJsResource(t){this.rxjs=t}executeBackendProcessesCallback(t,i,s,n){let o=new Date;i&&s.service.postProcess&&s.service.postProcess(i),i&&s?.internalPostProcess&&s.internalPostProcess(i),s.postProcess!==void 0&&(i instanceof Object&&(i.metrics={startTime:t,endTime:o,executionTime:o.valueOf()-t.valueOf(),itemCount:n,totalItemCount:n},s.service.options?.infiniteScroll&&(i.infiniteScrollBottomHit=this._infiniteScrollBottomHit,delete i.itemCount)),s.postProcess(i),this.setInfiniteScrollBottomHit(!1))}onBackendError(t,i){if(typeof i?.onError=="function")i.onError(t);else throw t}executeBackendCallback(t,i,s,n,o,r){if(t){s&&!s.clearFilterTriggered&&!s.clearSortTriggered&&r?.emitActionChangedCallback&&r.emitActionChangedCallback.call(this,Ar.remote);let a=t.process(i);if(a instanceof Promise&&a.then)a.then(l=>{this.executeBackendProcessesCallback(n,l,t,o),r?.successCallback?.call(this,s)}).catch(l=>{r?.errorCallback?.call(this,s),this.onBackendError(l,t)});else if(this.rxjs?.isObservable(a)){let l=this.rxjs;l.isObservable(r?.httpCancelRequestSubject)&&r?.httpCancelRequestSubject.next(),a.pipe(l.takeUntil(l.iif(()=>l.isObservable(r?.httpCancelRequestSubject),r?.httpCancelRequestSubject,l.EMPTY))).subscribe(d=>{this.executeBackendProcessesCallback(n,d,t,o),r?.successCallback?.call(this,s)},d=>{r?.errorCallback?.call(this,s),this.onBackendError(d,t)})}}}refreshBackendDataset(t){let i="",s=t?.backendServiceApi;if(!s||!s.service||!s.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(s.service&&(i=s.service.buildQuery()),i&&i!==""){let n=new Date;s.preProcess&&s.preProcess();let o=t?.pagination?.totalItems??0;this.executeBackendCallback(s,i,null,n,o)}}setInfiniteScrollBottomHit(t){this._infiniteScrollBottomHit=t}};var Cp={};aa(Cp,{collectionObserver:()=>Oo,propertyObserver:()=>Pr});function Oo(e,t){if(Array.isArray(e)){let i=["pop","push","reverse","shift","unshift","splice","sort"],s=[];return i.forEach(o=>{e[o]=(...r)=>{let a=Array.prototype[o].apply(e,r);return s.push({method:o,action:a}),t.apply(e,[e,r]),a}}),{disconnect:()=>i.forEach(o=>{e[o]=()=>s[o].action})}}return null}function Pr(e,t,i){let s=e[t];Object.defineProperty(e,t,{configurable:!0,get(){return s},set(n){s=n,i.apply(e,[n,e[t]])}})}var Sp={};aa(Sp,{CancelledException:()=>sc,addTreeLevelAndAggregatorsByMutation:()=>Ya,addTreeLevelByMutation:()=>nc,cancellablePromise:()=>kD,castObservableToPromise:()=>yp,decimalFormatted:()=>kr,fetchAsPromise:()=>Xa,findItemInTreeStructure:()=>oc,findOrDefault:()=>Ts,flattenToParentChildArray:()=>UC,formatNumber:()=>Ee,getAllDateFieldTypes:()=>Fr,getCellValueFromQueryFieldGetter:()=>Lr,getColumnFieldType:()=>LD,getDescendantProperty:()=>ni,getTranslationPrefix:()=>qi,getTreeDataOptionPropName:()=>Mi,isColumnDateType:()=>Wn,mapOperatorByFieldType:()=>YC,mapOperatorToShorthandDesignation:()=>Js,mapOperatorType:()=>FD,objectWithoutKey:()=>XC,thousandSeparatorFormatted:()=>Io,unflattenParentChildArrayToTree:()=>jC,unsubscribeAll:()=>Nr});var fz=Array.prototype.map,gz=Array.prototype.reduce;var PD=e=>e;function $C(e,t,i=PD,s=()=>{}){let n=e&&e.length?[{pointer:e,offset:0}]:[],o=[],r;for(;n.length;)for(r=n.pop();r.offset<r.pointer.length;){let a=r.pointer[r.offset],l=s(a),d=t(a);o.push(i(a,r.node,l,r.nodeId)),r.offset+=1,d&&(n.push(r),r={pointer:d,offset:0,node:a,nodeId:l})}return o}var A=class{};A.locales={TEXT_ALL_SELECTED:"All Selected",TEXT_ALL_X_RECORDS_SELECTED:"All {{x}} records selected",TEXT_APPLY_MASS_UPDATE:"Apply Mass Update",TEXT_APPLY_TO_SELECTION:"Update Selection",TEXT_CANCEL:"Cancel",TEXT_CLEAR_ALL_FILTERS:"Clear all Filters",TEXT_CLEAR_ALL_GROUPING:"Clear all Grouping",TEXT_CLEAR_ALL_SORTING:"Clear all Sorting",TEXT_CLEAR_PINNING:"Unfreeze Columns/Rows",TEXT_CLONE:"Clone",TEXT_COLLAPSE_ALL_GROUPS:"Collapse all Groups",TEXT_CONTAINS:"Contains",TEXT_COLUMNS:"Columns",TEXT_COLUMN_RESIZE_BY_CONTENT:"Resize by Content",TEXT_COMMANDS:"Commands",TEXT_COPY:"Copy",TEXT_DROP_COLUMN_HEADER_TO_GROUP_BY:"Drop a column header here to group by the column",TEXT_EQUALS:"Equals",TEXT_EQUAL_TO:"Equal to",TEXT_ENDS_WITH:"Ends With",TEXT_ERROR_EDITABLE_GRID_REQUIRED:"Your grid must be editable in order to use the Composite Editor Modal.",TEXT_ERROR_ENABLE_CELL_NAVIGATION_REQUIRED:'Composite Editor requires the flag "enableCellNavigation" to be set to True in your Grid Options.',TEXT_ERROR_NO_CHANGES_DETECTED:"Sorry we could not detect any changes.",TEXT_ERROR_NO_EDITOR_FOUND:"We could not find any Editor in your Column Definition.",TEXT_ERROR_NO_RECORD_FOUND:"No records selected for edit or clone operation.",TEXT_ERROR_ROW_NOT_EDITABLE:"Current row is not editable.",TEXT_ERROR_ROW_SELECTION_REQUIRED:"You must select some rows before trying to apply new value(s).",TEXT_EXPAND_ALL_GROUPS:"Expand all Groups",TEXT_EXPORT_TO_CSV:"Export in CSV format",TEXT_EXPORT_TO_TEXT_FORMAT:"Export in Text format (Tab delimited)",TEXT_EXPORT_TO_EXCEL:"Export to Excel",TEXT_EXPORT_TO_TAB_DELIMITED:"Export in Text format (Tab delimited)",TEXT_FORCE_FIT_COLUMNS:"Force fit columns",TEXT_FILTER_SHORTCUTS:"Filter Shortcuts",TEXT_FREEZE_COLUMNS:"Freeze Columns",TEXT_GREATER_THAN:"Greater than",TEXT_GREATER_THAN_OR_EQUAL_TO:"Greater than or equal to",TEXT_GROUP_BY:"Group By",TEXT_HIDE_COLUMN:"Hide Column",TEXT_ITEMS:"items",TEXT_ITEMS_PER_PAGE:"items per page",TEXT_ITEMS_SELECTED:"items selected",TEXT_OF:"of",TEXT_OK:"OK",TEXT_LAST_UPDATE:"Last Update",TEXT_LESS_THAN:"Less than",TEXT_LESS_THAN_OR_EQUAL_TO:"Less than or equal to",TEXT_NOT_CONTAINS:"Not contains",TEXT_NOT_EQUAL_TO:"Not equal to",TEXT_PAGE:"Page",TEXT_RECORDS_SELECTED:"records selected",TEXT_REFRESH_DATASET:"Refresh Dataset",TEXT_REMOVE_FILTER:"Remove Filter",TEXT_REMOVE_SORT:"Remove Sort",TEXT_RESET_INPUT_VALUE:"Reset Input Value",TEXT_RESET_FORM:"Reset Form",TEXT_SAVE:"Save",TEXT_SELECT_ALL:"Select All",TEXT_SYNCHRONOUS_RESIZE:"Synchronous resize",TEXT_SORT_ASCENDING:"Sort Ascending",TEXT_SORT_DESCENDING:"Sort Descending",TEXT_STARTS_WITH:"Starts With",TEXT_TOGGLE_ALL_GROUPS:"Toggle all Groups",TEXT_TOGGLE_DARK_MODE:"Toggle Dark Mode",TEXT_TOGGLE_FILTER_ROW:"Toggle Filter Row",TEXT_TOGGLE_PRE_HEADER_ROW:"Toggle Pre-Header Row",TEXT_UNFREEZE_COLUMNS:"Unfreeze Columns",TEXT_X_OF_Y_SELECTED:"# of % selected",TEXT_X_OF_Y_MASS_SELECTED:"{{x}} of {{y}} selected"};A.treeDataProperties={CHILDREN_PROP:"children",COLLAPSED_PROP:"__collapsed",HAS_CHILDREN_PROP:"__hasChildren",TREE_LEVEL_PROP:"__treeLevel",PARENT_PROP:"__parentId"};A.DEFAULT_FORMATTER_NUMBER_MIN_DECIMAL=2;A.DEFAULT_FORMATTER_NUMBER_MAX_DECIMAL=2;A.DEFAULT_FORMATTER_CURRENCY_MIN_DECIMAL=2;A.DEFAULT_FORMATTER_CURRENCY_MAX_DECIMAL=4;A.DEFAULT_FORMATTER_PERCENT_MIN_DECIMAL=void 0;A.DEFAULT_FORMATTER_PERCENT_MAX_DECIMAL=void 0;A.DEFAULT_NUMBER_DECIMAL_SEPARATOR=".";A.DEFAULT_NUMBER_THOUSAND_SEPARATOR="";A.DEFAULT_NEGATIVE_NUMBER_WRAPPED_IN_BRAQUET=!1;A.SLIDER_DEFAULT_MIN_VALUE=0;A.SLIDER_DEFAULT_MAX_VALUE=100;A.SLIDER_DEFAULT_STEP=1;A.VALIDATION_REQUIRED_FIELD="Field is required";A.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number";A.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number";A.VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}";A.VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}";A.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE="Please enter a valid integer number that is lower than or equal to {{maxValue}}";A.VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}";A.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE="Please enter a valid integer number that is greater than or equal to {{minValue}}";A.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}";A.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}";A.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE="Please enter a valid number that is lower than or equal to {{maxValue}}";A.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}";A.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE="Please enter a valid number that is greater than or equal to {{minValue}}";A.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals";A.VALIDATION_EDITOR_TEXT_LENGTH_BETWEEN="Please make sure your text length is between {{minLength}} and {{maxLength}} characters";A.VALIDATION_EDITOR_TEXT_MAX_LENGTH="Please make sure your text is less than {{maxLength}} characters";A.VALIDATION_EDITOR_TEXT_MAX_LENGTH_INCLUSIVE="Please make sure your text is less than or equal to {{maxLength}} characters";A.VALIDATION_EDITOR_TEXT_MIN_LENGTH="Please make sure your text is more than {{minLength}} character(s)";A.VALIDATION_EDITOR_TEXT_MIN_LENGTH_INCLUSIVE="Please make sure your text is at least {{minLength}} character(s)";var Mo=(function(e){return e.colon=":",e.comma=",",e.equalSign="=",e.pipe="|",e.semicolon=";",e.space=" ",e.tab="	",e.doubleColon="::",e.doublePipe="||",e.doubleSemicolon=";;",e})(Mo||{});var T={unknown:"unknown",string:"string",boolean:"boolean",integer:"integer",float:"float",number:"number",date:"date",dateIso:"dateIso",dateUtc:"dateUtc",dateTime:"dateTime",dateTimeIso:"dateTimeIso",dateTimeIsoAmPm:"dateTimeIsoAmPm",dateTimeIsoAM_PM:"dateTimeIsoAM_PM",dateTimeShortIso:"dateTimeShortIso",dateEuro:"dateEuro",dateEuroShort:"dateEuroShort",dateTimeShortEuro:"dateTimeShortEuro",dateTimeEuro:"dateTimeEuro",dateTimeEuroAmPm:"dateTimeEuroAmPm",dateTimeEuroAM_PM:"dateTimeEuroAM_PM",dateTimeEuroShort:"dateTimeEuroShort",dateTimeEuroShortAmPm:"dateTimeEuroShortAmPm",dateTimeEuroShortAM_PM:"dateTimeEuroShortAM_PM",dateUs:"dateUs",dateUsShort:"dateUsShort",dateTimeShortUs:"dateTimeShortUs",dateTimeUs:"dateTimeUs",dateTimeUsAmPm:"dateTimeUsAmPm",dateTimeUsAM_PM:"dateTimeUsAM_PM",dateTimeUsShort:"dateTimeUsShort",dateTimeUsShortAmPm:"dateTimeUsShortAmPm",dateTimeUsShortAM_PM:"dateTimeUsShortAM_PM",object:"object",password:"password",text:"text",readonly:"readonly"};var Zs=(function(e){return e.csv="csv",e.txt="txt",e.xls="xls",e.xlsx="xlsx",e})(Zs||{});var j=(function(e){return e.empty="",e.custom="Custom",e.contains="Contains",e.notContains="Not_Contains",e.lessThan="LT",e.lessThanOrEqual="LE",e.greaterThan="GT",e.greaterThanOrEqual="GE",e.notEqual="NE",e.equal="EQ",e.endsWith="EndsWith",e.rangeInclusive="RangeInclusive",e.rangeExclusive="RangeExclusive",e.startsWith="StartsWith",e.startsWithEndsWith="StartsWithEndsWith",e.in="IN",e.notIn="NOT_IN",e.inContains="IN_CONTAINS",e.notInContains="NOT_IN_CONTAINS",e.inCollection="IN_COLLECTION",e.notInCollection="NOT_IN_COLLECTION",e})(j||{});var Ki=(function(e){return e[e.asc=1]="asc",e[e.desc=-1]="desc",e[e.neutral=0]="neutral",e})(Ki||{});var sc=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};function kD(e){let t=!1;return e instanceof Promise?{promise:e.then(i=>{if(t)throw new sc("Cancelled Promise");return i}),cancel:()=>t=!0}:e}function yp(e,t,i=""){let s=t;if(t instanceof Promise)return t;if(e.isObservable(t)&&(s=e.firstValueFrom(t)),!(s instanceof Promise))throw new Error(`Something went wrong, Slickgrid-Universal ${i} is not able to convert the Observable into a Promise.`);return s}function nc(e,t,i=0){let s=Mi(t,"childrenPropName");Array.isArray(e)&&e.forEach(n=>{n&&(Array.isArray(n[s])&&n[s].length>0&&(i++,nc(n[s],t,i),i--),n[t.levelPropName]=i)})}function Ya(e,t,i=0,s=null){let n=Mi(t,"childrenPropName"),{aggregator:o}=t;Array.isArray(e)&&e.forEach(r=>{if(r){let a=Array.isArray(r[n]);Array.isArray(r[n])&&r[n].length>0&&(o.init(r,!0),i++,Ya(r[n],t,i,r),i--),s&&o.isInitialized&&typeof o.accumulate=="function"&&!r?.__filteredOut&&(o.accumulate(r,a),o.storeResult(s.__treeTotals)),r[t.levelPropName]=i}})}function UC(e,t){let i=Mi(t,"identifierPropName"),s=Mi(t,"childrenPropName"),n=Mi(t,"hasChildrenPropName"),o=Mi(t,"parentPropName"),r=Mi(t,"levelPropName");return t?.shouldAddTreeLevelNumber&&(Array.isArray(t?.aggregators)?t.aggregators.forEach(l=>{Ya(e,{childrenPropName:s,levelPropName:r,aggregator:l})}):nc(e,{childrenPropName:s,levelPropName:r})),$C(e,l=>l[s],(l,d)=>N({[i]:l[i],[o]:d!==void 0?d[i]:null,[n]:!!l[s]},XC(l,s)))}function Mi(e,t,i="id"){let s="";switch(t){case"childrenPropName":s=e?.childrenPropName??A.treeDataProperties.CHILDREN_PROP;break;case"collapsedPropName":s=e?.collapsedPropName??A.treeDataProperties.COLLAPSED_PROP;break;case"hasChildrenPropName":s=e?.hasChildrenPropName??A.treeDataProperties.HAS_CHILDREN_PROP;break;case"identifierPropName":s=e?.identifierPropName??i;break;case"levelPropName":s=e?.levelPropName??A.treeDataProperties.TREE_LEVEL_PROP;break;case"parentPropName":s=e?.parentPropName??A.treeDataProperties.PARENT_PROP;break}return s}function jC(e,t){let i=Mi(t,"identifierPropName"),s=Mi(t,"childrenPropName"),n=Mi(t,"parentPropName"),o=Mi(t,"levelPropName"),r=Mi(t,"collapsedPropName"),a=e||[],l=[],d={};return a.forEach(c=>{d[c[i]]=c,delete c[s]}),Object.keys(d).forEach(c=>{let h=d[c];if(!(n in h)||h[n]===null||h[n]===void 0||h[n]==="")l.push(h);else if(h[n]in d){let u=d[h[n]];s in u||(u[s]=[]),u[s].push(h),u[r]===void 0&&(u[r]=t?.initiallyCollapsed??!1)}}),Array.isArray(t?.aggregators)?t.aggregators.forEach(c=>{Ya(l,{childrenPropName:s,levelPropName:o,aggregator:c},0)}):nc(l,{childrenPropName:s,levelPropName:o},0),l}function oc(e,t,i){if(!i)throw new Error('findItemInTreeStructure requires parameter "childrenPropertyName"');let s=e.find(t),n=e.filter(o=>i in o&&o[i]);if(s)return s;if(n.length){let o=[];for(let r of n)i in r&&r[i].forEach(a=>o.push(a));return oc(o,t,i)}}function kr(e,t,i,s=".",n=""){if(isNaN(+e))return e;let o=t===void 0?2:t,r=i===void 0?2:i,a=String(Math.round(+e*Math.pow(10,r))/Math.pow(10,r));for(a.indexOf(".")<0&&o>0&&(a+=".");a.length-a.indexOf(".")<=o;)a+="0";let l=a.split("."),d,c;n?d=l.length>=1?Io(l[0],n):void 0:d=l.length>=1?l[0]:a,l.length>1&&(c=l[1]);let h="";return d!==void 0&&c!==void 0?h=`${d}${s}${c}`:d!=null&&(h=d),h}function Ee(e,t,i,s,n="",o="",r=".",a=""){if(isNaN(+e))return e;let l=Math.round(parseFloat(e)*1e6)/1e6;if(l<0){let d=Math.abs(l);if(s){if(!isNaN(t)||!isNaN(i))return`(${n}${kr(d,t,i,r,a)}${o})`;let c=Io(`${d}`,a);return`(${n}${c}${o})`}else{if(!isNaN(t)||!isNaN(i))return`-${n}${kr(d,t,i,r,a)}${o}`;let c=Io(`${d}`,a);return`-${n}${c}${o}`}}else{if(!isNaN(t)||!isNaN(i))return`${n}${kr(e,t,i,r,a)}${o}`;let d=Io(`${e}`,a);return`${n}${d}${o}`}}function Lr(e,t,i){if(typeof e.queryFieldNameGetterFn=="function"){let s=e.queryFieldNameGetterFn(t);s?.indexOf(".")>=0?i=ni(t,s):i=t.hasOwnProperty(s)?t[s]:i}return i}function ni(e,t){return!e||!t?e:t.split(".").reduce((i,s)=>i&&i[s],e)}function qi(e){return e&&e.translationNamespace?e.translationNamespace+(e.translationNamespaceSeparator||""):""}function LD(e){return e.outputType||e.type||T.string}function Fr(){return[T.date,T.dateTime,T.dateIso,T.dateTimeIso,T.dateTimeShortIso,T.dateTimeIsoAmPm,T.dateTimeIsoAM_PM,T.dateEuro,T.dateEuroShort,T.dateTimeEuro,T.dateTimeShortEuro,T.dateTimeEuroAmPm,T.dateTimeEuroAM_PM,T.dateTimeEuroShort,T.dateTimeEuroShortAmPm,T.dateTimeEuroShortAM_PM,T.dateUs,T.dateUsShort,T.dateTimeUs,T.dateTimeShortUs,T.dateTimeUsAmPm,T.dateTimeUsAM_PM,T.dateTimeUsShort,T.dateTimeUsShortAmPm,T.dateTimeUsShortAM_PM,T.dateUtc]}function Wn(e){return!!Fr().includes(e)}function FD(e){let t;switch(e){case"<":case"LT":t=j.lessThan;break;case"<=":case"LE":t=j.lessThanOrEqual;break;case">":case"GT":t=j.greaterThan;break;case">=":case"GE":t=j.greaterThanOrEqual;break;case"!=":case"NE":t=j.notEqual;break;case"*":case"a*":case"StartsWith":t=j.startsWith;break;case"*z":case"EndsWith":t=j.endsWith;break;case"=":case"==":case"EQ":t=j.equal;break;case"IN":t=j.in;break;case"NIN":case"NOT_IN":t=j.notIn;break;case"<>":case"Not_Contains":case"NOT_CONTAINS":t=j.notContains;break;case"Contains":case"CONTAINS":default:t=j.contains;break}return t}function Js(e){let t="";switch(e){case j.greaterThan:case">":t=">";break;case j.greaterThanOrEqual:case">=":t=">=";break;case j.lessThan:case"<":t="<";break;case j.lessThanOrEqual:case"<=":t="<=";break;case j.notEqual:case"<>":t="<>";break;case j.equal:case"=":case"==":case"EQ":t="=";break;case j.startsWith:case"a*":case"*":t="a*";break;case j.endsWith:case"*z":t="*z";break;default:t=e;break}return t}function YC(e){let t;if(Wn(e))t=j.equal;else switch(e){case T.unknown:case T.string:case T.text:case T.password:case T.readonly:t=j.contains;break;case T.float:case T.number:default:t=j.equal;break}return t}function XC(e,t){return Object.keys(e).reduce((i,s)=>(s!==t&&(i[s]=e[s]),i),{})}function Io(e,t=","){if(e!=null){let i=`${e}`,s=i.split(".");return s.length===2?`${s[0].replace(/\B(?=(\d{3})+(?!\d))/g,t)}.${s[1]}`:i.replace(/\B(?=(\d{3})+(?!\d))/g,t)}return e}function Ts(e,t,i={}){return Array.isArray(e)?e.find(t)||i:e}function Xa(e,t){return new Promise(i=>{Array.isArray(e)?i(e):e instanceof Promise?e.then(s=>{Array.isArray(s)?i(s):s?.status>=200&&s.status<300&&typeof s.json=="function"?s.bodyUsed?(console.warn("[SlickGrid-Universal] The response body passed to Fetch was already read. Either pass the dataset from the Response or clone the response first using response.clone()"),i(null)):i(s.json()):s?.content?i(s.content):i(s)}):e&&t?.isObservable(e)?i(yp(t,e)):i(null)})}function Nr(e){if(Array.isArray(e))for(;e.length>0;){let t=e.pop();t?.unsubscribe&&t.unsubscribe()}return e}var Hp={};aa(Hp,{sortByFieldType:()=>Sc});var KC=(e,t,i=Ki.neutral)=>{let s=0;return e===t?s=0:e===null?s=-1:t===null?s=1:i?s=e<t?-1:1:s=e<t?1:-1,i*s};var qC=(e,t,i=Ki.neutral,s,n)=>{if(!s||!s.dataKey)throw new Error('Sorting a "FieldType.object" requires you to provide the "dataKey" (object property name) of the object so that we can use it to sort correctly');let o=e?.hasOwnProperty(s.dataKey)?e[s.dataKey]:e,r=t?.hasOwnProperty(s.dataKey)?t[s.dataKey]:t,a=s?.valueCouldBeUndefined??n?.cellValueCouldBeUndefined??!1,l=0;return typeof e!="object"?l=-1/0:typeof t!="object"?l=1/0:o===null||a&&o===void 0?l=-1:r===null||a&&r===void 0?l=1:o===r?l=0:i?l=o<r?-1:1:l=o<r?1:-1,i*l};var Ip={};aa(Ip,{addToArrayWhenNotExists:()=>ly,addWhiteSpaces:()=>lc,arrayRemoveItemByIndex:()=>Op,calculateAvailableSpace:()=>rc,classNameToList:()=>os,createDomElement:()=>R,deepCopy:()=>VD,deepMerge:()=>Do,destroyAllElementProps:()=>wp,emptyElement:()=>Xe,emptyObject:()=>BD,extend:()=>Ai,findFirstAttribute:()=>ND,findWidthOrDefault:()=>Ka,getFunctionDetails:()=>dy,getHtmlStringOutput:()=>Ro,getInnerSize:()=>Ep,getOffset:()=>Os,getOffsetRelativeToParent:()=>QC,getStyleProp:()=>ZC,htmlEncode:()=>JC,htmlEncodeWithPadding:()=>xp,htmlEntityDecode:()=>HD,insertAfterElement:()=>ey,isDefined:()=>zt,isDefinedNumber:()=>hy,isEmptyObject:()=>cy,isNumber:()=>Y,isObject:()=>Ms,isObjectEmpty:()=>uy,isPrimitiveOrHTML:()=>Hr,isPrimitiveValue:()=>Ao,parseBoolean:()=>py,removeAccentFromText:()=>qa,setDeepValue:()=>Is,stripTags:()=>en,titleCase:()=>dc,toCamelCase:()=>Mp,toKebabCase:()=>Vr,toSentenceCase:()=>Pi,toSnakeCase:()=>zD,uniqueArray:()=>my,uniqueObjectArray:()=>WD,windowScrollPosition:()=>Tp});function rc(e){let t=0,i=0,s=0,n=0,o=window.innerHeight||0,r=window.innerWidth||0,a=Tp(),l=a.top,d=a.left,c=Os(e);if(c){let h=c.top,u=c.left;i=h-l,s=u-d,t=o-(h-l+e.clientHeight),n=r-(u-d+e.clientWidth)}return{top:i,bottom:t,left:s,right:n}}function R(e,t,i){let s=document.createElement(e);return t&&Object.keys(t).forEach(n=>{n==="innerHTML"&&console.warn(`[Slickgrid-Universal] For better CSP (Content Security Policy) support, do not use "innerHTML" directly in "createDomElement('${e}', { innerHTML: 'some html'})", it is better as separate assignment: "const elm = createDomElement('span'); elm.innerHTML = 'some html';"`);let o=t[n];typeof o=="object"?Object.assign(s[n],o):s[n]=t[n]}),i?.appendChild&&i.appendChild(s),s}function os(e=""){return e.split(" ").filter(t=>t)}function wp(e){typeof e=="object"&&Object.keys(e).forEach(t=>{Array.isArray(e[t])&&wp(e[t]),e[t]instanceof HTMLElement&&(e[t]=null)})}function Xe(e){for(;e?.firstChild;)e.removeChild(e.firstChild);return e}function Ro(e,t="innerHTML"){return e instanceof DocumentFragment?[].map.call(e.childNodes,i=>i[t]).join("")||e.textContent||"":e instanceof HTMLElement?e[t]:String(e??"")}function QC(e,t){if(!e||!t)return;let i=e.getBoundingClientRect(),s=t.getBoundingClientRect();return{top:s.top-i.top,right:s.right-i.right,bottom:s.bottom-i.bottom,left:s.left-i.left}}function Os(e){let t=0,i=0,s=0,n=0;if(!e||!e.getBoundingClientRect)return{top:t,bottom:s,left:i,right:n};let o=e.getBoundingClientRect(),r=document.documentElement;return o?.top!==void 0&&o.left!==void 0&&(t=o.top+window.pageYOffset-r.clientTop,i=o.left+window.pageXOffset-r.clientLeft,n=o.right,s=o.bottom),{top:t,left:i,bottom:s,right:n}}function Ep(e,t){let i=0;if(e){let s=t==="height"?"clientHeight":"clientWidth",n=t==="height"?["top","bottom"]:["left","right"];i=e[s];for(let o of n){let r=parseFloat(ZC(e,`padding-${o}`)||"")||0;i-=r}}return i}function ZC(e,t){return e?window.getComputedStyle(e).getPropertyValue(t):null}function ND(e,t){if(e)for(let i of t){let s=e.getAttribute(i);if(s)return s}return null}function Ka(e,t="auto"){return(/^[0-9]+$/i.test(`${e}`)?`${+e}px`:e)||t}function JC(e){let t=typeof e=="string"?e:String(e),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return(t||"").toString().replace(/[&<>"']/g,s=>i[s])}function HD(e){return e.replace(/&#(\d+);/g,(t,i)=>String.fromCharCode(i))}function xp(e,t){let i=e.length,s=JC(e);if(i<t)for(let n=i;n<t;n++)s+="&nbsp;";return s}function ey(e,t){e.parentNode?.insertBefore(t,e.nextSibling)}function Tp(){return{left:window.pageXOffset||document.documentElement.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||0}}var ac=Object.prototype.hasOwnProperty,ay=Object.prototype.toString,ty=Object.defineProperty,iy=Object.getOwnPropertyDescriptor,sy=function(t){return typeof Array.isArray=="function"?Array.isArray(t):ay.call(t)==="[object Array]"},ny=function(t){if(!t||ay.call(t)!=="[object Object]")return!1;let i=ac.call(t,"constructor"),s=t.constructor&&t.constructor.prototype&&ac.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!s)return!1;let n;for(n in t);return typeof n>"u"||ac.call(t,n)},oy=function(t,i){ty&&i.name==="__proto__"?ty(t,i.name,{enumerable:!0,configurable:!0,value:i.newValue,writable:!0}):t[i.name]=i.newValue},ry=function(t,i){if(i==="__proto__")if(ac.call(t,i)){if(iy)return iy(t,i).value}else return;return t[i]};function Ai(...e){let t,i,s,n,o,r,a=e[0],l=1,d=e.length,c=!1;for(typeof a=="boolean"&&(c=a,a=e[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<d;++l)if(t=e[l],t!=null)for(i in t)s=ry(a,i),n=ry(t,i),a!==n&&(c&&n&&(ny(n)||(o=sy(n)))?(o?(o=!1,r=s&&sy(s)?s:[]):r=s&&ny(s)?s:{},oy(a,{name:i,newValue:Ai(c,r,n)})):typeof n<"u"&&oy(a,{name:i,newValue:n}));return a}function ly(e,t,i="id"){let s=-1;t&&typeof t=="object"&&i in t?s=e.findIndex(n=>n[i]===t[i]):s=e.findIndex(n=>n===t),s<0&&e.push(t)}function lc(e,t=" "){let i="";for(let s=0;s<e;s++)i+=t;return i}function Op(e,t){return e.filter((i,s)=>t!==s)}function VD(e){if(!Array.isArray(e)&&!Ms(e))return e;let t=Array.isArray(e)?[]:{};return Ai(!0,t,e)}function Do(e,...t){if(!t.length)return e;let i=t.shift();return e=!Ms(e)&&Ms(i)?{}:e,Ms(e)&&Ms(i)&&Object.keys(i).forEach(s=>{i.hasOwnProperty(s)&&(s in e?typeof e[s]!="object"||typeof i[s]!="object"?e[s]=i[s]:e[s].concat&&i[s].concat?e[s]=e[s].concat(i[s]):e[s]=Do(e[s],i[s]):e[s]=i[s])}),Do(e,...t)}function BD(e){return Ms(e)&&Object.keys(e).forEach(t=>{e.hasOwnProperty(t)&&delete e[t]}),e=null,e={},e}function dy(e,t=!0){let i=!1,s=o=>{let r=o.toString();if(i=r.includes("async "),r.replaceAll(" ","").includes("=>({")){let d=r.match(/(({.*}))/g)||[];return d.length>=1?`return ${d[0].trimStart()}`:r}let a=!r.includes("{")&&r.includes("=>"),l=r.substring(r.indexOf("{")+1||r.indexOf("=>")+2,r.includes("}")?r.lastIndexOf("}"):r.length);return t&&a&&!l.startsWith("return")?"return "+l.trimStart():l};return{params:(o=>{let r=/(\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s*=[^,)]*(('(?:\\'|[^'\r\n])*')|("(?:\\"|[^"\r\n])*"))|(\s*=[^,)]*))/gm,a=/([^\s,]+)/g,l=o.toString().replace(r,"");return l.slice(l.indexOf("(")+1,l.indexOf(")")).match(a)??[]})(e),body:s(e),isAsync:i}}function cy(e){return e==null?!0:Object.entries(e).length===0}function zt(e){return e!=null&&e!==""}function hy(e){return e!==null&&!isNaN(e)&&e!==""}function Ms(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Date)}function Ao(e){return typeof e=="boolean"||typeof e=="number"||typeof e=="string"||e===null||e===void 0}function Hr(e){return e instanceof HTMLElement||e instanceof DocumentFragment||Ao(e)}function Y(e,t=!1){return t?e==null||typeof e=="string"?!1:!isNaN(e):e==null||e===""?!1:!isNaN(+e)}function uy(e){return!e||e&&typeof e=="object"&&Object.keys(e).length===0}function py(e){return/(true|1)/i.test(e+"")}function qa(e,t=!1){let i=typeof e.normalize=="function"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e;return t?i.toLowerCase():i}function Is(e,t,i){if(typeof t=="string"&&(t=t.split(".")),t.length>1){let s=t.shift();e&&s!==void 0&&Is(e[s]=zt(e[s])&&(Array.isArray(e[s])||Object.prototype.toString.call(e[s])==="[object Object]")?e[s]:{},t,i)}else e&&t[0]&&(e[t[0]]=i)}function dc(e,t=!1){return typeof e=="string"?t?e.replace(/\w\S*/g,i=>i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()):e.charAt(0).toUpperCase()+e.slice(1):e}function Mp(e){return typeof e=="string"?e.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_/])/g,(t,i)=>/[\s+\-_/]/.test(t)?"":i===0?t.toLowerCase():t.toUpperCase()):e}function Vr(e){return typeof e=="string"?Mp(e).replace(/([A-Z])|([-_])/g,"-$1").toLowerCase():e}function Pi(e){if(typeof e=="string"){let t=e.replace(/([A-Z])|([-_])/g," $1").replace(/\s+/g," ").trim();return t.charAt(0).toUpperCase()+t.slice(1)}return e}function zD(e){return typeof e=="string"?Mp(e).replace(/([A-Z])/g,"_$1").toLowerCase():e}function my(e){return Array.isArray(e)&&e.length>0?e.filter((t,i)=>e.indexOf(t)>=i):e}function WD(e,t="id"){if(Array.isArray(e)&&e.length>0){let i=[],s=new Map;for(let n of e)n&&!s.has(n[t])&&(s.set(n[t],!0),i.push({id:n[t],name:n.name}));return i}return e}var Qa=Symbol("plaintext"),fy=Symbol("html"),gy=Symbol("comment"),$D=/<(\w*)>/g,GD=/<\/?([^\s/>]+)/;function en(e,t,i){function s(l,d,c){if(typeof l!="string"&&(Y(l)||typeof l=="boolean"))return String(l);if(l instanceof HTMLElement&&(l=l.innerHTML),typeof l!="string"&&l!==void 0&&l!==null)throw new TypeError("'html' parameter must be a string");return o(l||"",n(d||"",c||""))}function n(l,d){return{allowable_tags:r(l),tag_replacement:d,state:Qa,tag_buffer:"",depth:0,in_quote_char:""}}function o(l,d){let c=d.allowable_tags,h=d.tag_replacement,u=d.state,p=d.tag_buffer,m=d.depth,f=d.in_quote_char,g="";for(let _=0,v=l.length;_<v;_++){let C=l[_];if(u===Qa)switch(C){case"<":u=fy,p+=C;break;default:g+=C;break}else if(u===fy)switch(C){case"<":if(f)break;m++;break;case">":if(f)break;if(m){m--;break}f="",u=Qa,p+=">",c.has(a(p))?g+=p:g+=h,p="";break;case'"':case"'":C===f?f="":f=f||C,p+=C;break;case"-":p==="<!-"&&(u=gy),p+=C;break;case" ":case`
`:if(p==="<"){u=Qa,g+="< ",p="";break}p+=C;break;default:p+=C;break}else if(u===gy)switch(C){case">":p.slice(-2)==="--"&&(u=Qa),p="";break;default:p+=C;break}}return d.state=u,d.tag_buffer=p,d.depth=m,d.in_quote_char=f,g}function r(l){let d=new Set;if(typeof l=="string"){let c;for(;c=$D.exec(l);)d.add(c[1])}else typeof l[Symbol.iterator]=="function"&&(d=new Set(l));return d}function a(l){let d=GD.exec(l);return d?d[1].toLowerCase():null}return s(e,t,i)}var _y=(e,t,i=Ki.neutral,s,n)=>{let o=0,r=s?.valueCouldBeUndefined??n?.cellValueCouldBeUndefined??!1;return e===t?o=0:e===null||r&&e===void 0?o=-1:t===null||r&&t===void 0?o=1:(n?.ignoreAccentOnStringFilterAndSort&&(e=qa(e,!1),t=qa(t,!1)),i?o=e<t?-1:1:o=e<t?1:-1),i*o};var Rp=/^([0-9]{4})-([0-1][0-9])(?:-([0-3][0-9]))?(?:[T ]?([0-2][0-9])(?::([0-5][0-9]))?(?::([0-5][0-9]))?)?(?:\.[0-9]+)?(Z|(?:\+|\-)[0-9]{2}:?[0-9]{2})?$/;function Dp(e){let t=e.match(Rp);if(t){let i=Number(t[2]);if(i<1||i>12)return!1;if(typeof t[3]!==void 0){let s=Number(t[3]);if(s<1||s>31)return!1}if(typeof t[4]!==void 0){let s=Number(t[4]);if(s<0||s>23)return!1}return!0}return!1}function UD(e){let t=e.match(Rp);return t&&typeof t[4]>"u"?e+="T00:00:00":e}function Z(e){if(e||(e=new Date),e instanceof Date){let t=new Date(e);return t.setMilliseconds(0),t}if(e=e.trim(),Dp(e))return new Date(UD(e));throw new Error(`Non ISO 8601 compliant date (${e}).`)}function Ap(e){let t=Z(e);return t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),t}function Po(e){return Ap(e).getDate()}var Ja="1999-03-04T02:05:01.000Z",cc=new Map,hc=[["YYYY",{year:"numeric"}],["YY",{year:"2-digit"}],["MMMM",{month:"long"}],["MMM",{month:"short"}],["MM",{month:"2-digit"}],["M",{month:"numeric"}],["DD",{day:"2-digit"}],["D",{day:"numeric"}],["dddd",{weekday:"long"}],["ddd",{weekday:"short"}],["d",{weekday:"narrow"}],["mm",{minute:"2-digit"}],["m",{minute:"numeric"}],["ss",{second:"2-digit"}],["s",{second:"numeric"}],["ZZ",{timeZoneName:"long"}],["Z",{timeZoneName:"short"}]],uc=[["HH",{hour:"2-digit"}],["H",{hour:"numeric"}]],pc=[["hh",{hour:"2-digit"}],["h",{hour:"numeric"}],["a",{dayPeriod:"narrow"}],["A",{dayPeriod:"narrow"}]],Za={DD:2,HH:2,MM:2,YY:2,YYYY:4,hh:2,mm:2,ss:2};function mc(e){if(/^[+-]\d{2}:\d{2}/.test(e))return 6;if(/^[+-]\d{4}/.test(e))return 5;throw new Error("Invalid offset format")}var jD=["MMMM","MMM","dddd","ddd"],Ge=new Map([...hc,...uc,...pc].map(e=>[e[0],e])),Pp=new Map,fc=["full","long","medium","short"],tn=e=>String(e).padStart(2,"0"),gc=e=>String(e).padStart(2,"0");function Qi(e){return e.type==="literal"&&(e.value=e.value.normalize("NFKC")),e}function by(e,t,i,s=!1,n=null){let o=YD(e,t,i,s),r=Z(e);function a({partName:l,partValue:d,token:c}){if(l==="literal")return d;let h=o[l];if(l==="hour"&&c==="H")return h.replace(/^0/,"")||"0";if(["mm","ss","MM"].includes(c)&&h.length===1)return`0${h}`;if(l==="dayPeriod"){let u=Rs(r.getUTCHours()<12?"am":"pm",i);return c==="A"?u.toUpperCase():u.toLowerCase()}return l==="timeZoneName"?n??kp(-1*r.getTimezoneOffset(),c):h}return t.map(l=>me(N({},l),{value:a(l)}))}function YD(e,t,i,s=!1){let n=Z(e),o=t.filter(c=>c.hour12),r=t.filter(c=>!c.hour12),a=[],l=[];function d(c,h=!1){let u=`${i}-u-hc-${h?"h12":"h23"}`;if(a.push(...new Intl.DateTimeFormat(u,c.reduce((p,m)=>m.partName==="literal"?p:(s&&jD.includes(m.token)&&l.push(m),Object.assign(p,m.option)),{timeZone:"UTC"})).formatToParts(n).map(Qi)),s&&l.length)for(let p of l){let m=[];switch(p.token){case"MMMM":m=new Intl.DateTimeFormat(u,{dateStyle:"long",timeZone:"UTC"}).formatToParts(n).map(Qi);break;case"MMM":m=new Intl.DateTimeFormat(u,{dateStyle:"medium",timeZone:"UTC"}).formatToParts(n).map(Qi);break}let f=m.find(_=>_.type===p.partName),g=a.findIndex(_=>_.type===p.partName);f&&g>-1&&(a[g]=f)}}return o.length&&d(o,!0),r.length&&d(r),a.reduce((c,h)=>(c[h.type]=h.value,c),{})}function kp(e,t="Z"){let i=String(Math.floor(Math.abs(e/60))).padStart(2,"0"),s=String(Math.abs(e%60)).padStart(2,"0"),n=e<0?"-":"+";return t==="ZZ"?`${n}${i}${s}`:`${n}${i}:${s}`}function vy(e,t){Lp(e,t);let[i,s,n,o]=e.match(/([+-])([0-3][0-9]):?([0-6][0-9])/),r=Number(n)*60+Number(o);return s==="+"?r:-r}function Lp(e,t="Z"){if(!(s=>{switch(s){case"Z":return/^([+-])[0-3][0-9]:[0-6][0-9]$/.test(e);case"ZZ":return/^([+-])[0-3][0-9][0-6][0-9]$/.test(e)}})(t))throw new Error(`Invalid offset: ${e}`);return e}function Cy(e){return hc.concat(uc).concat(pc).sort((t,i)=>t[0].length>i[0].length?1:-1).reduce((t,i)=>t.replace(i[0],`\\${i[0]}`),e)}function XD(e){return["numeric","2-digit"].includes(e.partValue)}function yy(e){let t;for(let i of e){if(i.partName==="literal"&&!isNaN(parseFloat(i.partValue)))throw new Error(`Numbers in format (${i.partValue}).`);if(t&&t.partName!=="literal"&&i.partName!=="literal"&&!(t.token in Za)&&!(i.token in Za)&&!(XD(t)&&i.token.toLowerCase()==="a"))throw new Error(`Illegal adjacent tokens (${t.token}, ${i.token})`);t=i}return e}function Sy(e){return typeof e=="string"?e.includes("ZZ")?"ZZ":"Z":"time"in e&&e.time==="full"?"Z":"ZZ"}function Rs(e,t){let i=Pp.get(t);if(i&&i[e])return i[e];let s=new Date(Ja);s.setUTCHours(e==="am"?5:20);let o=new Intl.DateTimeFormat(t,{timeStyle:"full",timeZone:"UTC",hour12:!0}).formatToParts(s).map(Qi).find(r=>r.type==="dayPeriod");if(o){let r=i||{};return Pp.set(t,Object.assign(r,{[e]:o.value})),o.value}return e}function _c(e,t="+00:00"){let i=Z(e),s=(()=>{switch(mc(t)){case 5:return"ZZ";case 6:return"Z"}})(),n=vy(t,s);return new Date(i.getTime()+n*1e3*60)}function bc(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function wy(e,t){let i=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:t,hourCycle:"h23"}).formatToParts(e).map(Qi),s={};return i.forEach(n=>{s[n.type]=n.value}),new Date(`${s.year}-${s.month}-${s.day}T${s.hour}:${s.minute}:${s.second}Z`)}function ko(e,t="UTC",i="device",s="Z"){var n;i=i==="device"?(n=bc())!=null?n:"utc":i;let o=Z(e),r=wy(o,t),a=wy(o,i),l=Math.round((a.getTime()-r.getTime())/1e3/60);return kp(l,s)}function Lo(e,t){if(fc.includes(e)||typeof e=="object")return KD(e,t);let i=e,s=0,n=c=>{if(c[2]||(c[2]=new RegExp(`(.)?(${c[0]})`,"g")),c[2].test(i)){let h=0;return i=i.replace(c[2],(u,p,m)=>p==="\\"?m:`${typeof p=="string"?p:""}{!${h++?s:s++}!}`),!!h}return!1};function o(c){let h=c.map(p=>p.partName),u=new Set(h);if(h.length>u.size)throw new Error("Cannot reuse format tokens.");return c}function r(c,[h,u,p]){let m=Object.keys(u)[0],f=u[m];return{option:u,partName:m,partValue:f,token:h,pattern:p,hour12:c}}let a=hc.filter(n).concat(uc.filter(n)).map(r.bind(null,!1)),l=o(a.concat(pc.filter(n).map(r.bind(null,!0)))),d=/^\{!(\d+)!\}$/;return i.split(/(\{!\d+!\})/).map(c=>{let h=c.match(d);return h?l[Number(h[1])]:{option:{literal:c},partName:"literal",partValue:c,token:c,pattern:new RegExp(""),hour12:!1}}).filter(c=>!(c.partName==="literal"&&c.partValue===""))}function KD(e,t){let i={timeZone:"UTC"};typeof e=="string"?i.dateStyle=e:("date"in e&&(i.dateStyle=e.date),"time"in e&&(i.timeStyle=e.time));let s=new Intl.DateTimeFormat(t,i),n=s.formatToParts(new Date(Ja)).map(Qi),r=s.formatToParts(new Date("1999-04-05T23:05:01.000Z")).map(Qi).find(l=>l.type==="hour"),a=r&&r.value==="23"?24:12;return n.map(l=>{let d=l.type,c=qD(l.type,l.value,t,l.type==="hour"?a:void 0,i);if(c===void 0)return;let h=c[1][d];if(h)return c[2]||(c[2]=new RegExp(`${c[0]}`,"g")),{option:{[d]:h},partName:d,partValue:h,token:c[0],pattern:c[2],hour12:a===12}}).filter(l=>!!l)}function qD(e,t,i,s,n){let o=t.length,r=!isNaN(Number(t)),a;switch(e){case"year":return o===2?Ge.get("YY"):Ge.get("YYYY");case"month":if(r)return o===1?Ge.get("M"):Ge.get("MM");switch(a=Ey(i,e,t),a){case"long":return Ge.get("MMMM");default:return Ge.get("MMM")}case"day":return o===1?Ge.get("D"):Ge.get("DD");case"weekday":switch(a=Ey(i,e,t),a){case"narrow":return Ge.get("d");case"short":return Ge.get("ddd");default:return Ge.get("dddd")}case"hour":return s===12?o===1?Ge.get("h"):Ge.get("hh"):o===1?Ge.get("H"):Ge.get("HH");case"minute":return o===1?Ge.get("m"):Ge.get("mm");case"second":return o===1?Ge.get("s"):Ge.get("ss");case"dayPeriod":return/^[A-Z]+$/u.test(t)?Ge.get("A"):Ge.get("a");case"literal":return[t,{literal:t},new RegExp("")];case"timeZoneName":return n.timeStyle==="full"?Ge.get("Z"):Ge.get("ZZ");default:return}}function Ey(e,t,i){if(!cc.has(e)){let n=new Date(Ja),o=[3,8,9,7,6,4,3],r=["weekday","month","dayPeriod"],a=["long","short","narrow"],l={};for(let d=0;d<12;d++){n.setMonth(0+d),d in o&&n.setDate(o[d]),n.setUTCHours(8+d);for(let c of a){let h=new Intl.DateTimeFormat(e,r.reduce((u,p)=>Object.assign(u,{[p]:c}),{hour12:!0,timeZone:"UTC"})).formatToParts(n).map(Qi);if(c==="long"||c==="short"){let p=new Intl.DateTimeFormat(e,{dateStyle:c==="short"?"medium":"long",timeZone:"UTC"}).formatToParts(n).map(Qi).find(f=>f.type==="month"),m=h.findIndex(f=>f.type==="month");m>-1&&p&&(h[m]=p)}h.forEach(u=>{if(u.type==="literal")return;let p=u.type;l[p]=Object.assign(l[p]||{},{[u.value]:c})})}}cc.set(e,l)}let s=cc.get(e);return s?s[t][i]:void 0}function el(e,t="+00:00"){let i=t.slice(0,1)==="+";return _c(e,t.replace(i?"+":"-",i?"-":"+"))}function xy(){return Intl.DateTimeFormat().resolvedOptions().locale}function kt(e,t="long",i="device",s=!1,n){let o,r;return typeof e=="object"&&!(e instanceof Date)&&({date:e,format:t,locale:i,genitive:s,partFilter:n,tz:o}=e),t==="ISO8601"?Z(e).toISOString():(o&&(r=ko(e,"utc",o,Sy(t))),o??(o=bc()),o?.toLowerCase()!=="utc"&&(e=el(e,ko(e,o,"utc"))),(!i||i==="device")&&(i=xy()),by(e,Lo(t,i).filter(n??(()=>!0)),i,s,r).map(a=>a.value).join(""))}function Fp(e,t="en",i=!1,s=()=>!0){return Lo(e,t).filter(s).reduce((n,o)=>n+=i&&o.partName==="literal"?Cy(o.token):o.token,"").normalize("NFKC")}function Np(e){let t=new Date().getFullYear(),i=t%100,s=Math.floor(t/100),n=Number(e);return(s+(n>i+20?-1:0))*100+n}function vc(e,t="en",i=!1){let s=(n,o)=>Array(n).fill("").map((r,a)=>`${o(a)}`);if(e==="M")return s(12,n=>n+1);if(e==="MM")return s(12,n=>{let o=n+1;return o<10?`0${o}`:o});if(e.startsWith("M"))return vc("MM").map(n=>kt(`2000-${n}-05`,e,t,i));if(e.startsWith("d"))return s(7,n=>`0${n+2}`).map(n=>kt(`2022-10-${n}`,e,t));if(e==="a")return[Rs("am",t).toLowerCase(),Rs("pm",t).toLowerCase()];if(e==="A")return[Rs("am",t).toUpperCase(),Rs("pm",t).toUpperCase()];if(e.startsWith("Y")){let n=new Date().getFullYear();return s(120,o=>o+1).reduce((o,r)=>(r!=="120"&&o.push(kt(`${n+Number(r)}-06-06`,e,t)),o.unshift(kt(`${n-Number(r)}-06-06`,e,t)),o),[kt(`${n}-06-06`,e,t)])}return e.startsWith("D")?s(31,n=>`${e==="DD"&&n<9?"0":""}${n+1}`):e.startsWith("H")?s(24,n=>`${e==="HH"&&n<10?"0":""}${n}`):e.startsWith("h")?s(12,n=>`${e==="hh"&&n<9?"0":""}${n+1}`):e.startsWith("m")||e.startsWith("s")?s(60,n=>`${e.length>1&&n<10?"0":""}${n}`):[]}function Fo(e,t="ISO8601",i="device"){let s=()=>!0,n,o="backward";if(typeof e=="object"?{date:n,format:t="ISO8601",locale:i="device",dateOverflow:o="backward",partFilter:s=()=>!0}=e:n=e,!n)throw new Error("parse() requires a date string.");let r=()=>{throw new Error(`Date (${n}) does not match format (${Fp(t,i)})`)};if(t==="ISO8601")return Z(n);let a=fc.includes(t)||typeof t=="object",l=yy(Lo(t,i).filter(s));if(!l.length)throw new Error("parse() requires a pattern.");let d;try{d=Ty(n,l)}catch{return r()}let c=new Date,h=new Map([["YYYY",c.getFullYear()],["MM",c.getMonth()+1],["DD",c.getDate()],["HH",0],["mm",0],["ss",0]]),u=null,p="";d.forEach(w=>{if(w.partName==="literal")return;if(w.token===w.value)return r();let D=Number(w.value);if(h.has(w.token))h.set(w.token,D);else if(w.token==="YY")h.set("YYYY",Np(w.value));else{let V=w.token;if(V.startsWith("d"))return;if(V==="D")h.set("DD",D);else if(V==="H"||V.startsWith("h"))h.set("HH",D);else if(V==="M")h.set("MM",D);else if(V==="a"||V==="A")u=w.value.toLowerCase()===Rs("am",i).toLowerCase();else if(V==="Z"||V==="ZZ")p=Lp(w.value,V);else{let W=vc(V,i,a).indexOf(w.value);if(W!==-1)switch(V){case"MMM":case"MMMM":h.set("MM",W+1);break}}}});let m=h.get("HH")||0;u===!1?(m+=m===12?0:12,h.set("HH",m===24?0:m)):u===!0&&m===12&&h.set("HH",0),h.set("MM",(h.get("MM")||1)-1);let[f,g,_,v,C,y]=Array.from(h.values()),S=Po(new Date(`${gc(f)}-${tn(g+1)}-10`));if(S<_&&o==="throw")throw new Error(`Invalid date ${gc(f)}-${tn(g+1)}-${tn(_)}`);_=o==="backward"?Math.min(_,S):_;let x=`${gc(f)}-${tn(g+1)}-${tn(_)}T${tn(v)}:${tn(C)}:${tn(y)}${p}`,I=new Date(x);return isFinite(+I)?I:r()}function Ty(e,t){let i=0,s=a=>[a[i++],a[i]],n=0,o=[],r;do{let[a,l]=s(t);r=l;let d=1;if(a.partName==="literal")d=a.partValue.length;else if(a.partName==="timeZoneName")d=mc(e.substring(n));else if(a.token in Za)d=Za[a.token];else if(l)if(l.partName==="literal"){if(d=e.indexOf(l.partValue,n)-n,d<0)throw new Error}else if(l.partName==="dayPeriod"){for(let c=1;c<=4;c++)if(isNaN(Number(e.charAt(n+c)))){d=c;break}}else{let c=e.substring(n).search(/\d/);c!==-1&&(d=n+c)}else d=e.length;o.push(me(N({},a),{value:e.substring(n,n+d)})),n+=d}while(r);return o}function Wt(e,t){let i,s=t?.withZeroPadding??!1;switch(e){case T.dateTime:case T.dateTimeIso:i="YYYY-MM-DD HH:mm:ss";break;case T.dateTimeIsoAmPm:i="YYYY-MM-DD hh:mm:ss a";break;case T.dateTimeIsoAM_PM:i="YYYY-MM-DD hh:mm:ss A";break;case T.dateTimeShortIso:i="YYYY-MM-DD HH:mm";break;case T.dateEuro:i="DD/MM/YYYY";break;case T.dateEuroShort:i=s?"DD/MM/YY":"D/M/YY";break;case T.dateTimeEuro:i="DD/MM/YYYY HH:mm:ss";break;case T.dateTimeShortEuro:i=s?"DD/MM/YYYY HH:mm":"D/M/YYYY H:m";break;case T.dateTimeEuroAmPm:i="DD/MM/YYYY hh:mm:ss a";break;case T.dateTimeEuroAM_PM:i="DD/MM/YYYY hh:mm:ss A";break;case T.dateTimeEuroShort:i=s?"DD/MM/YY HH:mm:ss":"D/M/YY H:m:s";break;case T.dateTimeEuroShortAmPm:i=s?"DD/MM/YY hh:mm:ss a":"D/M/YY h:m:s a";break;case T.dateTimeEuroShortAM_PM:i=s?"DD/MM/YY hh:mm:ss A":"D/M/YY h:m:s A";break;case T.dateUs:i="MM/DD/YYYY";break;case T.dateUsShort:i=s?"MM/DD/YY":"M/D/YY";break;case T.dateTimeUs:i="MM/DD/YYYY HH:mm:ss";break;case T.dateTimeUsAmPm:i="MM/DD/YYYY hh:mm:ss a";break;case T.dateTimeUsAM_PM:i="MM/DD/YYYY hh:mm:ss A";break;case T.dateTimeUsShort:i=s?"MM/DD/YY HH:mm:ss":"M/D/YY H:m:s";break;case T.dateTimeUsShortAmPm:i=s?"MM/DD/YY hh:mm:ss a":"M/D/YY h:m:s a";break;case T.dateTimeUsShortAM_PM:i=s?"MM/DD/YY hh:mm:ss A":"M/D/YY h:m:s A";break;case T.dateTimeShortUs:i=s?"MM/DD/YYYY HH:mm":"M/D/YYYY H:m";break;case T.dateUtc:i="ISO8601";break;case T.date:case T.dateIso:default:i=t?.withDefaultIso8601?"ISO8601":"YYYY-MM-DD";break}return i}function sn(e,t,i){let s=t?Wt(t):void 0,n=Wt(i),o=e instanceof Date?e:Ds(e,s);return o&&e!==void 0?i===T.dateUtc?o.toISOString():kt(o,n,"en-US"):""}function Ds(e,t,i=!1){try{return e?e instanceof Date?e:Fo({date:e,format:t,dateOverflow:i?"throw":"backward",locale:"en-US"}):!1}catch{return!1}}function Oy(e){return el(e,ko(e,"utc"))}function My(e,t,i,s,n){let o=0;if(e===t)o=0;else{let r=Ds(e,s,n)||new Date(1001,1,1),a=Ds(t,s,n)||new Date(1001,1,1);o=r.valueOf()-a.valueOf()}return i*o}function yc(e){let t=e===T.date?void 0:Wt(e);return(i,s,n)=>t===void 0?My(i,s,n,t,!1):My(i,s,n,t,!0)}var Iy=(e,t,i=Ki.neutral,s,n)=>{let o=s?.valueCouldBeUndefined??n?.cellValueCouldBeUndefined??!1,r=isNaN(e)||e===""||e===null||o&&e===void 0?-1/0:parseFloat(e),a=isNaN(t)||t===""||t===null||o&&t===void 0?-1/0:parseFloat(t);return i*(r===a?0:r>a?1:-1)};function nA(){let e={boolean:KC,numeric:Iy,objectString:qC,string:_y};return Fr().forEach(t=>{let i=T[t];i&&(e[t]=yc(i))}),e}var il=nA();function Sc(e,t,i,s,n,o){let r=0;if(Wn(e))r=yc(e)(t,i,s,n,o);else switch(e){case T.boolean:r=il.boolean(t,i,s,n,o);break;case T.float:case T.integer:case T.number:r=il.numeric(t,i,s,n,o);break;case T.object:r=il.objectString(t,i,s,n,o);break;case T.string:case T.text:case T.password:case T.readonly:default:r=il.string(t,i,s,n,o);break}return r}var No=(function(e){return e.camelCase="camelCase",e.camelCaseWithExtraOnPrefix="camelCaseWithExtraOnPrefix",e.kebabCase="kebabCase",e.lowerCase="lowerCase",e.lowerCaseWithoutOnPrefix="lowerCaseWithoutOnPrefix",e})(No||{});function oA(e){var t=document,i=e.container||t.createElement("div"),s=e.preventSubmit||0;i.id=i.id||"autocomplete-"+v();var n=i.style,o=e.debounceWaitMs||0,r=e.disableAutoSelect||!1,a=i.parentElement,l=[],d="",c=2,h=e.showOnFocus,u,p=0,m,f=!1,g=!1;if(e.minLength!==void 0&&(c=e.minLength),!e.input)throw new Error("input undefined");var _=e.input;i.className=[i.className,"autocomplete",e.className||""].join(" ").trim(),i.setAttribute("role","listbox"),_.setAttribute("role","combobox"),_.setAttribute("aria-expanded","false"),_.setAttribute("aria-autocomplete","list"),_.setAttribute("aria-controls",i.id),_.setAttribute("aria-owns",i.id),_.setAttribute("aria-activedescendant",""),_.setAttribute("aria-haspopup","listbox"),n.position="absolute";function v(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}function C(){var B=i.parentNode;B&&B.removeChild(i)}function y(){m&&window.clearTimeout(m)}function S(){i.parentNode||(a||t.body).appendChild(i)}function x(){return!!i.parentNode}function I(){p++,l=[],d="",u=void 0,_.setAttribute("aria-activedescendant",""),_.setAttribute("aria-expanded","false"),C()}function w(){if(!x())return;_.setAttribute("aria-expanded","true"),n.height="auto",n.width=_.offsetWidth+"px";var B=0,ne;function st(){var rt=t.documentElement,Lt=rt.clientTop||t.body.clientTop||0,Ft=rt.clientLeft||t.body.clientLeft||0,Di=window.pageYOffset||rt.scrollTop,fi=window.pageXOffset||rt.scrollLeft;ne=_.getBoundingClientRect();var ft=ne.top+_.offsetHeight+Di-Lt,hn=ne.left+fi-Ft;n.top=ft+"px",n.left=hn+"px",B=window.innerHeight-(ne.top+_.offsetHeight),B<0&&(B=0),n.top=ft+"px",n.bottom="",n.left=hn+"px",n.maxHeight=B+"px"}st(),st(),e.customize&&ne&&e.customize(_,ne,i,B)}function D(){i.textContent="",_.setAttribute("aria-activedescendant","");var B=function(Ft,Di,fi){var ft=t.createElement("div");return ft.textContent=Ft.label||"",ft};e.render&&(B=e.render);var ne=function(Ft,Di){var fi=t.createElement("div");return fi.textContent=Ft,fi};e.renderGroup&&(ne=e.renderGroup);var st=t.createDocumentFragment(),rt=v();if(l.forEach(function(Ft,Di){if(Ft.group&&Ft.group!==rt){rt=Ft.group;var fi=ne(Ft.group,d);fi&&(fi.className+=" group",st.appendChild(fi))}var ft=B(Ft,d,Di);ft&&(ft.id=i.id+"_"+Di,ft.setAttribute("role","option"),ft.addEventListener("click",function(hn){g=!0;try{e.onSelect(Ft,_)}finally{g=!1}I(),hn.preventDefault(),hn.stopPropagation()}),Ft===u&&(ft.className+=" selected",ft.setAttribute("aria-selected","true"),_.setAttribute("aria-activedescendant",ft.id)),st.appendChild(ft))}),i.appendChild(st),l.length<1)if(e.emptyMsg){var Lt=t.createElement("div");Lt.id=i.id+"_"+v(),Lt.className="empty",Lt.textContent=e.emptyMsg,i.appendChild(Lt),_.setAttribute("aria-activedescendant",Lt.id)}else{I();return}S(),w(),xe()}function V(){x()&&D()}function F(){V()}function W(B){B.target!==i?V():B.preventDefault()}function ee(){g||Ut(0)}function xe(){var B=i.getElementsByClassName("selected");if(B.length>0){var ne=B[0],st=ne.previousElementSibling;if(st&&st.className.indexOf("group")!==-1&&!st.previousElementSibling&&(ne=st),ne.offsetTop<i.scrollTop)i.scrollTop=ne.offsetTop;else{var rt=ne.offsetTop+ne.offsetHeight,Lt=i.scrollTop+i.offsetHeight;rt>Lt&&(i.scrollTop+=rt-Lt)}}}function ie(){var B=l.indexOf(u);u=B===-1?void 0:l[(B+l.length-1)%l.length],he(B)}function Q(){var B=l.indexOf(u);u=l.length<1?void 0:B===-1?l[0]:l[(B+1)%l.length],he(B)}function he(B){l.length>0&&(qe(B),Ae(l.indexOf(u)),xe())}function Ae(B){var ne=t.getElementById(i.id+"_"+B);ne&&(ne.classList.add("selected"),ne.setAttribute("aria-selected","true"),_.setAttribute("aria-activedescendant",ne.id))}function qe(B){var ne=t.getElementById(i.id+"_"+B);ne&&(ne.classList.remove("selected"),ne.removeAttribute("aria-selected"),_.removeAttribute("aria-activedescendant"))}function Fi(B,ne){var st=x();if(ne==="Escape")I();else{if(!st||l.length<1)return;ne==="ArrowUp"?ie():Q()}B.preventDefault(),st&&B.stopPropagation()}function Me(B){if(u){s===2&&B.preventDefault(),g=!0;try{e.onSelect(u,_)}finally{g=!1}I()}s===1&&B.preventDefault()}function mi(B){var ne=B.key;switch(ne){case"ArrowUp":case"ArrowDown":case"Escape":Fi(B,ne);break;case"Enter":Me(B);break}}function Pe(){h&&Ut(1)}function Ut(B){_.value.length>=c||B===1?(y(),m=window.setTimeout(function(){return ye(_.value,B,_.selectionStart||0)},B===0||B===2?o:0)):I()}function ye(B,ne,st){if(!f){var rt=++p;e.fetch(B,function(Lt){p===rt&&Lt&&(l=Lt,d=B,u=l.length<1||r?void 0:l[0],D())},ne,st)}}function jt(B){if(e.keyup){e.keyup({event:B,fetch:function(){return Ut(0)}});return}!x()&&B.key==="ArrowDown"&&Ut(0)}function jo(B){e.click&&e.click({event:B,fetch:function(){return Ut(2)}})}function sa(){setTimeout(function(){t.activeElement!==_&&I()},200)}function na(){ye(_.value,3,_.selectionStart||0)}i.addEventListener("mousedown",function(B){B.stopPropagation(),B.preventDefault()}),i.addEventListener("focus",function(){return _.focus()}),C();function yl(){_.removeEventListener("focus",Pe),_.removeEventListener("keyup",jt),_.removeEventListener("click",jo),_.removeEventListener("keydown",mi),_.removeEventListener("input",ee),_.removeEventListener("blur",sa),window.removeEventListener("resize",F),t.removeEventListener("scroll",W,!0),_.removeAttribute("role"),_.removeAttribute("aria-expanded"),_.removeAttribute("aria-autocomplete"),_.removeAttribute("aria-controls"),_.removeAttribute("aria-activedescendant"),_.removeAttribute("aria-owns"),_.removeAttribute("aria-haspopup"),y(),I(),f=!0}return _.addEventListener("keyup",jt),_.addEventListener("click",jo),_.addEventListener("keydown",mi),_.addEventListener("input",ee),_.addEventListener("blur",sa),_.addEventListener("focus",Pe),window.addEventListener("resize",F),t.addEventListener("scroll",W,!0),{destroy:yl,fetch:na}}var wc=oA;var He=class{constructor(){this._boundedEvents=[]}get boundedEvents(){return this._boundedEvents}dispose(){this.unbindAll(),this._boundedEvents=[]}bind(t,i,s,n,o=""){let r=Array.isArray(i)?i:[i];if(!(t instanceof HTMLElement||t instanceof DocumentFragment)&&t?.forEach)t.forEach(a=>{for(let l of r)a.addEventListener(l,s,n),this._boundedEvents.push({element:a,eventName:l,listener:s,groupName:o})});else if(t)for(let a of r)t.addEventListener(a,s,n),this._boundedEvents.push({element:t,eventName:a,listener:s,groupName:o})}unbind(t,i,s){let n=Array.isArray(t)?t:[t],o=Array.isArray(i)?i:[i];for(let r of o)for(let a of n)typeof a?.removeEventListener=="function"&&a.removeEventListener(r,s)}unbindByEventName(t,i){let s=this._boundedEvents.find(n=>n.element===t&&n.eventName===i);s&&this.unbind(s.element,s.eventName,s.listener)}unbindAll(t){if(t){let i=Array.isArray(t)?t:[t];for(let s=this._boundedEvents.length-1;s>=0;--s){let n=this._boundedEvents[s];if(i.some(o=>o===n.groupName)){let{element:o,eventName:r,listener:a}=n;this.unbind(o,r,a),this._boundedEvents.splice(s,1)}}}else for(;this._boundedEvents.length>0;){let i=this._boundedEvents.pop(),{element:s,eventName:n,listener:o}=i;this.unbind(s,n,o)}}};var Ry=Object.prototype.hasOwnProperty;function nn(e,t){var i,s;if(e===t)return!0;if(e&&t&&(i=e.constructor)===t.constructor){if(i===Date)return e.getTime()===t.getTime();if(i===RegExp)return e.toString()===t.toString();if(i===Array){if((s=e.length)===t.length)for(;s--&&nn(e[s],t[s]););return s===-1}if(!i||typeof e=="object"){s=0;for(i in e)if(Ry.call(e,i)&&++s&&!Ry.call(t,i)||!(i in t)||!nn(e[i],t[i]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}function Vp(e,t){let i=t.fetch;i&&(t.fetch=(s,n,o,r)=>{e.classList.add("slick-autocomplete-loading");let a=n;i(s,d=>{a(d),e.classList.remove("slick-autocomplete-loading")},o,r)})}function on(e,t){let i=t?.collectionOptions??{};if(!Array.isArray(e)&&i?.collectionInsideObjectProperty&&Ms(e)){let s=i.collectionInsideObjectProperty;e=ni(e,s||"")}return e}function Bp(e){let t=new Date;e.settings.selected={dates:[],month:t.getMonth(),year:t.getFullYear()};let i=e.HTMLInputElement;i&&(i.value=""),e.update({dates:!0,month:!0,year:!0,time:!0})}function Ec(e,t,i,s){let{oldVal:n,newVal:o,columnDef:r,selectedSettings:a,updatePickerUI:l}=s;if(n!==o){let d=e.type||r.type,c=r.outputType||e.type||r.type||T.dateUtc,h=Array.isArray(o)?o:[o||""],u=[],p=Wt(T.dateIso),m=d?Wt(d):void 0;for(let g of h){let _=g instanceof Date?g:Ds(g,m);_&&u.push(_)}let f=a??{dates:[u.map(g=>kt(g,p)).join(":")],month:u[0]?.getMonth(),year:u[0]?.getFullYear(),time:m==="ISO8601"||(m||"").toLowerCase().includes("h")?kt(u[0],"HH:mm"):void 0};nn(i.settings.selected,f)||(i.settings.selected=f,l&&i?.update&&i.update({dates:!0,month:!0,year:!0,time:!0})),t.value=h.length?u.map(g=>sn(g,void 0,c)).join(" \u2014 "):""}}function Br(e,t){let i=R("select",{className:"form-control"});for(let s of e){let n=document.createElement("option");n.value=s.operator,t.applyHtmlCode(n,`${xp(s.operatorAlt||s.operator,3)}${s.descAlt||s.desc}`),i.appendChild(n)}return i}function rA(e,t,i){let s=t?.filter??{};if(e=on(e,s),!Array.isArray(e))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Filter, the collection is not a valid array.');s.collection=e,i(e)}function xc(e,t,i,s,n){return ai(this,null,function*(){let o=t?.filter??{},r=null;if(e){let a=s?.isObservable(e)??!1;if(r=yield Xa(e,s),r=on(r,o),!Array.isArray(r))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Filter, the collection is not a valid array.');o.collection=r,i(r),a&&aA(t,i,s,n)}return r})}function aA(e,t,i,s){let n=e?.filter??{},o=i?.createSubject();n.collectionAsync=o,s&&o&&s.push(o.subscribe(r=>rA(r,e,t)))}function Zi(e,t,i,s,n){if(s?.enableTranslate&&n?.translate){let r=qi(s);return n.translate(`${r}${e}`)}return(s.locales||A.locales)?.[t]??i}function Dy(e,t){return[{operator:"",desc:Zi("CONTAINS","TEXT_CONTAINS","Contains",e,t)},{operator:"<>",desc:Zi("NOT_CONTAINS","TEXT_NOT_CONTAINS","Not Contains",e,t)},{operator:"=",desc:Zi("EQUALS","TEXT_EQUALS","Equals",e,t)},{operator:"!=",desc:Zi("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to",e,t)},{operator:"a*",desc:Zi("STARTS_WITH","TEXT_STARTS_WITH","Starts with",e,t)},{operator:"*z",desc:Zi("ENDS_WITH","TEXT_ENDS_WITH","Ends with",e,t)}]}function zr(e,t){return[{operator:"",desc:""},{operator:"=",desc:Zi("EQUAL_TO","TEXT_EQUAL_TO","Equal to",e,t)},{operator:"<",desc:Zi("LESS_THAN","TEXT_LESS_THAN","Less than",e,t)},{operator:"<=",desc:Zi("LESS_THAN_OR_EQUAL_TO","TEXT_LESS_THAN_OR_EQUAL_TO","Less than or equal to",e,t)},{operator:">",desc:Zi("GREATER_THAN","TEXT_GREATER_THAN","Greater than",e,t)},{operator:">=",desc:Zi("GREATER_THAN_OR_EQUAL_TO","TEXT_GREATER_THAN_OR_EQUAL_TO","Greater than or equal to",e,t)},{operator:"<>",desc:Zi("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to",e,t)}]}function Wr(e,t,i){if(e.compoundOperatorAltTexts){for(let s of t)if(e.compoundOperatorAltTexts.hasOwnProperty(i)){let n=e.compoundOperatorAltTexts[i][s.operator];s.operatorAlt=n?.operatorAlt||"",s.descAlt=n?.descAlt||""}}}var ze=class{get defaultPrevented(){return this._isDefaultPrevented}constructor(t,i){this.event=t,this.args=i,this._isPropagationStopped=!1,this._isImmediatePropagationStopped=!1,this._isDefaultPrevented=!1,this.returnValue=void 0,this.nativeEvent=t,this._arguments=i,t&&["altKey","ctrlKey","metaKey","shiftKey","key","keyCode","clientX","clientY","offsetX","offsetY","pageX","pageY","bubbles","target","type","which","x","y"].forEach(s=>this[s]=t[s]),this._eventTarget=this.nativeEvent?this.nativeEvent.target:void 0}stopPropagation(){this._isPropagationStopped=!0,this.nativeEvent?.stopPropagation()}isPropagationStopped(){return this._isPropagationStopped}stopImmediatePropagation(){this._isImmediatePropagationStopped=!0,this.nativeEvent&&this.nativeEvent.stopImmediatePropagation()}isImmediatePropagationStopped(){return this._isImmediatePropagationStopped}getNativeEvent(){return this.nativeEvent}preventDefault(){this.nativeEvent&&this.nativeEvent.preventDefault(),this._isDefaultPrevented=!0}isDefaultPrevented(){return this.nativeEvent?this.nativeEvent.defaultPrevented:this._isDefaultPrevented}addReturnValue(t){this.returnValue===void 0&&t!==void 0&&(this.returnValue=t)}getReturnValue(){return this.returnValue}getArguments(){return this._arguments}resetReturnValue(){this.returnValue=void 0}},hi=class{get subscriberCount(){return this._handlers.length}constructor(t,i){this.eventName=t,this.pubSub=i,this._handlers=[],this._pubSubService=i}subscribe(t){this._handlers.push(t)}unsubscribe(t){for(let i=this._handlers.length-1;i>=0;i--)this._handlers[i]===t&&this._handlers.splice(i,1)}notify(t,i,s,n=!1){let o=i instanceof ze?i:new ze(i,t);n&&o.resetReturnValue(),s=s||this;for(let r=0;r<this._handlers.length&&!(o.isPropagationStopped()||o.isImmediatePropagationStopped());r++){let a=this._handlers[r].call(s,o,t);o.addReturnValue(a)}if(typeof this._pubSubService?.publish=="function"&&this.eventName){let r=this._pubSubService.publish(this.eventName,{args:t,eventData:o},void 0,a=>o.nativeEvent??=a);o.addReturnValue(r)}return o}setPubSubService(t){this._pubSubService=t}};var zp=class{constructor(){this.activeEditController=null}isActive(t){return t?this.activeEditController===t:this.activeEditController!==null}activate(t){if(t!==this.activeEditController){if(this.activeEditController!==null)throw new Error("SlickEditorLock.activate: an editController is still active, can't activate another editController");if(!t.commitCurrentEdit)throw new Error("SlickEditorLock.activate: editController must implement .commitCurrentEdit()");if(!t.cancelCurrentEdit)throw new Error("SlickEditorLock.activate: editController must implement .cancelCurrentEdit()");this.activeEditController=t}}deactivate(t){if(this.activeEditController){if(this.activeEditController!==t)throw new Error("SlickEditorLock.deactivate: specified editController is not the currently active one");this.activeEditController=null}}commitCurrentEdit(){return this.activeEditController?this.activeEditController.commitCurrentEdit():!0}cancelCurrentEdit(){return this.activeEditController?this.activeEditController.cancelCurrentEdit():!0}},rn=class e{static height(t,i){if(t){if(i===void 0)return t.getBoundingClientRect().height;e.setStyleSize(t,"height",i)}}static width(t,i){if(!(!t||!t.getBoundingClientRect)){if(i===void 0)return t.getBoundingClientRect().width;e.setStyleSize(t,"width",i)}}static setStyleSize(t,i,s){typeof s=="function"&&(s=s()),t.style[i]=typeof s=="string"?s:`${s}px`}static isHidden(t){return t.offsetWidth===0&&t.offsetHeight===0}static parents(t,i){let s=[],n=i===":visible",o=i===":hidden";for(;(t=t.parentNode)&&t!==document&&!(!t||!t.parentNode);)o?e.isHidden(t)&&s.push(t):n?e.isHidden(t)||s.push(t):(!i||t.matches(i))&&s.push(t);return s}static toFloat(t){let i=parseFloat(t);return isNaN(i)?0:i}static show(t,i=""){Array.isArray(t)?t.forEach(s=>s.style.display=i):t.style.display=i}static hide(t){Array.isArray(t)?t.forEach(i=>i.style.display="none"):t.style.display="none"}static applyDefaults(t,i){typeof i=="object"&&Object.keys(i).forEach(s=>{i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])})}static addSlickEventPubSubWhenDefined(t,i){if(t)for(let s in i)i[s]instanceof hi&&typeof i[s].setPubSubService=="function"&&i[s].setPubSubService(t)}};rn.storage={_storage:new WeakMap,put:function(e,t,i){this._storage.has(e)||this._storage.set(e,new Map),this._storage.get(e).set(t,i)},get:function(e,t){let i=this._storage.get(e);return i?i.get(t):null},remove:function(e,t){let i=this._storage.get(e).delete(t);return this._storage.get(e).size!==0&&this._storage.delete(e),i}};var Wp=new zp;function Ay(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,s)}return i}function Ps(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ay(Object(i),!0).forEach(function(s){cA(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ay(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function Rc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rc=function(t){return typeof t}:Rc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function cA(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ln(){return ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},ln.apply(this,arguments)}function hA(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,o;for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function uA(e,t){if(e==null)return{};var i=hA(e,t),s,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)s=o[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var pA="1.15.6";function an(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var dn=an(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),hl=an(/Edge/i),Py=an(/firefox/i),rl=an(/safari/i)&&!an(/chrome/i)&&!an(/android/i),im=an(/iP(ad|od|hone)/i),zy=an(/chrome/i)&&an(/android/i),Wy={capture:!1,passive:!1};function pe(e,t,i){e.addEventListener(t,i,!dn&&Wy)}function ue(e,t,i){e.removeEventListener(t,i,!dn&&Wy)}function Lc(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function $y(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function as(e,t,i,s){if(e){i=i||document;do{if(t!=null&&(t[0]===">"?e.parentNode===i&&Lc(e,t):Lc(e,t))||s&&e===i)return e;if(e===i)break}while(e=$y(e))}return null}var ky=/\s+/g;function ki(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var s=(" "+e.className+" ").replace(ky," ").replace(" "+t+" "," ");e.className=(s+(i?" "+t:"")).replace(ky," ")}}function X(e,t,i){var s=e&&e.style;if(s){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),t===void 0?i:i[t];!(t in s)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),s[t]=i+(typeof i=="string"?"":"px")}}function Yr(e,t){var i="";if(typeof e=="string")i=e;else do{var s=X(e,"transform");s&&s!=="none"&&(i=s+" "+i)}while(!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function Gy(e,t,i){if(e){var s=e.getElementsByTagName(t),n=0,o=s.length;if(i)for(;n<o;n++)i(s[n],n);return s}return[]}function As(){var e=document.scrollingElement;return e||document.documentElement}function mt(e,t,i,s,n){if(!(!e.getBoundingClientRect&&e!==window)){var o,r,a,l,d,c,h;if(e!==window&&e.parentNode&&e!==As()?(o=e.getBoundingClientRect(),r=o.top,a=o.left,l=o.bottom,d=o.right,c=o.height,h=o.width):(r=0,a=0,l=window.innerHeight,d=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(t||i)&&e!==window&&(n=n||e.parentNode,!dn))do if(n&&n.getBoundingClientRect&&(X(n,"transform")!=="none"||i&&X(n,"position")!=="static")){var u=n.getBoundingClientRect();r-=u.top+parseInt(X(n,"border-top-width")),a-=u.left+parseInt(X(n,"border-left-width")),l=r+o.height,d=a+o.width;break}while(n=n.parentNode);if(s&&e!==window){var p=Yr(n||e),m=p&&p.a,f=p&&p.d;p&&(r/=f,a/=m,h/=m,c/=f,l=r+c,d=a+h)}return{top:r,left:a,bottom:l,right:d,width:h,height:c}}}function Ly(e,t,i){for(var s=Un(e,!0),n=mt(e)[t];s;){var o=mt(s)[i],r=void 0;if(i==="top"||i==="left"?r=n>=o:r=n<=o,!r)return s;if(s===As())break;s=Un(s,!1)}return!1}function Xr(e,t,i,s){for(var n=0,o=0,r=e.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==K.ghost&&(s||r[o]!==K.dragged)&&as(r[o],i.draggable,e,!1)){if(n===t)return r[o];n++}o++}return null}function sm(e,t){for(var i=e.lastElementChild;i&&(i===K.ghost||X(i,"display")==="none"||t&&!Lc(i,t));)i=i.previousElementSibling;return i||null}function Ji(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==K.clone&&(!t||Lc(e,t))&&i++;return i}function Fy(e){var t=0,i=0,s=As();if(e)do{var n=Yr(e),o=n.a,r=n.d;t+=e.scrollLeft*o,i+=e.scrollTop*r}while(e!==s&&(e=e.parentNode));return[t,i]}function mA(e,t){for(var i in e)if(e.hasOwnProperty(i)){for(var s in t)if(t.hasOwnProperty(s)&&t[s]===e[i][s])return Number(i)}return-1}function Un(e,t){if(!e||!e.getBoundingClientRect)return As();var i=e,s=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=X(i);if(i.clientWidth<i.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return As();if(s||t)return i;s=!0}}while(i=i.parentNode);return As()}function fA(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function $p(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var al;function Uy(e,t){return function(){if(!al){var i=arguments,s=this;i.length===1?e.call(s,i[0]):e.apply(s,i),al=setTimeout(function(){al=void 0},t)}}}function gA(){clearTimeout(al),al=void 0}function jy(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function Yy(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function Xy(e,t,i){var s={};return Array.from(e.children).forEach(function(n){var o,r,a,l;if(!(!as(n,t.draggable,e,!1)||n.animated||n===i)){var d=mt(n);s.left=Math.min((o=s.left)!==null&&o!==void 0?o:1/0,d.left),s.top=Math.min((r=s.top)!==null&&r!==void 0?r:1/0,d.top),s.right=Math.max((a=s.right)!==null&&a!==void 0?a:-1/0,d.right),s.bottom=Math.max((l=s.bottom)!==null&&l!==void 0?l:-1/0,d.bottom)}}),s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var Ri="Sortable"+new Date().getTime();function _A(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(n){if(!(X(n,"display")==="none"||n===K.ghost)){e.push({target:n,rect:mt(n)});var o=Ps({},e[e.length-1].rect);if(n.thisAnimationDuration){var r=Yr(n,!0);r&&(o.top-=r.f,o.left-=r.e)}n.fromRect=o}})}},addAnimationState:function(s){e.push(s)},removeAnimationState:function(s){e.splice(mA(e,{target:s}),1)},animateAll:function(s){var n=this;if(!this.options.animation){clearTimeout(t),typeof s=="function"&&s();return}var o=!1,r=0;e.forEach(function(a){var l=0,d=a.target,c=d.fromRect,h=mt(d),u=d.prevFromRect,p=d.prevToRect,m=a.rect,f=Yr(d,!0);f&&(h.top-=f.f,h.left-=f.e),d.toRect=h,d.thisAnimationDuration&&$p(u,h)&&!$p(c,h)&&(m.top-h.top)/(m.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(l=vA(m,u,p,n.options)),$p(h,c)||(d.prevFromRect=c,d.prevToRect=h,l||(l=n.options.animation),n.animate(d,m,h,l)),l&&(o=!0,r=Math.max(r,l),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},l),d.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof s=="function"&&s()},r):typeof s=="function"&&s(),e=[]},animate:function(s,n,o,r){if(r){X(s,"transition",""),X(s,"transform","");var a=Yr(this.el),l=a&&a.a,d=a&&a.d,c=(n.left-o.left)/(l||1),h=(n.top-o.top)/(d||1);s.animatingX=!!c,s.animatingY=!!h,X(s,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=bA(s),X(s,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),X(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){X(s,"transition",""),X(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},r)}}}}function bA(e){return e.offsetWidth}function vA(e,t,i,s){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*s.animation}var $r=[],Gp={initializeByDefault:!0},ul={mount:function(t){for(var i in Gp)Gp.hasOwnProperty(i)&&!(i in t)&&(t[i]=Gp[i]);$r.forEach(function(s){if(s.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),$r.push(t)},pluginEvent:function(t,i,s){var n=this;this.eventCanceled=!1,s.cancel=function(){n.eventCanceled=!0};var o=t+"Global";$r.forEach(function(r){i[r.pluginName]&&(i[r.pluginName][o]&&i[r.pluginName][o](Ps({sortable:i},s)),i.options[r.pluginName]&&i[r.pluginName][t]&&i[r.pluginName][t](Ps({sortable:i},s)))})},initializePlugins:function(t,i,s,n){$r.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var d=new a(t,i,t.options);d.sortable=t,d.options=t.options,t[l]=d,ln(s,d.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var r=this.modifyOption(t,o,t.options[o]);typeof r<"u"&&(t.options[o]=r)}},getEventProperties:function(t,i){var s={};return $r.forEach(function(n){typeof n.eventProperties=="function"&&ln(s,n.eventProperties.call(i[n.pluginName],t))}),s},modifyOption:function(t,i,s){var n;return $r.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[i]=="function"&&(n=o.optionListeners[i].call(t[o.pluginName],s))}),n}};function CA(e){var t=e.sortable,i=e.rootEl,s=e.name,n=e.targetEl,o=e.cloneEl,r=e.toEl,a=e.fromEl,l=e.oldIndex,d=e.newIndex,c=e.oldDraggableIndex,h=e.newDraggableIndex,u=e.originalEvent,p=e.putSortable,m=e.extraEventProperties;if(t=t||i&&i[Ri],!!t){var f,g=t.options,_="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!dn&&!hl?f=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent(s,!0,!0)),f.to=r||i,f.from=a||i,f.item=n||i,f.clone=o,f.oldIndex=l,f.newIndex=d,f.oldDraggableIndex=c,f.newDraggableIndex=h,f.originalEvent=u,f.pullMode=p?p.lastPutMode:void 0;var v=Ps(Ps({},m),ul.getEventProperties(s,t));for(var C in v)f[C]=v[C];i&&i.dispatchEvent(f),g[_]&&g[_].call(t,f)}}var yA=["evt"],Ii=function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=s.evt,o=uA(s,yA);ul.pluginEvent.bind(K)(t,i,Ps({dragEl:k,parentEl:it,ghostEl:J,rootEl:Ue,nextEl:Bo,lastDownEl:Dc,cloneEl:Ke,cloneHidden:Gn,dragStarted:sl,putSortable:$t,activeSortable:K.active,originalEvent:n,oldIndex:jr,oldDraggableIndex:ll,newIndex:Li,newDraggableIndex:$n,hideGhostForTarget:Zy,unhideGhostForTarget:Jy,cloneNowHidden:function(){Gn=!0},cloneNowShown:function(){Gn=!1},dispatchSortableEvent:function(a){ui({sortable:i,name:a,originalEvent:n})}},o))};function ui(e){CA(Ps({putSortable:$t,cloneEl:Ke,targetEl:k,rootEl:Ue,oldIndex:jr,oldDraggableIndex:ll,newIndex:Li,newDraggableIndex:$n},e))}var k,it,J,Ue,Bo,Dc,Ke,Gn,jr,Li,ll,$n,Tc,$t,Ur=!1,Fc=!1,Nc=[],Ho,rs,Up,jp,Ny,Hy,sl,Gr,dl,cl=!1,Oc=!1,Ac,oi,Yp=[],Zp=!1,Hc=[],Bc=typeof document<"u",Mc=im,Vy=hl||dn?"cssFloat":"float",SA=Bc&&!zy&&!im&&"draggable"in document.createElement("div"),Ky=(function(){if(Bc){if(dn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}})(),qy=function(t,i){var s=X(t),n=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),o=Xr(t,0,i),r=Xr(t,1,i),a=o&&X(o),l=r&&X(r),d=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+mt(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+mt(r).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return r&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||d>=n&&s[Vy]==="none"||r&&s[Vy]==="none"&&d+c>n)?"vertical":"horizontal"},wA=function(t,i,s){var n=s?t.left:t.top,o=s?t.right:t.bottom,r=s?t.width:t.height,a=s?i.left:i.top,l=s?i.right:i.bottom,d=s?i.width:i.height;return n===a||o===l||n+r/2===a+d/2},EA=function(t,i){var s;return Nc.some(function(n){var o=n[Ri].options.emptyInsertThreshold;if(!(!o||sm(n))){var r=mt(n),a=t>=r.left-o&&t<=r.right+o,l=i>=r.top-o&&i<=r.bottom+o;if(a&&l)return s=n}}),s},Qy=function(t){function i(o,r){return function(a,l,d,c){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(r||h))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return i(o(a,l,d,c),r)(a,l,d,c);var u=(r?a:l).options.group.name;return o===!0||typeof o=="string"&&o===u||o.join&&o.indexOf(u)>-1}}var s={},n=t.group;(!n||Rc(n)!="object")&&(n={name:n}),s.name=n.name,s.checkPull=i(n.pull,!0),s.checkPut=i(n.put),s.revertClone=n.revertClone,t.group=s},Zy=function(){!Ky&&J&&X(J,"display","none")},Jy=function(){!Ky&&J&&X(J,"display","")};Bc&&!zy&&document.addEventListener("click",function(e){if(Fc)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Fc=!1,!1},!0);var Vo=function(t){if(k){t=t.touches?t.touches[0]:t;var i=EA(t.clientX,t.clientY);if(i){var s={};for(var n in t)t.hasOwnProperty(n)&&(s[n]=t[n]);s.target=s.rootEl=i,s.preventDefault=void 0,s.stopPropagation=void 0,i[Ri]._onDragOver(s)}}},xA=function(t){k&&k.parentNode[Ri]._isOutsideThisEl(t.target)};function K(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ln({},t),e[Ri]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qy(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,a){r.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:K.supportPointer!==!1&&"PointerEvent"in window&&(!rl||im),emptyInsertThreshold:5};ul.initializePlugins(this,e,i);for(var s in i)!(s in t)&&(t[s]=i[s]);Qy(t);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=t.forceFallback?!1:SA,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?pe(e,"pointerdown",this._onTapStart):(pe(e,"mousedown",this._onTapStart),pe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(pe(e,"dragover",this),pe(e,"dragenter",this)),Nc.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ln(this,_A())}K.prototype={constructor:K,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Gr=null)},_getDirection:function(t,i){return typeof this.options.direction=="function"?this.options.direction.call(this,t,i,k):this.options.direction},_onTapStart:function(t){if(t.cancelable){var i=this,s=this.el,n=this.options,o=n.preventOnFilter,r=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=n.filter;if(PA(s),!k&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||n.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&rl&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=as(l,n.draggable,s,!1),!(l&&l.animated)&&Dc!==l)){if(jr=Ji(l),ll=Ji(l,n.draggable),typeof c=="function"){if(c.call(this,t,l,this)){ui({sortable:i,rootEl:d,name:"filter",targetEl:l,toEl:s,fromEl:s}),Ii("filter",i,{evt:t}),o&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=as(d,h.trim(),s,!1),h)return ui({sortable:i,rootEl:h,name:"filter",targetEl:l,fromEl:s,toEl:s}),Ii("filter",i,{evt:t}),!0}),c)){o&&t.preventDefault();return}n.handle&&!as(d,n.handle,s,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,i,s){var n=this,o=n.el,r=n.options,a=o.ownerDocument,l;if(s&&!k&&s.parentNode===o){var d=mt(s);if(Ue=o,k=s,it=k.parentNode,Bo=k.nextSibling,Dc=s,Tc=r.group,K.dragged=k,Ho={target:k,clientX:(i||t).clientX,clientY:(i||t).clientY},Ny=Ho.clientX-d.left,Hy=Ho.clientY-d.top,this._lastX=(i||t).clientX,this._lastY=(i||t).clientY,k.style["will-change"]="all",l=function(){if(Ii("delayEnded",n,{evt:t}),K.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!Py&&n.nativeDraggable&&(k.draggable=!0),n._triggerDragStart(t,i),ui({sortable:n,name:"choose",originalEvent:t}),ki(k,r.chosenClass,!0)},r.ignore.split(",").forEach(function(c){Gy(k,c.trim(),Xp)}),pe(a,"dragover",Vo),pe(a,"mousemove",Vo),pe(a,"touchmove",Vo),r.supportPointer?(pe(a,"pointerup",n._onDrop),!this.nativeDraggable&&pe(a,"pointercancel",n._onDrop)):(pe(a,"mouseup",n._onDrop),pe(a,"touchend",n._onDrop),pe(a,"touchcancel",n._onDrop)),Py&&this.nativeDraggable&&(this.options.touchStartThreshold=4,k.draggable=!0),Ii("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(hl||dn))){if(K.eventCanceled){this._onDrop();return}r.supportPointer?(pe(a,"pointerup",n._disableDelayedDrag),pe(a,"pointercancel",n._disableDelayedDrag)):(pe(a,"mouseup",n._disableDelayedDrag),pe(a,"touchend",n._disableDelayedDrag),pe(a,"touchcancel",n._disableDelayedDrag)),pe(a,"mousemove",n._delayedDragTouchMoveHandler),pe(a,"touchmove",n._delayedDragTouchMoveHandler),r.supportPointer&&pe(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(l,r.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var i=t.touches?t.touches[0]:t;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){k&&Xp(k),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ue(t,"mouseup",this._disableDelayedDrag),ue(t,"touchend",this._disableDelayedDrag),ue(t,"touchcancel",this._disableDelayedDrag),ue(t,"pointerup",this._disableDelayedDrag),ue(t,"pointercancel",this._disableDelayedDrag),ue(t,"mousemove",this._delayedDragTouchMoveHandler),ue(t,"touchmove",this._delayedDragTouchMoveHandler),ue(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||t.pointerType=="touch"&&t,!this.nativeDraggable||i?this.options.supportPointer?pe(document,"pointermove",this._onTouchMove):i?pe(document,"touchmove",this._onTouchMove):pe(document,"mousemove",this._onTouchMove):(pe(k,"dragend",this),pe(Ue,"dragstart",this._onDragStart));try{document.selection?Pc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,i){if(Ur=!1,Ue&&k){Ii("dragStarted",this,{evt:i}),this.nativeDraggable&&pe(document,"dragover",xA);var s=this.options;!t&&ki(k,s.dragClass,!1),ki(k,s.ghostClass,!0),K.active=this,t&&this._appendGhost(),ui({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(rs){this._lastX=rs.clientX,this._lastY=rs.clientY,Zy();for(var t=document.elementFromPoint(rs.clientX,rs.clientY),i=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(rs.clientX,rs.clientY),t!==i);)i=t;if(k.parentNode[Ri]._isOutsideThisEl(t),i)do{if(i[Ri]){var s=void 0;if(s=i[Ri]._onDragOver({clientX:rs.clientX,clientY:rs.clientY,target:t,rootEl:i}),s&&!this.options.dragoverBubble)break}t=i}while(i=$y(i));Jy()}},_onTouchMove:function(t){if(Ho){var i=this.options,s=i.fallbackTolerance,n=i.fallbackOffset,o=t.touches?t.touches[0]:t,r=J&&Yr(J,!0),a=J&&r&&r.a,l=J&&r&&r.d,d=Mc&&oi&&Fy(oi),c=(o.clientX-Ho.clientX+n.x)/(a||1)+(d?d[0]-Yp[0]:0)/(a||1),h=(o.clientY-Ho.clientY+n.y)/(l||1)+(d?d[1]-Yp[1]:0)/(l||1);if(!K.active&&!Ur){if(s&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<s)return;this._onDragStart(t,!0)}if(J){r?(r.e+=c-(Up||0),r.f+=h-(jp||0)):r={a:1,b:0,c:0,d:1,e:c,f:h};var u="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");X(J,"webkitTransform",u),X(J,"mozTransform",u),X(J,"msTransform",u),X(J,"transform",u),Up=c,jp=h,rs=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!J){var t=this.options.fallbackOnBody?document.body:Ue,i=mt(k,!0,Mc,!0,t),s=this.options;if(Mc){for(oi=t;X(oi,"position")==="static"&&X(oi,"transform")==="none"&&oi!==document;)oi=oi.parentNode;oi!==document.body&&oi!==document.documentElement?(oi===document&&(oi=As()),i.top+=oi.scrollTop,i.left+=oi.scrollLeft):oi=As(),Yp=Fy(oi)}J=k.cloneNode(!0),ki(J,s.ghostClass,!1),ki(J,s.fallbackClass,!0),ki(J,s.dragClass,!0),X(J,"transition",""),X(J,"transform",""),X(J,"box-sizing","border-box"),X(J,"margin",0),X(J,"top",i.top),X(J,"left",i.left),X(J,"width",i.width),X(J,"height",i.height),X(J,"opacity","0.8"),X(J,"position",Mc?"absolute":"fixed"),X(J,"zIndex","100000"),X(J,"pointerEvents","none"),K.ghost=J,t.appendChild(J),X(J,"transform-origin",Ny/parseInt(J.style.width)*100+"% "+Hy/parseInt(J.style.height)*100+"%")}},_onDragStart:function(t,i){var s=this,n=t.dataTransfer,o=s.options;if(Ii("dragStart",this,{evt:t}),K.eventCanceled){this._onDrop();return}Ii("setupClone",this),K.eventCanceled||(Ke=Yy(k),Ke.removeAttribute("id"),Ke.draggable=!1,Ke.style["will-change"]="",this._hideClone(),ki(Ke,this.options.chosenClass,!1),K.clone=Ke),s.cloneId=Pc(function(){Ii("clone",s),!K.eventCanceled&&(s.options.removeCloneOnHide||Ue.insertBefore(Ke,k),s._hideClone(),ui({sortable:s,name:"clone"}))}),!i&&ki(k,o.dragClass,!0),i?(Fc=!0,s._loopId=setInterval(s._emulateDragOver,50)):(ue(document,"mouseup",s._onDrop),ue(document,"touchend",s._onDrop),ue(document,"touchcancel",s._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(s,n,k)),pe(document,"drop",s),X(k,"transform","translateZ(0)")),Ur=!0,s._dragStartId=Pc(s._dragStarted.bind(s,i,t)),pe(document,"selectstart",s),sl=!0,window.getSelection().removeAllRanges(),rl&&X(document.body,"user-select","none")},_onDragOver:function(t){var i=this.el,s=t.target,n,o,r,a=this.options,l=a.group,d=K.active,c=Tc===l,h=a.sort,u=$t||d,p,m=this,f=!1;if(Zp)return;function g(Ae,qe){Ii(Ae,m,Ps({evt:t,isOwner:c,axis:p?"vertical":"horizontal",revert:r,dragRect:n,targetRect:o,canSort:h,fromSortable:u,target:s,completed:v,onMove:function(Me,mi){return Ic(Ue,i,k,n,Me,mt(Me),t,mi)},changed:C},qe))}function _(){g("dragOverAnimationCapture"),m.captureAnimationState(),m!==u&&u.captureAnimationState()}function v(Ae){return g("dragOverCompleted",{insertion:Ae}),Ae&&(c?d._hideClone():d._showClone(m),m!==u&&(ki(k,$t?$t.options.ghostClass:d.options.ghostClass,!1),ki(k,a.ghostClass,!0)),$t!==m&&m!==K.active?$t=m:m===K.active&&$t&&($t=null),u===m&&(m._ignoreWhileAnimating=s),m.animateAll(function(){g("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(s===k&&!k.animated||s===i&&!s.animated)&&(Gr=null),!a.dragoverBubble&&!t.rootEl&&s!==document&&(k.parentNode[Ri]._isOutsideThisEl(t.target),!Ae&&Vo(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),f=!0}function C(){Li=Ji(k),$n=Ji(k,a.draggable),ui({sortable:m,name:"change",toEl:i,newIndex:Li,newDraggableIndex:$n,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),s=as(s,a.draggable,i,!0),g("dragOver"),K.eventCanceled)return f;if(k.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||m._ignoreWhileAnimating===s)return v(!1);if(Fc=!1,d&&!a.disabled&&(c?h||(r=it!==Ue):$t===this||(this.lastPutMode=Tc.checkPull(this,d,k,t))&&l.checkPut(this,d,k,t))){if(p=this._getDirection(t,s)==="vertical",n=mt(k),g("dragOverValid"),K.eventCanceled)return f;if(r)return it=Ue,_(),this._hideClone(),g("revert"),K.eventCanceled||(Bo?Ue.insertBefore(k,Bo):Ue.appendChild(k)),v(!0);var y=sm(i,a.draggable);if(!y||IA(t,p,this)&&!y.animated){if(y===k)return v(!1);if(y&&i===t.target&&(s=y),s&&(o=mt(s)),Ic(Ue,i,k,n,s,o,t,!!s)!==!1)return _(),y&&y.nextSibling?i.insertBefore(k,y.nextSibling):i.appendChild(k),it=i,C(),v(!0)}else if(y&&MA(t,p,this)){var S=Xr(i,0,a,!0);if(S===k)return v(!1);if(s=S,o=mt(s),Ic(Ue,i,k,n,s,o,t,!1)!==!1)return _(),i.insertBefore(k,S),it=i,C(),v(!0)}else if(s.parentNode===i){o=mt(s);var x=0,I,w=k.parentNode!==i,D=!wA(k.animated&&k.toRect||n,s.animated&&s.toRect||o,p),V=p?"top":"left",F=Ly(s,"top","top")||Ly(k,"top","top"),W=F?F.scrollTop:void 0;Gr!==s&&(I=o[V],cl=!1,Oc=!D&&a.invertSwap||w),x=RA(t,s,o,p,D?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Oc,Gr===s);var ee;if(x!==0){var xe=Ji(k);do xe-=x,ee=it.children[xe];while(ee&&(X(ee,"display")==="none"||ee===J))}if(x===0||ee===s)return v(!1);Gr=s,dl=x;var ie=s.nextElementSibling,Q=!1;Q=x===1;var he=Ic(Ue,i,k,n,s,o,t,Q);if(he!==!1)return(he===1||he===-1)&&(Q=he===1),Zp=!0,setTimeout(OA,30),_(),Q&&!ie?i.appendChild(k):s.parentNode.insertBefore(k,Q?ie:s),F&&jy(F,0,W-F.scrollTop),it=k.parentNode,I!==void 0&&!Oc&&(Ac=Math.abs(I-mt(s)[V])),C(),v(!0)}if(i.contains(k))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ue(document,"mousemove",this._onTouchMove),ue(document,"touchmove",this._onTouchMove),ue(document,"pointermove",this._onTouchMove),ue(document,"dragover",Vo),ue(document,"mousemove",Vo),ue(document,"touchmove",Vo)},_offUpEvents:function(){var t=this.el.ownerDocument;ue(t,"mouseup",this._onDrop),ue(t,"touchend",this._onDrop),ue(t,"pointerup",this._onDrop),ue(t,"pointercancel",this._onDrop),ue(t,"touchcancel",this._onDrop),ue(document,"selectstart",this)},_onDrop:function(t){var i=this.el,s=this.options;if(Li=Ji(k),$n=Ji(k,s.draggable),Ii("drop",this,{evt:t}),it=k&&k.parentNode,Li=Ji(k),$n=Ji(k,s.draggable),K.eventCanceled){this._nulling();return}Ur=!1,Oc=!1,cl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Jp(this.cloneId),Jp(this._dragStartId),this.nativeDraggable&&(ue(document,"drop",this),ue(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),rl&&X(document.body,"user-select",""),X(k,"transform",""),t&&(sl&&(t.cancelable&&t.preventDefault(),!s.dropBubble&&t.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(Ue===it||$t&&$t.lastPutMode!=="clone")&&Ke&&Ke.parentNode&&Ke.parentNode.removeChild(Ke),k&&(this.nativeDraggable&&ue(k,"dragend",this),Xp(k),k.style["will-change"]="",sl&&!Ur&&ki(k,$t?$t.options.ghostClass:this.options.ghostClass,!1),ki(k,this.options.chosenClass,!1),ui({sortable:this,name:"unchoose",toEl:it,newIndex:null,newDraggableIndex:null,originalEvent:t}),Ue!==it?(Li>=0&&(ui({rootEl:it,name:"add",toEl:it,fromEl:Ue,originalEvent:t}),ui({sortable:this,name:"remove",toEl:it,originalEvent:t}),ui({rootEl:it,name:"sort",toEl:it,fromEl:Ue,originalEvent:t}),ui({sortable:this,name:"sort",toEl:it,originalEvent:t})),$t&&$t.save()):Li!==jr&&Li>=0&&(ui({sortable:this,name:"update",toEl:it,originalEvent:t}),ui({sortable:this,name:"sort",toEl:it,originalEvent:t})),K.active&&((Li==null||Li===-1)&&(Li=jr,$n=ll),ui({sortable:this,name:"end",toEl:it,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ii("nulling",this),Ue=k=it=J=Bo=Ke=Dc=Gn=Ho=rs=sl=Li=$n=jr=ll=Gr=dl=$t=Tc=K.dragged=K.ghost=K.clone=K.active=null,Hc.forEach(function(t){t.checked=!0}),Hc.length=Up=jp=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":k&&(this._onDragOver(t),TA(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],i,s=this.el.children,n=0,o=s.length,r=this.options;n<o;n++)i=s[n],as(i,r.draggable,this.el,!1)&&t.push(i.getAttribute(r.dataIdAttr)||AA(i));return t},sort:function(t,i){var s={},n=this.el;this.toArray().forEach(function(o,r){var a=n.children[r];as(a,this.options.draggable,n,!1)&&(s[o]=a)},this),i&&this.captureAnimationState(),t.forEach(function(o){s[o]&&(n.removeChild(s[o]),n.appendChild(s[o]))}),i&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,i){return as(t,i||this.options.draggable,this.el,!1)},option:function(t,i){var s=this.options;if(i===void 0)return s[t];var n=ul.modifyOption(this,t,i);typeof n<"u"?s[t]=n:s[t]=i,t==="group"&&Qy(s)},destroy:function(){Ii("destroy",this);var t=this.el;t[Ri]=null,ue(t,"mousedown",this._onTapStart),ue(t,"touchstart",this._onTapStart),ue(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ue(t,"dragover",this),ue(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Nc.splice(Nc.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Gn){if(Ii("hideClone",this),K.eventCanceled)return;X(Ke,"display","none"),this.options.removeCloneOnHide&&Ke.parentNode&&Ke.parentNode.removeChild(Ke),Gn=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Gn){if(Ii("showClone",this),K.eventCanceled)return;k.parentNode==Ue&&!this.options.group.revertClone?Ue.insertBefore(Ke,k):Bo?Ue.insertBefore(Ke,Bo):Ue.appendChild(Ke),this.options.group.revertClone&&this.animate(k,Ke),X(Ke,"display",""),Gn=!1}}};function TA(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ic(e,t,i,s,n,o,r,a){var l,d=e[Ri],c=d.options.onMove,h;return window.CustomEvent&&!dn&&!hl?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=i,l.draggedRect=s,l.related=n||t,l.relatedRect=o||mt(t),l.willInsertAfter=a,l.originalEvent=r,e.dispatchEvent(l),c&&(h=c.call(d,l,r)),h}function Xp(e){e.draggable=!1}function OA(){Zp=!1}function MA(e,t,i){var s=mt(Xr(i.el,0,i.options,!0)),n=Xy(i.el,i.options,J),o=10;return t?e.clientX<n.left-o||e.clientY<s.top&&e.clientX<s.right:e.clientY<n.top-o||e.clientY<s.bottom&&e.clientX<s.left}function IA(e,t,i){var s=mt(sm(i.el,i.options.draggable)),n=Xy(i.el,i.options,J),o=10;return t?e.clientX>n.right+o||e.clientY>s.bottom&&e.clientX>s.left:e.clientY>n.bottom+o||e.clientX>s.right&&e.clientY>s.top}function RA(e,t,i,s,n,o,r,a){var l=s?e.clientY:e.clientX,d=s?i.height:i.width,c=s?i.top:i.left,h=s?i.bottom:i.right,u=!1;if(!r){if(a&&Ac<d*n){if(!cl&&(dl===1?l>c+d*o/2:l<h-d*o/2)&&(cl=!0),cl)u=!0;else if(dl===1?l<c+Ac:l>h-Ac)return-dl}else if(l>c+d*(1-n)/2&&l<h-d*(1-n)/2)return DA(t)}return u=u||r,u&&(l<c+d*o/2||l>h-d*o/2)?l>c+d/2?1:-1:0}function DA(e){return Ji(k)<Ji(e)?1:-1}function AA(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,s=0;i--;)s+=t.charCodeAt(i);return s.toString(36)}function PA(e){Hc.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var s=t[i];s.checked&&Hc.push(s)}}function Pc(e){return setTimeout(e,0)}function Jp(e){return clearTimeout(e)}Bc&&pe(document,"touchmove",function(e){(K.active||Ur)&&e.cancelable&&e.preventDefault()});K.utils={on:pe,off:ue,css:X,find:Gy,is:function(t,i){return!!as(t,i,t,!1)},extend:fA,throttle:Uy,closest:as,toggleClass:ki,clone:Yy,index:Ji,nextTick:Pc,cancelNextTick:Jp,detectDirection:qy,getChild:Xr,expando:Ri};K.get=function(e){return e[Ri]};K.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(K.utils=Ps(Ps({},K.utils),s.utils)),ul.mount(s)})};K.create=function(e,t){return new K(e,t)};K.version=pA;var pt=[],nl,em,tm=!1,Kp,qp,Vc,ol;function kA(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(i){var s=i.originalEvent;this.sortable.nativeDraggable?pe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?pe(document,"pointermove",this._handleFallbackAutoScroll):s.touches?pe(document,"touchmove",this._handleFallbackAutoScroll):pe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var s=i.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?ue(document,"dragover",this._handleAutoScroll):(ue(document,"pointermove",this._handleFallbackAutoScroll),ue(document,"touchmove",this._handleFallbackAutoScroll),ue(document,"mousemove",this._handleFallbackAutoScroll)),By(),kc(),gA()},nulling:function(){Vc=em=nl=tm=ol=Kp=qp=null,pt.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,s){var n=this,o=(i.touches?i.touches[0]:i).clientX,r=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(o,r);if(Vc=i,s||this.options.forceAutoScrollFallback||hl||dn||rl){Qp(i,this.options,a,s);var l=Un(a,!0);tm&&(!ol||o!==Kp||r!==qp)&&(ol&&By(),ol=setInterval(function(){var d=Un(document.elementFromPoint(o,r),!0);d!==l&&(l=d,kc()),Qp(i,n.options,d,s)},10),Kp=o,qp=r)}else{if(!this.options.bubbleScroll||Un(a,!0)===As()){kc();return}Qp(i,this.options,Un(a,!1),!1)}}},ln(e,{pluginName:"scroll",initializeByDefault:!0})}function kc(){pt.forEach(function(e){clearInterval(e.pid)}),pt=[]}function By(){clearInterval(ol)}var Qp=Uy(function(e,t,i,s){if(t.scroll){var n=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,a=t.scrollSpeed,l=As(),d=!1,c;em!==i&&(em=i,kc(),nl=t.scroll,c=t.scrollFn,nl===!0&&(nl=Un(i,!0)));var h=0,u=nl;do{var p=u,m=mt(p),f=m.top,g=m.bottom,_=m.left,v=m.right,C=m.width,y=m.height,S=void 0,x=void 0,I=p.scrollWidth,w=p.scrollHeight,D=X(p),V=p.scrollLeft,F=p.scrollTop;p===l?(S=C<I&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),x=y<w&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(S=C<I&&(D.overflowX==="auto"||D.overflowX==="scroll"),x=y<w&&(D.overflowY==="auto"||D.overflowY==="scroll"));var W=S&&(Math.abs(v-n)<=r&&V+C<I)-(Math.abs(_-n)<=r&&!!V),ee=x&&(Math.abs(g-o)<=r&&F+y<w)-(Math.abs(f-o)<=r&&!!F);if(!pt[h])for(var xe=0;xe<=h;xe++)pt[xe]||(pt[xe]={});(pt[h].vx!=W||pt[h].vy!=ee||pt[h].el!==p)&&(pt[h].el=p,pt[h].vx=W,pt[h].vy=ee,clearInterval(pt[h].pid),(W!=0||ee!=0)&&(d=!0,pt[h].pid=setInterval((function(){s&&this.layer===0&&K.active._onTouchMove(Vc);var ie=pt[this.layer].vy?pt[this.layer].vy*a:0,Q=pt[this.layer].vx?pt[this.layer].vx*a:0;typeof c=="function"&&c.call(K.dragged.parentNode[Ri],Q,ie,e,Vc,pt[this.layer].el)!=="continue"||jy(pt[this.layer].el,Q,ie)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&u!==l&&(u=Un(u,!1)));tm=d}},30),eS=function(t){var i=t.originalEvent,s=t.putSortable,n=t.dragEl,o=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(i){var d=s||o;a();var c=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,h=document.elementFromPoint(c.clientX,c.clientY);l(),d&&!d.el.contains(h)&&(r("spill"),this.onSpill({dragEl:n,putSortable:s}))}};function nm(){}nm.prototype={startIndex:null,dragStart:function(t){var i=t.oldDraggableIndex;this.startIndex=i},onSpill:function(t){var i=t.dragEl,s=t.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var n=Xr(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(i,n):this.sortable.el.appendChild(i),this.sortable.animateAll(),s&&s.animateAll()},drop:eS};ln(nm,{pluginName:"revertOnSpill"});function om(){}om.prototype={onSpill:function(t){var i=t.dragEl,s=t.putSortable,n=s||this.sortable;n.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),n.animateAll()},drop:eS};ln(om,{pluginName:"removeOnSpill"});K.mount(new kA);K.mount(om,nm);var Wc=class{constructor(t,i,s){this.translaterService=t,this.collectionService=i,this.rxjs=s,this._clearFilterTriggered=!1,this._collectionObservers=[],this._shouldTriggerQuery=!0,this.searchTerms=[],this.isFilled=!1,this.isItemSelected=!1,this.valueName="label",this.enableTranslateLabel=!1,this.subscriptions=[],this._bindEventService=new He}get autocompleterOptions(){return this._autocompleterOptions||{}}get collection(){return this._collection}get columnFilter(){return this.columnDef?.filter||{}}get filterDomElement(){return this._filterElm}get filterOptions(){return N(N({},this.gridOptions.defaultFilterOptions?.autocompleter),this.columnFilter?.filterOptions)}get customStructure(){let t=this.columnFilter?.customStructure,i=this.columnFilter?.type??this.columnDef?.type;return!t&&i===T.object&&this.columnDef?.dataKey&&this.columnDef?.labelKey&&(t={label:this.columnDef.labelKey,value:this.columnDef.dataKey}),t}get defaultOperator(){return j.equal}get gridOptions(){return this.grid?.getOptions()??{}}get instance(){return this._instance}get operator(){return this.columnFilter?.operator??this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,!this.grid||!this.columnDef||!this.columnFilter||!this.columnFilter.collection&&!this.columnFilter.collectionAsync&&!this.columnFilter.filterOptions)throw new Error(`[Slickgrid-Universal] You need to pass a "collection" (or "collectionAsync") for the AutoComplete Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.autocompleter, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }`);this.enableTranslateLabel=this.columnFilter?.enableTranslateLabel??!1,this.labelName=this.customStructure?.label??"label",this.valueName=this.customStructure?.value??"value",this.labelPrefixName=this.customStructure?.labelPrefix??"labelPrefix",this.labelSuffixName=this.customStructure?.labelSuffix??"labelSuffix",this._locales=this.gridOptions?.locales??A.locales;let i=this.columnFilter.collection;return this._collection=i,this.renderDomElement(i),new Promise((s,n)=>ai(this,null,function*(){try{let o=this.columnFilter.collectionAsync,r;o&&!this.columnFilter.collection?(r=xc(o,this.columnDef,this.renderDomElement.bind(this),this.rxjs,this.subscriptions),s(r)):(r=i,s(i)),(o||this.columnFilter.enableCollectionWatch)&&(yield r??o,this.watchCollectionChanges())}catch(o){n(o)}}))}clear(t=!0){this._filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[],this._filterElm.value="",this._filterElm.dispatchEvent(new CustomEvent("input")),this.updateFilterStyle(!1))}destroy(){typeof this._instance?.destroy=="function"&&this._instance.destroy(),this._filterElm,this._filterElm?.remove?.(),this._collection=void 0,this._bindEventService.unbindAll(),this._collectionObservers.forEach(t=>t?.disconnect()),Nr(this.subscriptions)}getValues(){return this._filterElm?.value||""}setValues(t,i,s=!1){t&&this._filterElm&&(this._filterElm.value=t),this.updateFilterStyle(this.getValues()!==""),this.operator=i||this.defaultOperator,s&&this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:[this.getValues()],shouldTriggerQuery:!0})}filterCollection(t){let i=t;if(this.columnFilter&&this.columnFilter.collectionFilterBy){let s=this.columnFilter.collectionFilterBy,n=this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null;i=this.collectionService?.filterCollection(i,s,n)||[]}return i}sortCollection(t){let i=t;if(this.columnFilter&&this.columnFilter.collectionSortBy){let s=this.columnFilter.collectionSortBy;i=this.collectionService?.sortCollection(this.columnDef,i,s,this.enableTranslateLabel)||[]}return i}watchCollectionChanges(){this.columnFilter?.collection&&(this._collectionObservers.push(Oo(this.columnFilter.collection,t=>{this.renderDomElement(this.columnFilter.collection||t||[])})),Pr(this.columnFilter,"collection",t=>{this.renderDomElement(t||[]),this.columnFilter.collection&&this._collectionObservers.push(Oo(this.columnFilter.collection,i=>{this.renderDomElement(this.columnFilter.collection||i||[])}))}))}renderDomElement(t){t=on(t,this.columnFilter);let i=t;i&&(i=this.filterCollection(i),i=this.sortCollection(i));let s=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._collection=i,this._filterElm=this.createFilterElement(i,s),this._bindEventService.bind(this._filterElm,"input",this.handleOnInputChange.bind(this)),this._bindEventService.bind(this._filterElm,"blur",()=>{this.isItemSelected||this.clear()})}createFilterElement(t,i){this._collection=t;let s=this.columnDef?.id??"";Xe(this.filterContainerElm);let n=this.gridOptions?.defaultFilterPlaceholder??"";this.columnFilter?.placeholder&&(n=this.columnFilter.placeholder),this._filterElm=R("input",{type:"text",ariaLabel:this.columnFilter?.ariaLabel??`${Pi(s+"")} Search Filter`,autocomplete:"off",ariaAutoComplete:"none",placeholder:n,className:`form-control search-filter slick-filter filter-${s} slick-autocomplete-container`,value:i??"",dataset:{columnid:`${s}`}});let o=i;Array.isArray(t)&&(t.every(a=>Ao(a))?t=t.map(a=>({label:a,value:a})):t=t.map(a=>({label:a?.[this.labelName],value:a?.[this.valueName],labelPrefix:a?.[this.labelPrefixName]??"",labelSuffix:a?.[this.labelSuffixName]??""}))),this._autocompleterOptions=N({input:this._filterElm,debounceWaitMs:200,className:`slick-autocomplete ${this.filterOptions?.className??""}`.trim(),emptyMsg:this.gridOptions.enableTranslate&&this.translaterService?.translate?this.translaterService.translate("NO_ELEMENTS_FOUND"):this._locales?.TEXT_NO_ELEMENTS_FOUND??"No elements found",customize:(a,l,d)=>{d.style.width=""},onSelect:a=>{this.isItemSelected=!0,this.handleSelect(a)}},this.filterOptions),this.gridOptions?.darkMode&&(this._autocompleterOptions.className+=" slick-dark-mode"),this.autocompleterOptions.className=os(this.autocompleterOptions.className).join(" "),this._autocompleterOptions.renderItem?.layout?(this._autocompleterOptions.className+=` autocomplete-custom-${Vr(this._autocompleterOptions.renderItem.layout)}`,this._autocompleterOptions.render=this.renderCustomItem.bind(this)):Array.isArray(t)?this._autocompleterOptions.render=this._autocompleterOptions.render?.bind(this)??this.renderCollectionItem.bind(this):this._autocompleterOptions.render||(this._autocompleterOptions.render=this.renderRegularItem.bind(this)),this.filterOptions?.fetch?(Vp(this._filterElm,this._autocompleterOptions),this._instance=wc(this._autocompleterOptions)):this._instance=wc(me(N({},this._autocompleterOptions),{fetch:(a,l)=>{t&&l(t.filter(d=>((typeof d=="string"?d:d?.label)||"").toLowerCase().includes(a.toLowerCase())))}})),this._filterElm.value=o??"";let r=R("div",{className:"autocomplete-filter-container"});return r.appendChild(this._filterElm),r.appendChild(R("span")),i&&this._filterElm.classList.add("filled"),this.filterContainerElm.appendChild(r),this.filterContainerElm.appendChild(document.createElement("span")),this.columnFilter.onInstantiated?.(this._instance),this._filterElm}handleSelect(t){if(t!==void 0){let s=this.filterOptions?.renderItem??!1,n=typeof t=="string"?t:s?t[this.labelName]:t.label,o=typeof t=="string"?t:s?t[this.valueName]:t.value;o=this.trimWhitespaceWhenEnabled(o),this.updateFilterStyle(o!==""),this.setValues(n),this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:[o],shouldTriggerQuery:this._shouldTriggerQuery}),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return!1}handleOnInputChange(t){let i=t?.target?.value??"",s=this.filterOptions.triggerOnEveryKeyStroke??!1;if(i=this.trimWhitespaceWhenEnabled(i),this._clearFilterTriggered||i===""||s){let n={columnDef:this.columnDef,shouldTriggerQuery:this._shouldTriggerQuery};this._clearFilterTriggered?n.clearFilterTriggered=this._clearFilterTriggered:(n.operator=this.operator,n.searchTerms=[i]),this.updateFilterStyle(i!==""),this.callback(t,n)}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}renderRegularItem(t){let i=typeof t=="string"?t:t?.label??"";return R("div",{textContent:i||""})}renderCustomItem(t){let i=this._autocompleterOptions?.renderItem?.templateCallback(t)??"",s=document.createElement("div");return this.grid.applyHtmlCode(s,i),s}renderCollectionItem(t){let i=this.columnFilter?.enableRenderHtml??!1,s=t.labelPrefix||"",n=t.label||"",o=t.labelSuffix||"",r=s+n+o,a=this.grid.sanitizeHtmlString(r)||"",l=document.createElement("div");return l[i?"innerHTML":"textContent"]=a,l}trimWhitespaceWhenEnabled(t){let i=t,s=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;return typeof t=="string"&&s&&(i=t.trim()),i}updateFilterStyle(t){this.isItemSelected=t,t?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled")}};var FA=Object.defineProperty,tS=Object.getOwnPropertySymbols,NA=Object.prototype.hasOwnProperty,HA=Object.prototype.propertyIsEnumerable,rm=(e,t,i)=>t in e?FA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,fS=(e,t)=>{for(var i in t||(t={}))NA.call(t,i)&&rm(e,i,t[i]);if(tS)for(var i of tS(t))HA.call(t,i)&&rm(e,i,t[i]);return e},se=(e,t,i)=>(rm(e,typeof t!="symbol"?t+"":t,i),i),VA={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",calendarToInputTop:"vanilla-calendar_to-input_top",calendarToInputBottom:"vanilla-calendar_to-input_bottom",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",dayHoverFirst:"vanilla-calendar-day_hover-first",dayHoverLast:"vanilla-calendar-day_hover-last",dayHoverIntermediate:"vanilla-calendar-day_hover-intermediate",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};var BA=e=>`<div class="${e.controls}"><#ArrowPrev /><#ArrowNext /></div><div class="${e.grid}"><#Multiple><div class="${e.column}"><div class="${e.header}"><div class="${e.headerContent}"><#Month /><#Year /></div></div><div class="${e.wrapper}"><#WeekNumbers /><div class="${e.content}"><#Week /><#Days /></div></div></div><#/Multiple></div><#ControlTime />`,zA=e=>`<div class="${e.header}"><div class="${e.headerContent}"><#Month /><#Year /></div></div><div class="${e.wrapper}"><div class="${e.content}"><#Months /></div></div>`,WA=e=>`<div class="${e.header}"><#ArrowPrev /><div class="${e.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}"><div class="${e.content}"><#Years /></div></div>`,am=class{constructor(){var t;se(this,"isInit",!1),se(this,"isInputInit",!1),se(this,"input",!1),se(this,"type","default"),se(this,"months",2),se(this,"jumpMonths",1),se(this,"jumpToSelectedDate",!1),se(this,"toggleSelected",!0),se(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),se(this,"settings",{lang:"en",iso8601:!0,range:{min:void 0,max:void 0,disablePast:!1,disableGaps:!1,edgesOnly:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),se(this,"locale",{months:[],weekday:[]}),se(this,"sanitizer",i=>i),se(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,getMonths:null,getYears:null,initCalendar:null,updateCalendar:null,destroyCalendar:null,showCalendar:null,hideCalendar:null}),se(this,"popups",{}),se(this,"CSSClasses",fS({},VA)),se(this,"DOMTemplates",{default:(t=this.CSSClasses,`<div class="${t.header}"><#ArrowPrev /><div class="${t.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${t.wrapper}"><#WeekNumbers /><div class="${t.content}"><#Week /><#Days /></div></div><#ControlTime />`),multiple:BA(this.CSSClasses),month:zA(this.CSSClasses),year:WA(this.CSSClasses)}),se(this,"HTMLElement"),se(this,"HTMLOriginalElement"),se(this,"HTMLInputElement"),se(this,"rangeMin"),se(this,"rangeMax"),se(this,"rangeDisabled"),se(this,"rangeEnabled"),se(this,"selectedDates"),se(this,"selectedHolidays"),se(this,"selectedMonth"),se(this,"selectedYear"),se(this,"selectedHours"),se(this,"selectedMinutes"),se(this,"selectedKeeping"),se(this,"selectedTime"),se(this,"currentType"),se(this,"correctMonths"),se(this,"viewYear"),se(this,"dateMin"),se(this,"dateMax")}},ks=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,Ve=e=>new Date(`${e}T00:00:00`),Kr=e=>e.reduce((t,i)=>{if(i instanceof Date||typeof i=="number"){let s=i instanceof Date?i:new Date(i);t.push(s.toISOString().substring(0,10))}else i.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(i):i.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(s,n,o)=>{let r=Ve(n),a=Ve(o),l=new Date(r.getTime());for(;l<=a;l.setDate(l.getDate()+1))t.push(ks(l));return s});return t},[]),$c=()=>{let e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().substring(0,10)},ml=e=>e?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(e)]||String(e):"",qr={notFoundSelector:e=>`${e} is not found, check the first argument passed to new VanillaCalendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:'You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',incorrectTheme:'Incorrect name of theme in "settings.visibility.theme".',incorrectTime:"The value of the time property can be: false, true, 12 or 24."},$A=e=>{var t;if(e.jumpToSelectedDate&&((t=e.settings.selected.dates)!=null&&t.length)&&e.settings.selected.month===void 0&&e.settings.selected.year===void 0){let n=Ve(Kr(e.settings.selected.dates)[0]);e.settings.selected.month=n.getMonth(),e.settings.selected.year=n.getFullYear()}let i=e.settings.selected.month!==void 0&&Number(e.settings.selected.month)>=0&&Number(e.settings.selected.month)<12,s=e.settings.selected.year!==void 0&&Number(e.settings.selected.year)>=0&&Number(e.settings.selected.year)<=9999;e.selectedMonth=i?Number(e.settings.selected.month):e.date.today.getMonth(),e.selectedYear=s?Number(e.settings.selected.year):e.date.today.getFullYear(),e.viewYear=e.selectedYear},GA=e=>{var t,i,s;e.date.min==="today"&&(e.date.min=$c()),e.date.max==="today"&&(e.date.max=$c()),e.settings.range.min==="today"&&(e.settings.range.min=$c()),e.settings.range.max==="today"&&(e.settings.range.max=$c()),e.settings.range.min=e.settings.range.min?Ve(e.date.min)>=Ve(e.settings.range.min)?e.date.min:e.settings.range.min:e.date.min,e.settings.range.max=e.settings.range.max?Ve(e.date.max)<=Ve(e.settings.range.max)?e.date.max:e.settings.range.max:e.date.max;let n=e.settings.range.disablePast&&!e.settings.range.disableAllDays&&Ve(e.settings.range.min)<e.date.today;e.rangeMin=n||e.settings.range.disableAllDays?ks(e.date.today):e.settings.range.min,e.rangeMax=e.settings.range.disableAllDays?ks(e.date.today):e.settings.range.max,e.rangeDisabled=e.settings.range.disabled&&!e.settings.range.disableAllDays?Kr(e.settings.range.disabled):e.settings.range.disableAllDays?[e.rangeMin]:[],e.rangeDisabled.length>1&&e.rangeDisabled.sort((o,r)=>+new Date(o)-+new Date(r)),e.rangeEnabled=e.settings.range.enabled?Kr(e.settings.range.enabled):[],(t=e.rangeEnabled)!=null&&t[0]&&((i=e.rangeDisabled)!=null&&i[0])&&(e.rangeDisabled=e.rangeDisabled.filter(o=>!e.rangeEnabled.includes(o))),e.rangeEnabled.length>1&&e.rangeEnabled.sort((o,r)=>+new Date(o)-+new Date(r)),(s=e.rangeEnabled)!=null&&s[0]&&e.settings.range.disableAllDays&&(e.rangeMin=e.rangeEnabled[0],e.rangeMax=e.rangeEnabled[e.rangeEnabled.length-1])},UA=e=>{var t,i;e.selectedDates=(t=e.settings.selected.dates)!=null&&t[0]?Kr(e.settings.selected.dates):[],e.selectedHolidays=(i=e.settings.selected.holidays)!=null&&i[0]?Kr(e.settings.selected.holidays):[]},jA=e=>{e.dateMin=e.settings.visibility.disabled?Ve(e.date.min):Ve(e.rangeMin),e.dateMax=e.settings.visibility.disabled?Ve(e.date.max):Ve(e.rangeMax)},YA=e=>{let t=e.settings.selection.time===!0||e.settings.selection.time===12;if(t||e.settings.selection.time===24){let i=!1;if(typeof e.settings.selected.time=="string"){let s=t?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(s,(n,o,r,a)=>(o&&r&&(i=!0,e.selectedHours=o,e.selectedMinutes=r),a&&t?e.selectedKeeping=a:t&&(e.selectedKeeping="AM"),""))}!i&&t?(e.selectedHours=ml(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>=12?"PM":"AM"):i||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else if(e.settings.selection.time)throw new Error(qr.incorrectTime)},XA=e=>{e.correctMonths=e.type==="multiple"?e.months===1?2:e.months>12?12:e.months:1},gS=e=>{e.currentType=e.type,$A(e),GA(e),UA(e),jA(e),YA(e),XA(e)},iS=({arrowPrev:e,arrowNext:t,isPrevHidden:i,isNextHidden:s})=>{e.style.visibility=i?"hidden":"",t.style.visibility=s?"hidden":""},um=e=>{var t,i;if(e.currentType==="month")return;let s=(t=e.HTMLElement)==null?void 0:t.querySelector(`.${e.CSSClasses.arrowPrev}`),n=(i=e.HTMLElement)==null?void 0:i.querySelector(`.${e.CSSClasses.arrowNext}`);!s||!n||{default:()=>{let o=Ve(ks(new Date(e.selectedYear,e.selectedMonth,1))),r=new Date(o.getTime()),a=new Date(o.getTime());r.setMonth(r.getMonth()-e.jumpMonths),a.setMonth(a.getMonth()+e.jumpMonths),e.settings.selection.year||(e.dateMin.setFullYear(o.getFullYear()),e.dateMax.setFullYear(o.getFullYear()));let l=!e.settings.selection.month||r.getFullYear()<e.dateMin.getFullYear()||r.getFullYear()===e.dateMin.getFullYear()&&r.getMonth()<e.dateMin.getMonth(),d=!e.settings.selection.month||a.getFullYear()>e.dateMax.getFullYear()||a.getFullYear()===e.dateMax.getFullYear()&&a.getMonth()>e.dateMax.getMonth();iS({arrowPrev:s,arrowNext:n,isPrevHidden:l,isNextHidden:d})},year:()=>{iS({arrowPrev:s,arrowNext:n,isPrevHidden:e.dateMin.getFullYear()&&e.viewYear-7<=e.dateMin.getFullYear(),isNextHidden:e.dateMax.getFullYear()&&e.viewYear+7>=e.dateMax.getFullYear()})}}[e.currentType==="multiple"?"default":e.currentType]()},_S=(e,t)=>{if(!e)return null;let i=Ve(e),s=t?i.getDay()||7:i.getDay();i.setDate(i.getDate()+4-s);let n=new Date(i.getFullYear(),0,1),o=Math.ceil(((+i-+n)/864e5+1)/7);return{year:i.getFullYear(),week:o}};function pm(e){if(!e||!e.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};let t=e.getBoundingClientRect(),i=document.documentElement;return{bottom:t.bottom,right:t.right,top:t.top+window.scrollY-i.clientTop,left:t.left+window.scrollX-i.clientLeft}}function KA(){return{left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0}}function mm(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function qA(e){let{top:t,left:i}=KA(),{top:s,left:n}=pm(e),{vh:o,vw:r}=mm(),a=s-t,l=n-i;return{top:a,bottom:o-(a+e.clientHeight),left:l,right:r-(l+e.clientWidth)}}function bS(e,t,i=5){let s={top:!0,bottom:!0,left:!0,right:!0},n=[];if(!t||!e)return{canShow:s,parentPositions:n};let{bottom:o,top:r}=qA(e),{top:a,left:l}=pm(e),{height:d,width:c}=t.getBoundingClientRect(),{vh:h,vw:u}=mm(),p=u/2,m=h/2;return[{condition:a<m,position:"top"},{condition:a>m,position:"bottom"},{condition:l<p,position:"left"},{condition:l>p,position:"right"}].forEach(({condition:f,position:g})=>{f&&n.push(g)}),Object.assign(s,{top:d<=r-i,bottom:d<=o-i,left:c<=l,right:c<=u-l}),{canShow:s,parentPositions:n}}function QA(e,t){let i="left";if(!t||!e)return i;let{canShow:s,parentPositions:n}=bS(e,t),o=s.left&&s.right;return(o&&s.bottom?"center":o&&s.top?["top","center"]:Array.isArray(n)?[n[0]==="bottom"?"top":"bottom",...n.slice(1)]:n)||i}var lm=(e,t,i,s)=>{if(e){let n=i==="auto"?QA(e,t):i,o={top:-t.offsetHeight,bottom:e.offsetHeight,left:0,center:e.offsetWidth/2-t.offsetWidth/2,right:e.offsetWidth-t.offsetWidth},r=Array.isArray(n)?n[0]:"bottom",a=Array.isArray(n)?n[1]:n;r==="bottom"?(t.classList.remove(s.calendarToInputTop),t.classList.add(s.calendarToInputBottom)):(t.classList.remove(s.calendarToInputBottom),t.classList.add(s.calendarToInputTop));let{top:l,left:d}=pm(e),c=l+o[r],h=d+o[a],{vw:u}=mm();if(h+t.clientWidth>u){let p=window.innerWidth-document.body.clientWidth;h=u-t.clientWidth-p}else h<0&&(h=0);Object.assign(t.style,{left:`${h}px`,top:`${c}px`})}},ZA=(e,t,i,s)=>{let n=e.CSSClasses.dayPopup,o=s.querySelector(`[data-calendar-day="${t}"]`);if(o&&(i?.modifier&&o.classList.add(...i.modifier.trim().split(" ")),i?.html)){let r=o.parentElement,a=document.createElement("div");a.className=n,a.innerHTML=e.sanitizer(i.html),r.appendChild(a),setTimeout(()=>{if(a){let{canShow:l}=bS(r,a),d=5,c=r.offsetHeight,h=0;l.bottom||(c=-a.offsetHeight-d),l.left&&!l.right&&(h=r.offsetWidth-a.offsetWidth/2),!l.left&&l.right&&(h=a.offsetWidth/2),Object.assign(a.style,{left:`${h}px`,top:`${c}px`})}})}},JA=(e,t)=>{var i;e.popups&&((i=Object.entries(e.popups))==null||i.forEach(([s,n])=>ZA(e,s,n,t)))},eP=(e,t,i,s,n)=>{let o=t[i].querySelector(`.${e.CSSClasses.dayBtn}`),r=_S(o?.dataset.calendarDay,e.settings.iso8601);if(!r)return;let a=s.cloneNode(!0);a.innerText=String(r.week),a.dataset.calendarYearWeek=String(r.year),n.appendChild(a)},tP=(e,t,i,s,n)=>{if(!e.settings.visibility.weekNumbers)return;s.textContent="";let o=document.createElement("b");o.className=e.CSSClasses.weekNumbersTitle,o.innerText="#",s.appendChild(o);let r=document.createElement("div");r.className=e.CSSClasses.weekNumbersContent,s.appendChild(r);let a=document.createElement("button");a.type="button",a.className=e.CSSClasses.weekNumber;let l=n.querySelectorAll(`.${e.CSSClasses.day}`),d=Math.ceil((t+i)/7);for(let c=0;c<d;c++)eP(e,l,c===0?6:7*c,a,r)},iP=(e,t,i)=>{var s,n,o,r,a;let l=(s=e.settings.range.disableWeekday)==null?void 0:s.includes(i),d=e.settings.range.disableAllDays&&!!((n=e.rangeEnabled)!=null&&n[0]);!l&&!d||(o=e.rangeEnabled)!=null&&o.includes(t)||(r=e.rangeDisabled)!=null&&r.includes(t)||(e.rangeDisabled.push(t),(a=e.rangeDisabled)==null||a.sort((c,h)=>+new Date(c)-+new Date(h)))},sP=(e,t,i,s,n,o,r)=>{var a,l,d;if((Ve(e.rangeMin)>Ve(o)||Ve(e.rangeMax)<Ve(o)||(a=e.rangeDisabled)!=null&&a.includes(o)||!e.settings.selection.month&&r||!e.settings.selection.year&&Ve(o).getFullYear()!==t)&&(s.classList.add(e.CSSClasses.dayBtnDisabled),s.tabIndex=-1),e.settings.visibility.today&&ks(e.date.today)===o&&s.classList.add(e.CSSClasses.dayBtnToday),!e.settings.visibility.weekend||n!==0&&n!==6||s.classList.add(e.CSSClasses.dayBtnWeekend),(l=e.selectedHolidays)!=null&&l.includes(o)&&s.classList.add(e.CSSClasses.dayBtnHoliday),(d=e.selectedDates)!=null&&d.includes(o)&&(s.classList.add(e.CSSClasses.dayBtnSelected),e.selectedDates.length>1&&e.settings.selection.day==="multiple-ranged"&&(e.selectedDates[0]===o&&i.classList.add(e.CSSClasses.daySelectedFirst),e.selectedDates[e.selectedDates.length-1]===o&&i.classList.add(e.CSSClasses.daySelectedLast),e.selectedDates[0]!==o&&e.selectedDates[e.selectedDates.length-1]!==o&&i.classList.add(e.CSSClasses.daySelectedIntermediate))),e.settings.range.edgesOnly&&e.selectedDates.length>1&&e.settings.selection.day==="multiple-ranged"){let c=+new Date(e.selectedDates[0]),h=+new Date(e.selectedDates[e.selectedDates.length-1]),u=+new Date(o);u>c&&u<h&&(s.classList.add(e.CSSClasses.dayBtnSelected),i.classList.add(e.CSSClasses.daySelectedIntermediate))}},fm=(e,t,i,s,n,o,r,a)=>{let l=document.createElement("div");l.className=e.CSSClasses.day;let d=document.createElement("button");d.className=`${e.CSSClasses.dayBtn}${a?` ${a}`:""}`,d.type="button",d.innerText=String(s),d.dataset.calendarDay=o,e.settings.visibility.weekNumbers&&(()=>{let c=_S(o,e.settings.iso8601);c&&(d.dataset.calendarWeekNumber=String(c.week))})(),r?e.settings.visibility.daysOutside&&l.appendChild(d):l.appendChild(d),iP(e,o,n),sP(e,t,l,d,n,o,r),i.appendChild(l),e.actions.getDays&&e.actions.getDays(s,o,l,d,e)},nP=(e,t,i,s,n)=>{let o=new Date(i,s,0).getDate()-(n-1),r=s===0?i-1:i,a=s===0?12:s<10?`0${s}`:s;for(let l=n;l>0;l--,o++){let d=`${r}-${a}-${o}`,c=Ve(d).getDay();fm(e,i,t,o,c,d,!0,e.CSSClasses.dayBtnPrev)}},oP=(e,t,i,s,n)=>{for(let o=1;o<=i;o++){let r=new Date(s,n,o),a=ks(r),l=r.getDay();fm(e,s,t,o,l,a,!1,null)}},rP=(e,t,i,s,n,o)=>{let r=o+i,a=7*Math.ceil(r/7)-r,l=n+1===12?s+1:s,d=n+1===12?"01":n+2<10?`0${n+2}`:n+2;for(let c=1;c<=a;c++){let h=`${l}-${d}-${c<10?`0${c}`:String(c)}`,u=Ve(h).getDay();fm(e,s,t,c,u,h,!0,e.CSSClasses.dayBtnNext)}},Uc=e=>{let t=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.days}`),i=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.weekNumbers}`),s=new Date(e.selectedYear,e.selectedMonth,1);t.forEach((n,o)=>{let r=new Date(s);r.setMonth(r.getMonth()+o);let a=r.getMonth(),l=r.getFullYear(),d=new Date(l,a,1),c=new Date(l,a+1,0).getDate(),h=e.settings.iso8601?(d.getDay()!==0?d.getDay():7)-1:d.getDay();e.settings.selection.day&&n.classList.add(e.CSSClasses.daysSelecting),n.textContent="",nP(e,n,l,a,h),oP(e,n,c,l,a),rP(e,n,c,l,a,h),tP(e,h,c,i[o],n),JA(e,n)})},aP=(e,t,i,s)=>{let n=new Date(s.setMonth(e.selectedMonth+i)).getMonth(),o=e.settings.selection.month===!1||e.settings.selection.month==="only-arrows";t.tabIndex=o?-1:0,t.classList.toggle(e.CSSClasses.monthDisabled,o),t.setAttribute("data-calendar-selected-month",String(n)),t.innerText=e.locale.months[n]},lP=(e,t,i,s)=>{let n=new Date(s.setFullYear(e.selectedYear,e.selectedMonth+i)).getFullYear(),o=e.settings.selection.year===!1||e.settings.selection.year==="only-arrows";t.tabIndex=o?-1:0,t.classList.toggle(e.CSSClasses.yearDisabled,o),t.setAttribute("data-calendar-selected-year",String(n)),t.innerText=String(n)},Yc=e=>{var t,i;let s=(t=e.HTMLElement)==null?void 0:t.querySelectorAll("[data-calendar-selected-month]"),n=(i=e.HTMLElement)==null?void 0:i.querySelectorAll("[data-calendar-selected-year]");if(!s?.[0]&&n?.[0])return;let o=new Date(e.selectedYear,e.selectedMonth,1);s?.forEach((r,a)=>aP(e,r,a,o)),n?.forEach((r,a)=>lP(e,r,a,o))},dm=(e,t)=>{let i=Ve(ks(new Date(e.selectedYear,e.selectedMonth,1)));({prev:()=>i.setMonth(i.getMonth()-e.jumpMonths),next:()=>i.setMonth(i.getMonth()+e.jumpMonths)})[t](),[e.selectedMonth,e.selectedYear]=[i.getMonth(),i.getFullYear()],Yc(e),um(e),Uc(e)},dP=e=>`<button type="button"class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowPrev}"data-calendar-arrow="prev"></button>`,cP=e=>`<button type="button"class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowNext}"data-calendar-arrow="next"></button>`,hP=e=>`<button type="button"class="${e.CSSClasses.month}"data-calendar-selected-month></button>`,uP=e=>`<button type="button"class="${e.CSSClasses.year}"data-calendar-selected-year></button>`,pP=e=>`<div class="${e.CSSClasses.week}"></div>`,mP=e=>`<div class="${e.CSSClasses.days}"></div>`,fP=e=>`<div class="${e.CSSClasses.months}"></div>`,gP=e=>`<div class="${e.CSSClasses.years}"></div>`,_P=e=>e.settings.visibility.weekNumbers?`<div class="${e.CSSClasses.weekNumbers}"></div>`:"",bP=e=>e.settings.selection.time?`<div class="${e.CSSClasses.time}"></div>`:"",vP=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:cP,ArrowPrev:dP,ControlTime:bP,Days:mP,Month:hP,Months:fP,Week:pP,WeekNumbers:_P,Year:uP,Years:gP},Symbol.toStringTag,{value:"Module"}));var pl=(e,t)=>t.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(i,s)=>{let n=(o=s.replace(/[/\s\n\t]/g,""),vP[o]);var o;let r=n?n(e):"";return e.sanitizer(r)}).replace(/[\n\t]/g,""),CP=(e,t)=>t.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(i,s)=>{let n="";for(let o=0;o<e.correctMonths;o++)n+=s;return e.sanitizer(n)}).replace(/[\n\t]/g,""),gm=(e,t)=>{let{HTMLElement:i,CSSClasses:s,DOMTemplates:n,type:o,currentType:r,correctMonths:a}=e,l=(c,h)=>{if(!t)return;let u=i.querySelector(`.${s.controls}`);u&&i.removeChild(u),i.querySelector(`.${s.grid}`).classList.add(s.gridDisabled);let p=t.closest(`.${s.column}`);p.classList.add(c),p.innerHTML=pl(e,h)},d={default:()=>{i.classList.add(s.calendarDefault),i.classList.remove(s.calendarMonth,s.calendarYear),i.innerHTML=pl(e,n.default)},multiple:()=>{a&&(i.classList.add(s.calendarMultiple),i.classList.remove(s.calendarMonth,s.calendarYear),i.innerHTML=CP(e,pl(e,n.multiple)))},month:()=>{o!=="multiple"?(i.classList.add(s.calendarMonth),i.classList.remove(s.calendarDefault,s.calendarYear),i.innerHTML=pl(e,n.month)):l(s.columnMonth,n.month)},year:()=>{o!=="multiple"?(i.classList.add(s.calendarYear),i.classList.remove(s.calendarDefault,s.calendarMonth),i.innerHTML=pl(e,n.year)):l(s.columnYear,n.year)}};i.classList.add(s.calendar),d[r]()},yP=(e,t,i,s,n)=>{let o=t.cloneNode(!1);return o.className=`${e.CSSClasses.yearsYear}${i===n?` ${e.CSSClasses.yearsYearSelected}`:s?` ${e.CSSClasses.yearsYearDisabled}`:""}`,o.dataset.calendarYear=String(n),o.title=String(n),o.innerText=String(n),s&&(o.tabIndex=-1),o},_m=(e,t)=>{let i=t?.dataset.calendarSelectedYear?Number(t?.dataset.calendarSelectedYear):e.selectedYear;e.currentType="year",gm(e,t),Yc(e),um(e);let s=e.HTMLElement.querySelector(`.${e.CSSClasses.years}`);if(!e.settings.selection.year||!s)return;s.classList.add(e.CSSClasses.yearsSelecting);let n=e.type!=="multiple"||e.selectedYear===i?0:1,o=document.createElement("button");o.type="button";for(let r=e.viewYear-7;r<e.viewYear+8;r++){let a=r<e.dateMin.getFullYear()+n||r>e.dateMax.getFullYear(),l=yP(e,o,i,a,r);s.appendChild(l),e.actions.getYears&&e.actions.getYears(r,l,e)}},SP=(e,t)=>{let i=t.target.closest(`.${e.CSSClasses.arrow}`);i&&(["default","multiple"].includes(e.currentType)?dm(e,i.dataset.calendarArrow):e.currentType==="year"&&e.viewYear!==void 0&&(e.viewYear+={prev:-15,next:15}[i.dataset.calendarArrow],_m(e,t.target)),e.actions.clickArrow&&e.actions.clickArrow(t,e))},wP=(e,t)=>{var i;if(!e.settings.visibility.weekNumbers||!e.actions.clickWeekNumber)return;let s=t.target.closest(`.${e.CSSClasses.weekNumber}`),n=(i=e.HTMLElement)==null?void 0:i.querySelectorAll("[data-calendar-week-number]");if(!s||!n)return;let o=Number(s.innerText),r=Number(s.dataset.calendarYearWeek),a=Array.from(n).filter(l=>Number(l.dataset.calendarWeekNumber)===o);e.actions.clickWeekNumber(t,o,a,r,e)},vS=e=>`${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`.replace(/\./,""),EP=(e,t)=>{let i=new Date(`1978-01-0${t+1}T00:00:00.000Z`).toLocaleString(e.settings.lang,{weekday:"short",timeZone:"UTC"});e.locale.weekday.push(vS(i))},xP=(e,t)=>{let i=new Date(`1978-${t+1<=9?`0${t+1}`:t+1}-01T00:00:00.000Z`).toLocaleString(e.settings.lang,{month:"long",timeZone:"UTC"});e.locale.months.push(vS(i))},TP=e=>{if(e.settings.lang!=="define"||!e.locale.weekday[6]||!e.locale.months[11]){if(e.settings.lang==="define")throw new Error(qr.notLocale);e.locale.weekday=[],e.locale.months=[];for(let t=0;t<7;t++)EP(e,t);for(let t=0;t<12;t++)xP(e,t)}},sS=e=>{if(e.type!=="multiple")return 0;let t=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`),i=Array.from(t).findIndex(s=>s.classList.contains(`${e.CSSClasses.columnMonth}`));return i>0?i:0},OP=(e,t,i,s,n,o)=>{let r=t.cloneNode(!1);return r.className=`${e.CSSClasses.monthsMonth}${i===o?` ${e.CSSClasses.monthsMonthSelected}`:n?` ${e.CSSClasses.monthsMonthDisabled}`:""}`,r.title=s,r.innerText=`${e.settings.visibility.monthShort?s.substring(0,3):s}`,r.dataset.calendarMonth=String(o),n&&(r.tabIndex=-1),r},CS=(e,t)=>{var i,s;let n=t?.dataset.calendarSelectedMonth?Number(t.dataset.calendarSelectedMonth):e.selectedMonth,o=(i=t?.closest(`.${e.CSSClasses.column}`))==null?void 0:i.querySelector(`.${e.CSSClasses.year}`),r=o?Number(o.dataset.calendarSelectedYear):e.selectedYear;e.currentType="month",gm(e,t),Yc(e);let a=(s=e.HTMLElement)==null?void 0:s.querySelector(`.${e.CSSClasses.months}`);if(!e.settings.selection.month||!a)return;a.classList.add(e.CSSClasses.monthsSelecting);let l=e.jumpMonths>1?e.locale.months.map((c,h)=>n-e.jumpMonths*h).concat(e.locale.months.map((c,h)=>n+e.jumpMonths*h)).filter(c=>c>=0&&c<=12):Array.from(Array(12).keys()),d=document.createElement("button");d.type="button";for(let c=0;c<12;c++){let h=e.locale.months[c],u=c<e.dateMin.getMonth()+sS(e)&&r<=e.dateMin.getFullYear()||c>e.dateMax.getMonth()+sS(e)&&r>=e.dateMax.getFullYear()||c!==n&&!l.includes(c),p=OP(e,d,n,h,u,c);a.appendChild(p),e.actions.getMonths&&e.actions.getMonths(c,p,e)}},bm=(e,t)=>e&&t?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(e)][t]:"",Gc=(e,t,i)=>e.querySelector(`.${t}${i?` input[name="${i}"]`:""}`),nS=(e,t,i)=>{e.addEventListener("mouseover",()=>t.classList.add(i)),e.addEventListener("mouseout",()=>t.classList.remove(i))},zo=(e,t,i,s)=>{({hours:()=>{e.selectedHours=i},minutes:()=>{e.selectedMinutes=i}})[s](),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.actions.changeTime&&e.actions.changeTime(t,e),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e)},oS=(e,t,i,s,n,o)=>{t.addEventListener("input",r=>{let a=r.target,l=Number(a.value),d=l<10?`0${l}`:`${l}`;if(n!=="hours"||o!==12)return i.value=d,void zo(e,r,d,n);l<o&&l>0?(i.value=d,e.selectedKeeping="AM",s.innerText=e.selectedKeeping,zo(e,r,d,n)):(l===0?(e.selectedKeeping="AM",s.innerText="AM"):(e.selectedKeeping="PM",s.innerText="PM"),i.value=ml(a.value),zo(e,r,ml(a.value),n))})},rS=(e,t,i,s,n,o)=>{i.addEventListener("change",r=>{let a=r.target,l=Number(a.value),d=l<10?`0${l}`:`${l}`;n==="hours"&&o===12?a.value&&l<=o&&l>0?(a.value=d,t.value=bm(d,e.selectedKeeping),zo(e,r,d,n)):a.value&&l<24&&(l>o||l===0)?(l===0?(e.selectedKeeping="AM",s.innerText="AM"):(e.selectedKeeping="PM",s.innerText="PM"),a.value=ml(a.value),t.value=d,zo(e,r,ml(a.value),n)):a.value=e.selectedHours:a.value&&l<=o&&l>=0?(a.value=d,t.value=d,zo(e,r,d,n)):n==="hours"?a.value=e.selectedHours:n==="minutes"&&(a.value=e.selectedMinutes)})},MP=(e,t,i)=>{t.addEventListener("click",s=>{e.selectedKeeping=t.innerText.includes("AM")?"PM":"AM",t.innerText=e.selectedKeeping,i.value=bm(e.selectedHours,e.selectedKeeping),zo(e,s,e.selectedHours,"hours")})},IP=(e,t,i)=>{let s=i===24?23:i||12,n=Gc(t,e.CSSClasses.timeRange,"hours"),o=Gc(t,e.CSSClasses.timeRange,"minutes"),r=Gc(t,e.CSSClasses.timeHours,"hours"),a=Gc(t,e.CSSClasses.timeMinutes,"minutes"),l=t.querySelector(`.${e.CSSClasses.timeKeeping}`);nS(n,r,e.CSSClasses.isFocus),nS(o,a,e.CSSClasses.isFocus),oS(e,n,r,l,"hours",s),oS(e,o,a,l,"minutes",0),rS(e,n,r,l,"hours",s),rS(e,o,a,l,"minutes",59),l&&MP(e,l,n)},aS=(e,t,i,s)=>`<label class="${t}"><input type="text"name="${e}"maxlength="2"value="${i}"${s?"disabled":""}></label>`,lS=(e,t,i,s,n,o)=>`<label class="${t}"><input type="range"name="${e}"min="${i}"max="${s}"step="${n}"value="${o}"></label>`,RP=e=>{let t=e.HTMLElement.querySelector(`.${e.CSSClasses.time}`);if(!t)return;let i=e.settings.selection.time===!0?12:e.settings.selection.time,s=e.settings.selection.controlTime==="range",[n,o]=[0,23],[r,a]=[0,59];t.innerHTML=e.sanitizer(`<div class="${e.CSSClasses.timeContent}">${aS("hours",e.CSSClasses.timeHours,e.selectedHours,s)}${aS("minutes",e.CSSClasses.timeMinutes,e.selectedMinutes,s)}${i===12?`<button type="button" class="${e.CSSClasses.timeKeeping}"${s?"disabled":""}>${e.selectedKeeping}</button>`:""}</div><div class="${e.CSSClasses.timeRanges}">${lS("hours",e.CSSClasses.timeRange,n,o,e.settings.selection.stepHours,e.selectedKeeping?bm(e.selectedHours,e.selectedKeeping):e.selectedHours)}${lS("minutes",e.CSSClasses.timeRange,r,a,e.settings.selection.stepMinutes,e.selectedMinutes)}</div>`),IP(e,t,i)},DP=(e,t,i)=>{let s=document.createElement("b");t.textContent="";for(let n=0;n<i.length;n++){let o=i[n],r=s.cloneNode(!0);r.className=`${e.CSSClasses.weekDay}`,r.className=`${e.CSSClasses.weekDay}${e.settings.visibility.weekend&&e.settings.iso8601?n===5||n===6?` ${e.CSSClasses.weekDayWeekend}`:"":e.settings.visibility.weekend&&!e.settings.iso8601&&(n===0||n===6)?` ${e.CSSClasses.weekDayWeekend}`:""}`,r.innerText=`${o}`,t.appendChild(r)}},dS=e=>{let t=[...e.locale.weekday];t[0]&&(e.settings.iso8601&&t.push(t.shift()),e.HTMLElement.querySelectorAll(`.${e.CSSClasses.week}`).forEach(i=>DP(e,i,t)))},yS=["light","dark","system"],jc={value:!1,set:()=>{jc.value=!0},check:()=>jc.value},SS=(e,t)=>yS.find(i=>{var s;return i!=="system"&&((s=e.getAttribute(t))==null?void 0:s.includes(i))}),Wo=(e,t)=>{e.dataset.calendarTheme=t},cS=(e,t)=>{var i;if(i=t,Wo(e.HTMLElement,i.matches?"dark":"light"),e.settings.visibility.theme!=="system"||jc.check())return;let s=n=>{let o=document.querySelectorAll(`.${e.CSSClasses.calendar}`);o?.forEach(r=>Wo(r,n.matches?"dark":"light"))};t.addEventListener?t.addEventListener("change",s):t.addListener(s),jc.set()},AP=(e,t,i)=>{new MutationObserver(s=>{for(let n=0;n<s.length;n++)if(s[n].attributeName===i){let o=SS(t,i);o&&Wo(e.HTMLElement,o);break}}).observe(t,{attributes:!0})},PP=(e,t)=>{let i=e.settings.visibility.themeDetect?document.querySelector(e.settings.visibility.themeDetect):null;if(!i)return void cS(e,t);let s=e.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(o,r)=>r),n=SS(i,s);n?(Wo(e.HTMLElement,n),AP(e,i,s)):cS(e,t)},kP=e=>{if(!yS.includes(e.settings.visibility.theme))throw new Error(qr.incorrectTheme);if(window.matchMedia("(prefers-color-scheme)").media==="not all")return void Wo(e.HTMLElement,"light");({light:()=>Wo(e.HTMLElement,"light"),dark:()=>Wo(e.HTMLElement,"dark"),system:()=>PP(e,window.matchMedia("(prefers-color-scheme: dark)"))})[e.settings.visibility.theme]()},gl=e=>{let t={default:()=>{dS(e),Uc(e)},multiple:()=>{dS(e),Uc(e)},month:()=>CS(e),year:()=>_m(e)};kP(e),TP(e),gm(e),Yc(e),um(e),RP(e),t[e.currentType]()},ce={self:null,rangeMin:void 0,rangeMax:void 0},hS=()=>{var e;if(!((e=ce.self)!=null&&e.HTMLElement))return;let{CSSClasses:t}=ce.self;ce.self.HTMLElement.querySelectorAll(`.${ce.self.CSSClasses.dayBtnHover}`).forEach(i=>{var s;i.classList.remove(ce.self.CSSClasses.dayBtnHover),(s=i.parentElement)==null||s.classList.remove(t.dayHoverIntermediate,t.dayHoverFirst,t.dayHoverLast)})},LP=(e,t,i)=>{var s,n,o;if(!((s=ce.self)!=null&&s.selectedDates))return;let r=ks(e),{CSSClasses:a}=ce.self;if((n=ce.self.rangeDisabled)!=null&&n.includes(r))return;let l=(o=ce.self.HTMLElement)==null?void 0:o.querySelectorAll(`[data-calendar-day="${r}"]`);l?.forEach(d=>{var c;d.classList.add(a.dayBtnHover),(c=d.parentElement)==null||c.classList.add(a.dayHoverIntermediate)}),t?.forEach(d=>{var c;return(c=d.parentElement)==null?void 0:c.classList.add(a.dayHoverFirst)}),i?.forEach(d=>{var c;return(c=d.parentElement)==null?void 0:c.classList.add(a.dayHoverLast)})},cm=e=>{var t;if(!e.target||!((t=ce.self)!=null&&t.selectedDates))return;if(!e.target.closest(`.${ce.self.CSSClasses.days}`))return void hS();let i=e.target.closest("[data-calendar-day]");if(!i)return;let s=i.dataset.calendarDay,n=Ve(ce.self.selectedDates[0]),o=Ve(s),r=ce.self.HTMLElement.querySelectorAll(`[data-calendar-day="${ce.self.selectedDates[0]}"]`),a=ce.self.HTMLElement.querySelectorAll(`[data-calendar-day="${s}"]`),[l,d]=n<o?[r,a]:[a,r],[c,h]=n<o?[n,o]:[o,n];hS();for(let u=new Date(c);u<=h;u.setDate(u.getDate()+1))LP(u,l,d)},hm=e=>{ce.self&&e.key==="Escape"&&(ce.self.selectedDates=[],ce.self.HTMLElement.removeEventListener("mousemove",cm),document.removeEventListener("keydown",hm),gl(ce.self))},FP=()=>{var e,t,i;if(!((t=(e=ce.self)==null?void 0:e.selectedDates)!=null&&t[0])||!((i=ce.self.rangeDisabled)!=null&&i[0]))return;let s=Ve(ce.self.selectedDates[0]),[n,o]=ce.self.rangeDisabled.map(r=>Ve(r)).reduce(([r,a],l)=>[s>=l?l:r,s<l&&a===null?l:a],[null,null]);n&&(ce.self.rangeMin=ks(new Date(n.setDate(n.getDate()+1)))),o&&(ce.self.rangeMax=ks(new Date(o.setDate(o.getDate()-1))))};var wS=(e,t)=>{var i;if(t){let s=e.selectedDates.length===1&&e.selectedDates[0].includes(t);e.selectedDates=s&&!e.settings.selection.cancelableDay?[t,t]:s&&e.settings.selection.cancelableDay?[]:e.selectedDates.length>1?[t]:[...e.selectedDates,t],(i=e.selectedDates)==null||i.sort((n,o)=>+new Date(n)-+new Date(o))}e.settings.range.disableGaps&&(ce.rangeMin=ce.rangeMin?ce.rangeMin:e.rangeMin,ce.rangeMax=ce.rangeMax?ce.rangeMax:e.rangeMax),ce.self=e,{set:()=>{e.HTMLElement.addEventListener("mousemove",cm),document.addEventListener("keydown",hm),e.settings.range.disableGaps&&FP()},reset:()=>{let[s,n]=[e.selectedDates[0],e.selectedDates[e.selectedDates.length-1]];e.selectedDates=e.selectedDates[0]!==e.selectedDates[e.selectedDates.length-1]?e.settings.range.edgesOnly?[s,n]:Kr([`${s}:${n}`]):[e.selectedDates[0],e.selectedDates[0]],e.HTMLElement.removeEventListener("mousemove",cm),document.removeEventListener("keydown",hm),e.settings.range.disableGaps&&ce.self&&(ce.self.rangeMin=ce.rangeMin,ce.self.rangeMax=ce.rangeMax)}}[e.selectedDates.length===1?"set":"reset"]()},uS=(e,t,i)=>{if(!t.dataset.calendarDay)return;let s=t.dataset.calendarDay,n=t.classList.contains(e.CSSClasses.dayBtnSelected);if(n&&!e.settings.selection.cancelableDay)return;let o=!0;e.toggleSelected!==void 0&&(o=typeof e.toggleSelected=="function"?e.toggleSelected(e):e.toggleSelected),n&&!o||(e.selectedDates=n?e.selectedDates.filter(r=>r!==s):i?[...e.selectedDates,s]:[s])},NP=(e,t)=>{var i;let s=t.target,n=l=>s.closest(`.${l}`),o=n(e.CSSClasses.dayBtn);if(!e.settings.selection.day||!["single","multiple","multiple-ranged"].includes(e.settings.selection.day)||!o)return;({single:()=>uS(e,o,!1),multiple:()=>uS(e,o,!0),"multiple-ranged":()=>wS(e,o.dataset.calendarDay)})[e.settings.selection.day](),(i=e.selectedDates)==null||i.sort((l,d)=>+new Date(l)-+new Date(d)),e.actions.clickDay&&e.actions.clickDay(t,e),e.input&&e.HTMLInputElement&&e.HTMLElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e);let r=n(e.CSSClasses.dayBtnPrev),a=n(e.CSSClasses.dayBtnNext);({prev:()=>dm(e,"prev"),next:()=>dm(e,"next"),default:()=>Uc(e)})[r?"prev":a?"next":"default"]()},pS=(e,t,i,s,n)=>{let o=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`),r=Array.from(o).findIndex(l=>l.classList.contains(t)),a=Number(o[r].querySelector(`.${i}`).getAttribute(n));return e.currentType==="month"&&r>=0?s-r:e.currentType==="year"&&e.selectedYear!==a?s-1:s},HP=(e,t,i,s,n)=>{let o={year:()=>{var r,a;return(a=(r=e.actions).clickYear)==null?void 0:a.call(r,t,e)},month:()=>{var r,a;return(a=(r=e.actions).clickMonth)==null?void 0:a.call(r,t,e)}};({year:()=>{if(e.type==="multiple"){let r=pS(e,e.CSSClasses.columnYear,e.CSSClasses.year,Number(n.dataset.calendarYear),"data-calendar-selected-year"),a=e.selectedMonth<e.dateMin.getMonth()&&r<=e.dateMin.getFullYear(),l=e.selectedMonth>e.dateMax.getMonth()&&r>=e.dateMax.getFullYear(),d=r<e.dateMin.getFullYear(),c=r>e.dateMax.getFullYear();a||d?(e.selectedYear=e.dateMin.getFullYear(),e.selectedMonth=e.dateMin.getMonth()):l||c?(e.selectedYear=e.dateMax.getFullYear(),e.selectedMonth=e.dateMax.getMonth()):e.selectedYear=r}else e.selectedYear=Number(n.dataset.calendarYear)},month:()=>{if(e.type==="multiple"){let r=pS(e,e.CSSClasses.columnMonth,e.CSSClasses.month,Number(n.dataset.calendarMonth),"data-calendar-selected-month"),a=n.closest(`.${s.column}`).querySelector(`.${e.CSSClasses.year}`);e.selectedYear=Number(a.dataset.calendarSelectedYear);let l=r<e.dateMin.getMonth()&&e.selectedYear<=e.dateMin.getFullYear(),d=r>e.dateMax.getMonth()&&e.selectedYear>=e.dateMax.getFullYear();e.selectedMonth=l?e.dateMin.getMonth():d?e.dateMax.getMonth():r}else e.selectedMonth=Number(n.dataset.calendarMonth)}})[i](),o[i](),e.currentType=e.type,gl(e)},mS=(e,t,i,s)=>{if(!e.settings.selection[i])return;let n=t.target,o=c=>n.closest(`.${c}`),r=o(s.header),a=o(s.item),l=o(e.CSSClasses.grid),d=o(e.CSSClasses.column);e.currentType!==i&&r?{year:()=>_m(e,n),month:()=>CS(e,n)}[i]():a?HP(e,t,i,s,a):(e.currentType===i&&r||e.type==="multiple"&&e.currentType===i&&l&&!d)&&(e.currentType=e.type,gl(e))},ES=e=>{let t=i=>{SP(e,i),wP(e,i),NP(e,i),mS(e,i,"month",{header:e.CSSClasses.month,item:e.CSSClasses.monthsMonth,column:e.CSSClasses.columnMonth}),mS(e,i,"year",{header:e.CSSClasses.year,item:e.CSSClasses.yearsYear,column:e.CSSClasses.columnYear})};return e.HTMLElement.addEventListener("click",t),()=>e.HTMLElement.removeEventListener("click",t)},xS=(e,{year:t,month:i,dates:s,holidays:n,time:o}={})=>{var r;let a=fS({},e.settings.selected);e.settings.selected.year=t?a.year:e.selectedYear,e.settings.selected.month=i?a.month:e.selectedMonth,e.settings.selected.holidays=n?a.holidays:e.selectedHolidays,e.settings.selected.time=o?a.time:e.selectedTime,e.settings.selected.dates=s==="only-first"&&((r=e.selectedDates)!=null&&r[0])?[e.selectedDates[0]]:s===!0?a.dates:e.selectedDates,gS(e),gl(e),e.settings.selected=a,e.settings.selection.day==="multiple-ranged"&&s&&wS(e)},TS=(e,t=!0)=>{e.isInputInit=!0;let i=document.createElement("div");return i.className=`${e.CSSClasses.calendar} ${e.CSSClasses.calendarToInput} ${e.CSSClasses.calendarHidden}`,e.HTMLElement=i,document.body.appendChild(e.HTMLElement),e.HTMLElement.style.visibility="hidden",t&&queueMicrotask(()=>{lm(e.HTMLInputElement,i,e.settings.visibility.positionToInput,e.CSSClasses),e.HTMLElement.style.visibility="visible",e.show()}),xS(e,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),e.actions.initCalendar&&e.actions.initCalendar(e),ES(e)},VP=e=>{let t=[];e.HTMLInputElement=e.HTMLElement;let i=()=>lm(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput,e.CSSClasses),s=r=>{r.key==="Escape"&&(e?.HTMLInputElement&&e?.HTMLElement&&e.hide(),document.removeEventListener("keydown",s))},n=r=>{var a;e&&r.target!==e.HTMLInputElement&&!((a=e.HTMLElement)!=null&&a.contains(r.target))&&(e.HTMLInputElement&&e.HTMLElement&&e.hide(),window.removeEventListener("resize",i),document.removeEventListener("click",n,{capture:!0}))},o=()=>{e.isInputInit?(lm(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput,e.CSSClasses),e.HTMLElement.style.visibility="visible",e.show()):t.push(TS(e)),window.addEventListener("resize",i),document.addEventListener("click",n,{capture:!0}),document.addEventListener("keydown",s)};return e.HTMLInputElement.addEventListener("click",o),e.HTMLInputElement.addEventListener("focus",o),()=>{t.forEach(r=>r())}};var BP=(e,{year:t,month:i,dates:s,holidays:n,time:o}={})=>{if(!e.isInit)throw new Error(qr.notInit);e.input&&!e.isInputInit&&TS(e,!1),xS(e,{year:t,month:i,dates:s,holidays:n,time:o}),e.actions.updateCalendar&&e.actions.updateCalendar(e)},zP=e=>{var t,i,s,n,o,r;if(!e.isInit)throw new Error(qr.notInit);e.input?((i=(t=e.HTMLElement)==null?void 0:t.parentElement)==null||i.removeChild(e.HTMLElement),(n=(s=e.HTMLInputElement)==null?void 0:s.replaceWith)==null||n.call(s,e.HTMLOriginalElement),e.HTMLInputElement=void 0):(r=(o=e.HTMLElement)==null?void 0:o.replaceWith)==null||r.call(o,e.HTMLOriginalElement),e.HTMLElement=e.HTMLOriginalElement,e.actions.destroyCalendar&&e.actions.destroyCalendar(e)};var fl=class extends am{constructor(t,i){if(super(),se(this,"init",()=>{return(n=this).HTMLOriginalElement=n.HTMLElement.cloneNode(!0),n.isInit=!0,n.input?VP(n):(gS(n),gl(n),n.actions.initCalendar&&n.actions.initCalendar(n),ES(n));var n}),se(this,"update",n=>BP(this,n)),se(this,"destroy",()=>zP(this)),se(this,"show",()=>{var n;(n=this).currentType?(n.HTMLElement.classList.remove(n.CSSClasses.calendarHidden),n.actions.showCalendar&&n.actions.showCalendar(n)):n.HTMLElement.click()}),se(this,"hide",()=>{var n;(n=this).currentType&&(n.HTMLElement.classList.add(n.CSSClasses.calendarHidden),n.actions.hideCalendar&&n.actions.hideCalendar(n))}),this.HTMLElement=typeof t=="string"?document.querySelector(t):t,!this.HTMLElement)throw new Error(qr.notFoundSelector(t));if(!i)return;let s=(n,o)=>{Object.keys(o).forEach(r=>{typeof n[r]!="object"||typeof o[r]!="object"||o[r]instanceof Date?n[r]=o[r]:s(n[r],o[r])})};s(this,i)}};var Qr=class{constructor(t){this.translaterService=t,this._clearFilterTriggered=!1,this._lastClickIsDate=!1,this._shouldTriggerQuery=!0,this.hasTimePicker=!1,this.inputFilterType="range",this.searchTerms=[],this._bindEventService=new He}get gridOptions(){return this.grid?.getOptions()??{}}get columnFilter(){return this.columnDef?.filter||{}}get currentDateOrDates(){return this._currentDateOrDates}get defaultOperator(){return this.inputFilterType==="compound"?j.empty:this.gridOptions.defaultFilterRangeOperator||j.rangeInclusive}get pickerOptions(){return this._pickerOptions||{}}get filterOptions(){return N(N({},this.gridOptions.defaultFilterOptions?.date),this.columnFilter?.filterOptions)}get operator(){return this.inputFilterType==="compound"?this._operator||this.columnFilter.operator||this.defaultOperator:this.columnFilter?.operator??this.defaultOperator}set operator(t){this.inputFilterType==="compound"?this._operator=t:this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.inputFilterType==="compound"&&(this.operator=t.operator||""),this.searchTerms=t?.searchTerms??[],this.filterContainerElm=t.filterContainerElm;let i=this.inputFilterType==="compound"?Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"":this.searchTerms;this._filterElm=this.createDomFilterElement(i),this.updateFilterStyle(this.searchTerms.length>0),this._selectOperatorElm&&this._bindEventService.bind(this._selectOperatorElm,"change",this.onTriggerEvent.bind(this)),this._bindEventService.bind(document.body,"keydown",s=>{(s.key==="Escape"||s.key==="Tab")&&this.hide()}),this._bindEventService.bind(this._dateInputElm,"keydown",s=>{s.key==="Backspace"&&this.clear(!0,!1)})}clear(t=!0,i=!0){this.calendarInstance&&(this._clearFilterTriggered=i,this._shouldTriggerQuery=t,this._currentValue="",this.searchTerms=[],this._currentDateStrings=[],this._selectOperatorElm&&(this._selectOperatorElm.selectedIndex=0),this.calendarInstance&&Bp(this.calendarInstance)),this.onTriggerEvent(new Event("keyup")),this.updateFilterStyle(!1)}destroy(){this._bindEventService.unbindAll(),this.calendarInstance?.destroy(),Xe(this.filterContainerElm),this.filterContainerElm?.remove(),this._selectOperatorElm?.remove(),this._filterElm?.remove()}hide(){typeof this.calendarInstance?.hide=="function"&&this.calendarInstance.hide()}show(){typeof this.calendarInstance?.show=="function"&&this.calendarInstance.show()}getValues(){return this._currentDateOrDates}setValues(t,i,s=!1){let n;this.inputFilterType==="compound"?n=Array.isArray(t)?t[0]:t:typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"&&t[0].indexOf("..")>0?n=typeof t=="string"?[t]:t[0].split(".."):Array.isArray(t)&&(n=t),this.calendarInstance&&n!==void 0&&(Ec(this.columnFilter,this._dateInputElm,this.calendarInstance,{columnDef:this.columnDef,newVal:n,updatePickerUI:!0}),this._currentDateOrDates=t&&n?n:void 0);let o=this.getValues()||[],r=Array.isArray(o)?o:[o];if(this.updateFilterStyle(r.length>0),this.operator=i||this.defaultOperator,i&&this._selectOperatorElm){let a=Js(this.operator);this._selectOperatorElm.value=a}s&&this.callback(void 0,{columnDef:this.columnDef,searchTerms:r,operator:this.operator,shouldTriggerQuery:!0})}buildDatePickerInput(t){let i=this.columnDef?.id??"",s=this.columnFilter.type||this.columnDef.type||T.dateIso,n=this.columnDef.outputType||this.columnFilter.type||this.columnDef.type||T.dateUtc,o=Wt(n),r=this.columnFilter.type||this.columnDef.type||T.dateIso;o&&this.inputFilterType!=="range"&&(o==="ISO8601"||o.toLowerCase().includes("h"))&&(this.hasTimePicker=!0);let a=Wt(this.hasTimePicker?T.dateTimeIsoAM_PM:T.dateIso),l=(this.filterOptions?.locale??this.translaterService?.getCurrentLanguage?.())||this.gridOptions.locale||"en",d;this.inputFilterType==="compound"?t&&(d=t,this._currentDateOrDates=t):(typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"&&t[0].indexOf("..")>0?d=typeof t=="string"?[t]:t[0].split(".."):Array.isArray(t)&&(d=t),Array.isArray(d)&&(this._currentDateOrDates=d,this._currentDateStrings=d.map(u=>sn(u,void 0,r))));let c={input:!0,jumpToSelectedDate:!0,type:this.inputFilterType==="range"?"multiple":"default",sanitizer:u=>this.grid.sanitizeHtmlString(u),toggleSelected:!1,actions:{clickDay:u=>{this._lastClickIsDate=!0},changeToInput:(u,p)=>{if(p.HTMLInputElement){let m=[],f="",g="";if(p.selectedDates[1]){p.selectedDates.sort((C,y)=>+new Date(C)-+new Date(y)),f=p.selectedDates[0],g=p.selectedDates[p.selectedDates.length-1];let _=kt(p.selectedDates[0],o,"en-US"),v=kt(g,o,"en-US");p.HTMLInputElement.value=`${_} \u2014 ${v}`,m=[f,g]}else p.selectedDates[0]?(f=p.selectedDates[0],p.HTMLInputElement.value=sn(f,T.dateIso,n),m=p.selectedDates):p.HTMLInputElement.value="";if(this.hasTimePicker&&f){let _=Fo(f,a);_.setHours(+(p.selectedHours||0)),_.setMinutes(+(p.selectedMinutes||0)),p.HTMLInputElement.value=sn(_,void 0,n),m=[_]}if(this.inputFilterType==="compound"?this._currentValue=sn(m[0],void 0,s):Array.isArray(m)&&(this._currentDateStrings=m.map(_=>sn(_,void 0,s)),this._currentValue=this._currentDateStrings.join("..")),this._currentDateOrDates=m.map(_=>_ instanceof Date?_:Fo(_,a)),this._currentValue){let _=this.hasTimePicker?new Event("keyup"):void 0;this.onTriggerEvent(_)}this.inputFilterType==="range"&&p.selectedDates.length<2&&(this._lastClickIsDate=!1),this._lastClickIsDate&&(p.hide(),this._lastClickIsDate=!1)}}},settings:{lang:l,iso8601:!1,visibility:{theme:this.gridOptions?.darkMode?"dark":"light",positionToInput:"auto",weekend:!1}}};this.inputFilterType==="range"&&(c.type="multiple",c.months=2,c.jumpMonths=2,c.settings=me(N({},c.settings),{range:{edgesOnly:!0},selection:{day:"multiple-ranged"},visibility:me(N({},c.settings?.visibility),{daysOutside:!1})})),this.hasTimePicker&&(c.settings.selection??={},c.settings.selection.time=24),this._pickerOptions=Ai(!0,{},c,{settings:this.filterOptions});let h=this.gridOptions?.defaultFilterPlaceholder??"";this.columnFilter?.placeholder&&(h=this.columnFilter.placeholder),this._dateInputElm=R("input",{type:"text",className:"form-control date-picker",placeholder:h,readOnly:!0,dataset:{input:"",columnid:`${i}`}}),this.calendarInstance=new fl(this._dateInputElm,this._pickerOptions),this.calendarInstance.init(),this._pickerOptions.settings?.selected?.dates&&(d=this._pickerOptions.settings.selected.dates),d&&Ec(this.columnFilter,this._dateInputElm,this.calendarInstance,{columnDef:this.columnDef,oldVal:void 0,newVal:d,updatePickerUI:!1}),this.columnFilter.onInstantiated?.(this.calendarInstance)}getOperatorOptionValues(){let t;return this.columnFilter?.compoundOperatorList?t=this.columnFilter.compoundOperatorList:t=zr(this.gridOptions,this.translaterService),Wr(this.gridOptions,t,"numeric"),t}createDomFilterElement(t){let i=this.columnDef?.id??"";if(Xe(this.filterContainerElm),this.buildDatePickerInput(t),this.inputFilterType==="range"){let s=R("div",{className:`date-picker form-group search-filter slick-filter filter-${i}`});return Array.isArray(t)&&t.length>0&&t[0]!==""&&(this._currentDateOrDates=t,this._currentValue=t[0]),s.appendChild(this._dateInputElm),s&&this.filterContainerElm.appendChild(s),s}else{this._selectOperatorElm=Br(this.getOperatorOptionValues(),this.grid);let s=R("div",{className:`date-picker form-group search-filter slick-filter filter-${i}`}),n=R("div",{className:"input-group date-picker"},s);if(R("div",{className:"input-group-addon input-group-prepend operator"},n).appendChild(this._selectOperatorElm),n.appendChild(this._dateInputElm),this.operator){let r=Js(this.operator);this._selectOperatorElm.value=r}return this._currentDateOrDates=t,this._currentValue=t,s&&this.filterContainerElm.appendChild(s),s}}onTriggerEvent(t){if(this._clearFilterTriggered)this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.updateFilterStyle(!1);else if(this.inputFilterType==="range"){let i=this._currentDateStrings?this._currentDateStrings:[this._currentValue];this.updateFilterStyle(i.length>0),this.callback(t,{columnDef:this.columnDef,searchTerms:i,operator:this.operator||"",shouldTriggerQuery:this._shouldTriggerQuery})}else if(this.inputFilterType==="compound"&&this._selectOperatorElm){let i=this._selectOperatorElm.value;this.updateFilterStyle(!!this._currentValue);let s=this.columnFilter.skipCompoundOperatorFilterWithNullInput??this.gridOptions.skipCompoundOperatorFilterWithNullInput??this.gridOptions.skipCompoundOperatorFilterWithNullInput===void 0,n=s&&zt(this._currentDateOrDates)||this._currentDateOrDates===""&&zt(this._lastSearchValue);(!s||!s||n)&&this.callback(t,{columnDef:this.columnDef,searchTerms:this._currentValue?[this._currentValue]:null,operator:i||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._lastSearchValue=this._currentValue}updateFilterStyle(t){t?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled")}};var Xc=class extends Qr{constructor(t){super(t),this.translaterService=t,this.inputFilterType="compound"}};function vm(e,t,i,s,n=!1,o,r){let a=i?.id??"",l=s.getOptions(),d=(e==="editor"?i?.editor:i?.filter)??{},h=(d?.collectionOptions??{})?.separatorBetweenTextLabels??"",u=d?.enableTranslateLabel??!1,p=l?.enableTranslate??!1,m=d?.enableRenderHtml??!1,f=d?.customStructure?.label??"label",g=d?.customStructure?.labelPrefix??"labelPrefix",_=d?.customStructure?.labelSuffix??"labelSuffix",v=d?.customStructure?.optionLabel??"value",C=d?.customStructure?.value??"value",y=R("select",{className:"ms-filter search-filter"}),S=e==="filter"?["search-filter",`filter-${a}`]:["select-editor",`editor-${a}`];y.classList.add(...S),y.multiple=n;let x=[],I=!1;return Array.isArray(t)&&(t.every(w=>typeof w=="number"||typeof w=="string")?t.forEach(w=>{let D={text:String(w),value:w};e==="filter"&&Array.isArray(r)&&(D.selected=r.findIndex(V=>V===w)>=0),x.push(D),(D.selected&&n||D.selected&&!n&&w!=="")&&(I=!0)}):t.forEach(w=>{if(w===void 0||typeof w=="object"&&w[f]===void 0&&w.labelKey===void 0)throw new Error("[Slickgrid-Universal] Select Filter/Editor collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.multipleSelect, collection: [ { value: '1', label: 'One' } ]')");let D=w.labelKey||w[f],V=(w.labelKey||u&&o)&&D&&p?o?.translate(D||" "):D,F=w[g]||"",W=w[_]||"",ee=w.hasOwnProperty(v)?w[v]:"";ee?.toString&&(ee=ee.toString().replace(/"/g,"'")),F=u&&o&&F&&typeof F=="string"?o.translate(F||" "):F,W=u&&o&&W&&typeof W=="string"?o.translate(W||" "):W,ee=u&&o&&ee&&typeof ee=="string"?o.translate(ee||" "):ee;let ie=[F,typeof V=="string"||typeof V=="number"?V.toString():V,W].filter(Ae=>Ae).join(h),Q={text:"",value:""};m&&(ie=s.sanitizeHtmlString(ie)),Q.text=ie;let he=w[C];he==null&&(he=""),e==="filter"&&Array.isArray(r)&&(Q.selected=r.findIndex(Ae=>`${Ae}`==`${w[C]}`)>=0),Q.value=`${he??""}`,x.push(Q),(Q.selected&&n||Q.selected&&!n&&w[C]!=="")&&(I=!0)})),{selectElement:y,dataCollection:x,hasFoundSearchTerm:I}}var Sm=(e,t,i,s,n,o)=>{let r=s.params||{};if(!r.formatters||!Array.isArray(r.formatters))throw new Error(`[Slickgrid-Universal] The multiple formatter requires the "formatters" to be provided as a column params.
    For example: this.columnDefinitions = [{ id: title, field: title, formatter: Formatters.multiple, params: { formatters: [Formatters.lowercase, Formatters.uppercase] }`);let a=r.formatters,l=i;return a.forEach((d,c)=>{if(typeof d!="function")throw new Error(`[Slickgrid-Universal] the "params.formatters" at index(${c}) to be used by "Formatters.multiple" is invalid, please verify all formatter functions.`);l=d.call(void 0,e,t,l,s,n,o)}),l};function Ce(e,t,i,s){let n,o,r="",a="";switch(i){case"currency":n=A.DEFAULT_FORMATTER_CURRENCY_MIN_DECIMAL,o=A.DEFAULT_FORMATTER_CURRENCY_MAX_DECIMAL;break;case"decimal":n=A.DEFAULT_FORMATTER_NUMBER_MIN_DECIMAL,o=A.DEFAULT_FORMATTER_NUMBER_MAX_DECIMAL;break;case"percent":n=A.DEFAULT_FORMATTER_PERCENT_MIN_DECIMAL,o=A.DEFAULT_FORMATTER_PERCENT_MAX_DECIMAL;break;default:break}let l=t.getOptions?.()??{},d=cn("minDecimal",e,l,n),c=cn("maxDecimal",e,l,o),h=cn("decimalSeparator",e,l,A.DEFAULT_NUMBER_DECIMAL_SEPARATOR),u=cn("thousandSeparator",e,l,A.DEFAULT_NUMBER_THOUSAND_SEPARATOR),p=cn("displayNegativeNumberWithParentheses",e,l,A.DEFAULT_NEGATIVE_NUMBER_WRAPPED_IN_BRAQUET),m=cn("currencyPrefix",e,l,""),f=cn("currencySuffix",e,l,"");return s==="cell"&&(r=cn("numberPrefix",e,l,""),a=cn("numberSuffix",e,l,"")),{minDecimal:d,maxDecimal:c,decimalSeparator:h,thousandSeparator:u,wrapNegativeNumber:p,currencyPrefix:m,currencySuffix:f,numberPrefix:r,numberSuffix:a}}function cn(e,t,i,s){let n=t.params;return n?.hasOwnProperty(e)?n[e]:i?.formatterOptions?.hasOwnProperty(e)?i.formatterOptions[e]:s}function OS(e,t){let i=Wt(e,{withZeroPadding:!0});return(s,n,o,r,a,l)=>{let c=(l.getOptions?.()??{})?.formatterOptions?.dateSeparator??t,h=r?.type??T.date,u=Wt(h,{withDefaultIso8601:!0}),p=IS(r,o,u,i);if(p&&c!==t){let m=new RegExp(t,"ig");p=p.replace(m,c)}return p}}function MS(){return(e,t,i,s)=>{let n=s?.type??T.date,o=Wt(n,{withDefaultIso8601:!0}),r=s.params?.dateFormat;if(!r)throw new Error(`[Slickgrid-Universal] Using the base "Formatter.date" requires "params.outputFormat" defined and was not found in your column "${s.id}".`);return IS(s,i,o,r)}}function _l(e,t,i,s,n,o){let r="",l=s.field||s.id||"";if(typeof s.field=="string"&&s.field.indexOf(".")>0){let c=s.field.split(".");l=c.length>0?c[0]:s.field}let d=n?.hasOwnProperty(l)?n[l]:null;if(typeof e=="function"){let c=e(t,i,d,s,n,o),h=Hr(c)?c:c.html||c.text;r=Ro(h)}else r=n?.hasOwnProperty(l)?d:"";return r==null&&(r=""),typeof r=="object"&&!(r instanceof Date)&&Object.entries(r).length===0&&(r=""),r}function IS(e,t,i,s){let n=e.params?.parseDateAsUtc??!1,o=Ds(t,i),r=t;if(o){let a=n?Oy(o):o;r=kt(a,s,"en-US")}return r}var Gt=class{constructor(t){this.translaterService=t,this._debounceTypingDelay=0,this._shouldTriggerQuery=!0,this._inputType="text",this.inputFilterType="single",this.searchTerms=[],this._bindEventService=new He}get columnFilter(){return this.columnDef?.filter??{}}get defaultOperator(){return j.empty}get inputType(){return this._inputType}set inputType(t){this._inputType=t}get operator(){return this.columnFilter?.operator??this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}get gridOptions(){return this.grid?.getOptions()??{}}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.inputFilterType==="compound"&&(this.operator=t.operator||""),this.searchTerms=t?.searchTerms??[],this._cellContainerElm=t.filterContainerElm;let i=this.gridOptions?.backendServiceApi;this._debounceTypingDelay=(i?i?.filterTypingDebounce??this.gridOptions?.defaultBackendServiceFilterTypingDebounce:this.gridOptions?.filterTypingDebounce)??0;let s=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this.createDomFilterElement(s),this._bindEventService.bind(this._filterInputElm,["keyup","blur","change"],this.onTriggerEvent.bind(this)),this._bindEventService.bind(this._filterInputElm,"wheel",this.onTriggerEvent.bind(this),{passive:!0}),this.inputFilterType==="compound"&&this._selectOperatorElm&&this._bindEventService.bind(this._selectOperatorElm,"change",this.onTriggerEvent.bind(this))}clear(t=!0){this._filterInputElm&&(this._shouldTriggerQuery=t,this.searchTerms=[],this._filterInputElm.value="",this._currentValue=void 0,this.updateFilterStyle(!1),this.inputFilterType==="compound"&&this._selectOperatorElm&&(this._selectOperatorElm.selectedIndex=0),this.onTriggerEvent(void 0,!0))}destroy(){this._bindEventService.unbindAll(),this._selectOperatorElm?.remove?.(),this._filterInputElm?.remove?.()}getValues(){return this._filterInputElm.value}setValues(t,i,s=!1){let n=Array.isArray(t)?t:[t],o="";for(let r of n)this.inputFilterType==="single"?o=i?this.addOptionalOperatorIntoSearchString(r,i):r:o=`${r}`,this._filterInputElm.value=`${o??""}`,this._currentValue=this._filterInputElm.value;if(this.updateFilterStyle(this.getValues()!==""),this.operator=i||this.defaultOperator,i&&this._selectOperatorElm){let r=Js(this.operator);this._selectOperatorElm.value=r}s&&this.onTriggerEvent(void 0,!1)}addOptionalOperatorIntoSearchString(t,i){let s="",n="",o=t==null?"":`${t}`;if(i&&o){switch(i){case"<>":case"!=":case"=":case"==":case">":case">=":case"<":case"<=":s=i;break;case"EndsWith":case"*z":s="*";break;case"StartsWith":case"a*":n="*";break}o=`${s}${o}${n}`}return o}getCompoundOperatorOptionValues(){let t=this.columnDef.type&&this.columnDef.type?this.columnDef.type:T.string,i,s="text";if(this.columnFilter?.compoundOperatorList)i=this.columnFilter.compoundOperatorList;else switch(t){case T.string:case T.text:case T.readonly:case T.password:s="text",i=Dy(this.gridOptions,this.translaterService);break;default:s="numeric",i=zr(this.gridOptions,this.translaterService);break}return Wr(this.gridOptions,i,s),i}createDomFilterElement(t){let i=this.columnDef?.id??"";Xe(this._cellContainerElm);let s=this.gridOptions?.defaultFilterPlaceholder??"";this.columnFilter?.placeholder&&(s=this.columnFilter.placeholder);let n=`${t??""}`;if(this._filterInputElm=R("input",{type:this._inputType||"text",autocomplete:"off",ariaAutoComplete:"none",placeholder:s,ariaLabel:this.columnFilter?.ariaLabel??`${Pi(i+"")} Search Filter`,className:`form-control filter-${i}`,value:n,dataset:{columnid:`${i}`}}),this.updateFilterStyle(!!t),t!==void 0&&(this._currentValue=n),this.inputFilterType==="single")this._filterContainerElm=this._filterInputElm,this._filterInputElm.classList.add("search-filter","slick-filter"),this._cellContainerElm.appendChild(this._filterInputElm),this._cellContainerElm.appendChild(document.createElement("span"));else{this._filterInputElm.classList.add("compound-input"),this._selectOperatorElm=Br(this.getCompoundOperatorOptionValues(),this.grid),this._filterContainerElm=R("div",{className:`form-group search-filter slick-filter filter-${i}`});let o=R("div",{className:"input-group"},this._filterContainerElm);R("div",{className:"input-group-addon input-group-prepend operator"},o).appendChild(this._selectOperatorElm),o.appendChild(this._filterInputElm),o.appendChild(R("span")),this.operator&&(this._selectOperatorElm.value=Js(this.operator)),this._filterContainerElm&&this._cellContainerElm.appendChild(this._filterContainerElm)}}onTriggerEvent(t,i=!1){if(i)this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:i,shouldTriggerQuery:this._shouldTriggerQuery}),this.updateFilterStyle(!1);else{let s=t?.type||"",n=this._selectOperatorElm?.value??this.operator,o=this._filterInputElm.value,r=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;typeof o=="string"&&r&&(o=o.trim()),t?.target?.tagName.toLowerCase()!=="select"&&(this._currentValue=o),this.updateFilterStyle(o!=="");let a={columnDef:this.columnDef,operator:n,searchTerms:o?[o]:null,shouldTriggerQuery:this._shouldTriggerQuery},l=s==="keyup"&&t?.key!=="Enter"?this._debounceTypingDelay:0,d=this.columnFilter.skipCompoundOperatorFilterWithNullInput??this.gridOptions.skipCompoundOperatorFilterWithNullInput,c=d&&zt(this._currentValue)||this._currentValue===""&&zt(this._lastSearchValue);(this.inputFilterType==="single"||!d||c)&&(l>0?(window.clearTimeout(this._timer),this._timer=window.setTimeout(()=>this.callback(t,a),l)):this.callback(t,a)),this._lastSearchValue=o}this._shouldTriggerQuery=!0}updateFilterStyle(t){t?(this._filterContainerElm?.classList.add("filled"),this._filterInputElm.classList.add("filled")):(this._filterContainerElm?.classList.remove("filled"),this._filterInputElm.classList.remove("filled"))}};var bl=class extends Gt{constructor(t){super(t),this.translaterService=t,this.inputType="text",this.inputFilterType="compound"}};var Kc=class extends Gt{constructor(t){super(t),this.translaterService=t,this.inputType="number",this.inputFilterType="compound"}};var qc=class extends Gt{constructor(t){super(t),this.translaterService=t,this.inputType="password",this.inputFilterType="compound"}};var Em="#86bff8",Qc=0,ZP=20,jn=class{constructor(t){this.translaterService=t,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._sliderTrackFilledColor=Em,this.sliderType="double",this.searchTerms=[],this._bindEventService=new He}get columnFilter(){return this.columnDef?.filter??{}}get currentValue(){return this._currentValue}get currentValues(){return this._currentValues}get defaultOperator(){return this.sliderType==="compound"?j.empty:this.sliderType==="single"?j.greaterThanOrEqual:this.gridOptions.defaultFilterRangeOperator||j.rangeInclusive}get filterOptions(){return N(N({},this.gridOptions.defaultFilterOptions?.slider),this.columnFilter?.filterOptions)}get gridOptions(){return this.grid?.getOptions()??{}}get sliderOptions(){return this._sliderOptions}get operator(){return this._operator||(this.columnFilter.operator??this.defaultOperator)}set operator(t){this._operator=t}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.operator=t.operator||"",this.searchTerms=t?.searchTerms??[],this._argFilterContainerElm=t.filterContainerElm,this._sliderTrackFilledColor=window.getComputedStyle(document.documentElement).getPropertyValue("--slick-slider-filter-filled-track-color")||Em,this._filterElm=this.createDomFilterElement(this.searchTerms)}clear(t=!0){if(this._filterElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[];let i=+(this.filterOptions?.sliderStartValue??A.SLIDER_DEFAULT_MIN_VALUE),s=+(this.filterOptions?.sliderEndValue??A.SLIDER_DEFAULT_MAX_VALUE);this.sliderType==="double"?(this._sliderLeftInputElm&&(this._sliderLeftInputElm.value=`${i}`),this._sliderRightInputElm&&(this._sliderRightInputElm.value=`${s}`),this._currentValues=[i,s],this._sliderLeftInputElm?.dispatchEvent(new Event("change")),this._sliderRightInputElm?.dispatchEvent(new Event("change"))):(this._sliderRightInputElm&&(this._sliderRightInputElm.value=`${i}`),this._selectOperatorElm&&(this._selectOperatorElm.selectedIndex=0),this._currentValue=i,this._sliderRightInputElm?.dispatchEvent(new Event("change"))),(this.filterOptions?.hideSliderNumber??this.filterOptions?.hideSliderNumbers)||(this.sliderType==="double"?this.renderSliderValues(i,s):this.renderSliderValues(void 0,i)),this.updateFilterStyle(!1),this.callback(void 0,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:t,searchTerms:[]})}}destroy(){this._bindEventService.unbindAll(),this._sliderTrackElm?.remove(),this._sliderLeftInputElm?.remove(),this._sliderRightInputElm?.remove()}renderSliderValues(t,i,s=!0){let n=t?.toString()||"",o=i?.toString()||"";this._leftSliderNumberElm?.textContent&&(this._leftSliderNumberElm.textContent=n),this._rightSliderNumberElm?.textContent&&(this._rightSliderNumberElm.textContent=o),this._sliderRangeContainElm.title=this.sliderType==="double"?`${n} - ${o}`:`${o}`,s&&this.grid.onHeaderRowMouseLeave.notify({column:this.columnDef,grid:this.grid})}getValues(){return this.sliderType==="double"?this._currentValues:this._currentValue}setValues(t,i,s=!1){if(t){let r=[],a=Array.isArray(t)?t?.[0]:t;if(Array.isArray(t)&&t.length===2?r=t:typeof a=="string"&&a.indexOf("..")>0?(r=a.split(".."),this._currentValue=+(r?.[0]??0)):(zt(a)||a==="")&&(this._currentValue=a===null?void 0:+a,r=[a]),this.sliderType!=="double"&&this._sliderRightInputElm)this._sliderRightInputElm.value=typeof t=="string"?t:`${a}`,this.renderSliderValues(void 0,this._sliderRightInputElm.value);else if(Array.isArray(r)&&r.length===2&&!this.filterOptions?.hideSliderNumbers){let[l,d]=r;this._sliderLeftInputElm&&(this._sliderLeftInputElm.value=String(l??A.SLIDER_DEFAULT_MIN_VALUE)),this._sliderRightInputElm&&(this._sliderRightInputElm.value=String(d??A.SLIDER_DEFAULT_MAX_VALUE)),this.renderSliderValues(...r)}}else this._currentValue=void 0,this._currentValues=void 0;let n=this.getValues(),o=n===void 0?[]:Array.isArray(n)?n:[n];if(this.updateFilterStyle(o.length>0),i!==void 0&&(this.operator=i),this.operator&&this._selectOperatorElm){let r=Js(this.operator);this._selectOperatorElm.value=r}s&&this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:o,shouldTriggerQuery:!0})}createDomFilterElement(t){let i=this.columnDef?.id??"",s=+(this.columnFilter.minValue??A.SLIDER_DEFAULT_MIN_VALUE),n=+(this.columnFilter.maxValue??A.SLIDER_DEFAULT_MAX_VALUE),o=+(this.columnFilter.valueStep??A.SLIDER_DEFAULT_STEP);Xe(this._argFilterContainerElm);let r=+((Array.isArray(t)&&t?.[0])??this.filterOptions?.sliderStartValue??s),a=+((Array.isArray(t)&&t?.[1])??this.filterOptions?.sliderEndValue??n);if(this._sliderRangeContainElm=R("div",{className:`filter-input filter-${i} slider-input-container slider-values`,title:this.sliderType==="double"?`${r} - ${a}`:`${r}`}),this._sliderTrackElm=R("div",{className:"slider-track"}),this.sliderType==="compound"){let h=R("span",{className:"input-group-addon input-group-prepend operator"});this._selectOperatorElm=Br(this.getOperatorOptionValues(),this.grid),h.appendChild(this._selectOperatorElm)}this.sliderType==="double"&&(this._sliderLeftInputElm=R("input",{type:"range",className:"slider-filter-input",ariaLabel:this.columnFilter.ariaLabel??`${Pi(i+"")} Search Filter`,defaultValue:`${r}`,value:`${r}`,min:`${s}`,max:`${n}`,step:`${o}`}));let l=this.sliderType==="double"?a:r;this._sliderRightInputElm=R("input",{type:"range",className:"slider-filter-input",ariaLabel:this.columnFilter.ariaLabel??`${Pi(i+"")} Search Filter`,defaultValue:`${l}`,value:`${l}`,min:`${s}`,max:`${n}`,step:`${o}`});let d=this.filterOptions?.hideSliderNumber??this.filterOptions?.hideSliderNumbers,c=d?"":"input-group";if(this._divContainerFilterElm=R("div",{className:`${c} search-filter slick-filter slider-container slider-values filter-${i}`.trim()}),this._sliderRangeContainElm.appendChild(this._sliderTrackElm),this.sliderType==="double"&&this._sliderLeftInputElm&&this._sliderRangeContainElm.appendChild(this._sliderLeftInputElm),this._sliderRangeContainElm.appendChild(this._sliderRightInputElm),d)this._divContainerFilterElm.appendChild(this._sliderRangeContainElm);else{let h;this.sliderType==="compound"&&this._selectOperatorElm?(h=R("span",{className:"input-group-addon input-group-prepend operator"}),h.appendChild(this._selectOperatorElm)):this.sliderType==="double"&&(h=R("div",{className:"input-group-addon input-group-prepend slider-range-value"}),this._leftSliderNumberElm=R("span",{className:`input-group-text lowest-range-${i}`,textContent:`${r}`}),h.appendChild(this._leftSliderNumberElm));let u=R("div",{className:"input-group-addon input-group-append slider-range-value"});this._rightSliderNumberElm=R("span",{className:`input-group-text highest-range-${i}`,textContent:`${l}`},u),h&&this._divContainerFilterElm.appendChild(h),this._divContainerFilterElm.appendChild(this._sliderRangeContainElm),this._divContainerFilterElm.appendChild(u)}return this._sliderOptions={minValue:s,maxValue:n,step:o},this._currentValues=[r,a],Array.isArray(t)&&t.length>0&&t[0]!==""&&(this.updateFilterStyle(!0),this._currentValue=r),(this.filterOptions.sliderStartValue!==void 0||this.columnFilter.minValue!==void 0)&&(this._currentValue=r),this._argFilterContainerElm.appendChild(this._divContainerFilterElm),this.updateTrackFilledColorWhenEnabled(),this._bindEventService.bind(this._sliderTrackElm,"click",this.sliderTrackClicked.bind(this)),this._bindEventService.bind(this._sliderRightInputElm,["input","change"],this.slideRightInputChanged.bind(this)),this._bindEventService.bind(this._sliderRightInputElm,["change","mouseup","touchend"],this.onValueChanged.bind(this)),this.sliderType==="compound"&&this._selectOperatorElm?this._bindEventService.bind(this._selectOperatorElm,["change"],this.onValueChanged.bind(this)):this.sliderType==="double"&&this._sliderLeftInputElm&&(this._bindEventService.bind(this._sliderLeftInputElm,["input","change"],this.slideLeftInputChanged.bind(this)),this._bindEventService.bind(this._sliderLeftInputElm,["change","mouseup","touchend"],this.onValueChanged.bind(this))),this._divContainerFilterElm}getOperatorOptionValues(){let t;return this.columnFilter.compoundOperatorList?t=this.columnFilter.compoundOperatorList:t=zr(this.gridOptions,this.translaterService),Wr(this.gridOptions,t,"numeric"),t}onValueChanged(t){let i=parseInt(this._sliderRightInputElm?.value??"",10),s,n;if(this.sliderType==="compound"||this.sliderType==="single")t?.target?.tagName?.toLowerCase()!=="select"&&(this._currentValue=+i),s=this._currentValue,n=[s||"0"];else if(this.sliderType==="double"){let r=[parseInt(this._sliderLeftInputElm?.value??"",10),i];s=r.join(".."),n=r}if(this._clearFilterTriggered)this.updateFilterStyle(!1),this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,searchTerms:[],shouldTriggerQuery:this._shouldTriggerQuery});else{let o=this._selectOperatorElm?.value??this.operator;this.updateFilterStyle(s!=="");let r=this.columnFilter.skipCompoundOperatorFilterWithNullInput??this.gridOptions.skipCompoundOperatorFilterWithNullInput,a=r&&zt(this._currentValue)||!zt(this._currentValue)&&zt(this._lastSearchValue);(this.sliderType!=="compound"||!r||a)&&this.callback(t,{columnDef:this.columnDef,operator:o||"",searchTerms:n,shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.changeBothSliderFocuses(!1),this.grid.onHeaderRowMouseEnter.notify({column:this.columnDef,grid:this.grid},new ze(t)),this._lastSearchValue=s}changeBothSliderFocuses(t){let i=t?"add":"remove";this._sliderLeftInputElm?.classList[i]("focus"),this._sliderRightInputElm?.classList[i]("focus")}slideLeftInputChanged(t){let i=parseInt(this._sliderLeftInputElm?.value??"",10),s=parseInt(this._sliderRightInputElm?.value??"",10);this._sliderLeftInputElm&&s-i<=(this.filterOptions?.stopGapBetweenSliderHandles??Qc)&&(this._sliderLeftInputElm.value=String(i-(this.filterOptions?.stopGapBetweenSliderHandles??Qc))),this._sliderLeftInputElm&&this._sliderRightInputElm&&(+this._sliderLeftInputElm.value>=+this._sliderRightInputElm.value-ZP?(this._sliderLeftInputElm.style.zIndex="1",this._sliderRightInputElm.style.zIndex="0"):(this._sliderLeftInputElm.style.zIndex="0",this._sliderRightInputElm.style.zIndex="1")),this.sliderLeftOrRightChanged(t,"left",i,s)}slideRightInputChanged(t){let i=parseInt(this._sliderLeftInputElm?.value??"",10),s=parseInt(this._sliderRightInputElm?.value??"",10);this.sliderType==="double"&&this._sliderRightInputElm&&s-i<=(this.filterOptions?.stopGapBetweenSliderHandles??Qc)&&(this._sliderRightInputElm.value=String(i+(this.filterOptions?.stopGapBetweenSliderHandles??Qc))),this.sliderLeftOrRightChanged(t,"right",i,s)}sliderLeftOrRightChanged(t,i,s,n){let o=!0;this.updateTrackFilledColorWhenEnabled(),this.changeBothSliderFocuses(!0),this._sliderRangeContainElm.title=this.sliderType==="double"?`${s} - ${n}`:`${n}`,this.sliderType==="double"&&this._sliderLeftInputElm&&this._sliderRightInputElm&&(i==="left"&&s>n?(this._sliderLeftInputElm.value=`${n}`,o=!1):i==="right"&&s>n&&(this._sliderRightInputElm.value=`${s}`,o=!1)),(this.filterOptions?.hideSliderNumber??this.filterOptions?.hideSliderNumbers)||(this._leftSliderNumberElm?.textContent&&(this._leftSliderNumberElm.textContent=this._sliderLeftInputElm?.value??""),this._rightSliderNumberElm?.textContent&&(this._rightSliderNumberElm.textContent=this._sliderRightInputElm?.value??"")),o&&this.grid.onHeaderRowMouseEnter.notify({column:this.columnDef,grid:this.grid},new ze(t))}sliderTrackClicked(t){t.preventDefault();let i=t.offsetX,s=this._sliderTrackElm.offsetWidth,n=(i+0)*100/s;this._sliderRightInputElm&&this.sliderType!=="double"?(this._sliderRightInputElm.value=`${n}`,this._sliderRightInputElm.dispatchEvent(new Event("change"))):this._sliderLeftInputElm&&this._sliderRightInputElm&&(n<=50?(this._sliderLeftInputElm.value=`${n}`,this._sliderLeftInputElm.dispatchEvent(new Event("change"))):(this._sliderRightInputElm.value=`${n}`,this._sliderRightInputElm.dispatchEvent(new Event("change"))))}updateTrackFilledColorWhenEnabled(){if(this.filterOptions?.enableSliderTrackColoring&&this._sliderRightInputElm){let t=0;this._sliderLeftInputElm&&(t=(+this._sliderLeftInputElm.value-+this._sliderLeftInputElm.min)/(this.sliderOptions?.maxValue??0-+this._sliderLeftInputElm.min)*100);let i=(+this._sliderRightInputElm.value-+this._sliderRightInputElm.min)/(this.sliderOptions?.maxValue??0-+this._sliderRightInputElm.min)*100,s="linear-gradient(to right, %b %p1, %c %p1, %c %p2, %b %p2)".replace(/%b/g,"#eee").replace(/%c/g,this.filterOptions?.sliderTrackFilledColor||this._sliderTrackFilledColor||Em).replace(/%p1/g,`${t}%`).replace(/%p2/g,`${i}%`);this._sliderTrackElm.style.background=s,this._sliderOptions.sliderTrackBackground=s}}updateFilterStyle(t){t?(this._divContainerFilterElm.classList.add("filled"),this._filterElm?.classList.add("filled")):(this._divContainerFilterElm.classList.remove("filled"),this._filterElm?.classList.remove("filled"))}};var Zc=class extends jn{constructor(t){super(t),this.translaterService=t,this.sliderType="compound"}};var Jc=class extends Qr{constructor(t){super(t),this.translaterService=t,this.inputFilterType="range"}};var eh=class extends Gt{constructor(t){super(t),this.translaterService=t,this._inputMask="",this.inputType="text"}get inputMask(){return this._inputMask}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this._cellContainerElm=t.filterContainerElm,this.columnDef?.params?.mask?this._inputMask=this.columnDef.params.mask:this.columnFilter?.params?.mask&&(this._inputMask=this.columnFilter.params.mask),!this._inputMask)throw new Error(`[Slickgrid-Universal] The Filters.inputMask requires the mask to be passed in the filter params or the column definition params
        for example:: this.columnDefinitions: [{ id: 'phone', field: 'phone', filter: { model: Filters.inputMask, params: { mask: '000-000-0000' }}}]`);let i=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this.createDomFilterElement(i),this._bindEventService.bind(this._filterInputElm,["keyup","blur","change"],this.onTriggerEvent.bind(this))}onTriggerEvent(t,i=!1){let s="";if(t?.target?.value){let n=t?.target?.value??"",o=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;typeof n=="string"&&o&&(n=n.trim());let r=this.unmaskValue(n),a=this.maskValue(r);s=r,t?.keyCode>=48&&(this._filterInputElm.value=a,t.preventDefault())}i?(this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:i,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterInputElm.classList.remove("filled")):(this._filterInputElm.classList.add("filled"),this.callback(t,{columnDef:this.columnDef,operator:this.operator,searchTerms:[s],shouldTriggerQuery:this._shouldTriggerQuery})),this._shouldTriggerQuery=!0}maskValue(t){let i=0,s="";return this._inputMask&&(s=this._inputMask.replace(/[09A]/gi,n=>((n==="0"||n==="9")&&/\d+/g.test(t[i])||n.toUpperCase()==="A"&&/[^\d]+/gi.test(t[i]))&&t[i++]||"")),s}unmaskValue(t){let i=t.replace(/[^0-9a-z]*/gi,""),s=this._inputMask.replace(/[^0-9a-z]*/gi,""),n="";for(let o=0;o<s.length;o++)i[o]&&((s[o]==="0"||s[o]==="9")&&/\d+/g.test(i[o])||s[o].toUpperCase()==="A"&&/[^\d]+/gi.test(i[o]))&&(n+=i[o]);return n}};var th=class extends Gt{constructor(t){super(t),this.translaterService=t,this.inputType="number"}};var ih=class extends Gt{constructor(t){super(t),this.translaterService=t,this.inputType="password"}};var JP=Object.defineProperty,ek=(e,t,i)=>t in e?JP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,$=(e,t,i)=>ek(e,typeof t!="symbol"?t+"":t,i),tk=class{constructor(e){$(this,"_distinctEvent"),$(this,"_boundedEvents",[]),this._distinctEvent=e?.distinctEvent??!1}get boundedEvents(){return this._boundedEvents}dispose(){this.unbindAll(),this._boundedEvents=[]}bind(e,t,i,s,n=""){let o=Array.isArray(t)?t:[t];if(typeof e?.forEach=="function")e.forEach(r=>{for(let a of o)(!this._distinctEvent||this._distinctEvent&&!this.hasBinding(r,a))&&(r.addEventListener(a,i,s),this._boundedEvents.push({element:r,eventName:a,listener:i,groupName:n}))});else for(let r of o)(!this._distinctEvent||this._distinctEvent&&!this.hasBinding(e,r))&&(e.addEventListener(r,i,s),this._boundedEvents.push({element:e,eventName:r,listener:i,groupName:n}))}hasBinding(e,t){return this._boundedEvents.some(i=>i.element===e&&(!t||i.eventName===t))}unbind(e,t,i){if(e){let s=Array.isArray(e)?e:[e],n=Array.isArray(t)?t||"":[t||""];for(let o of s){i||(i=this._boundedEvents.find(r=>{if(r.element===o&&(!t||r.eventName===t))return r.listener}));for(let r of n)o?.removeEventListener?.(r,i)}}}unbindAll(e){if(e){let t=Array.isArray(e)?e:[e];for(let i=this._boundedEvents.length-1;i>=0;--i){let s=this._boundedEvents[i];if(t.some(n=>n===s.groupName)){let{element:n,eventName:o,listener:r}=s;this.unbind(n,o,r),this._boundedEvents.splice(i,1)}}}else for(;this._boundedEvents.length>0;){let t=this._boundedEvents.pop(),{element:i,eventName:s,listener:n}=t;this.unbind(i,s,n)}}},PS=typeof window<"u"&&window.multipleSelect!==void 0?window.multipleSelect:{locales:{}},ik={formatSelectAll(){return"[Select all]"},formatAllSelected(){return"All selected"},formatCountSelected(e,t){return`${e} of ${t} selected`},formatNoMatchesFound(){return"No matches found"},formatOkButton(){return"OK"}};PS.locales["en-US"]=ik;var kS=PS.locales,sk=50,nk=4,LS={name:"",placeholder:"",classes:"",classPrefix:"",data:void 0,locale:void 0,selectAll:!0,single:void 0,singleRadio:!1,multiple:!1,hideOptgroupCheckboxes:!1,multipleWidth:80,width:void 0,dropWidth:void 0,maxHeight:250,maxHeightUnit:"px",position:"bottom",displayValues:!1,displayTitle:!1,displayDelimiter:", ",minimumCountSelected:3,ellipsis:!1,isOpen:!1,keepOpen:!1,openOnHover:!1,container:null,filter:!1,filterGroup:!1,filterPlaceholder:"",filterAcceptOnEnter:!1,filterByDataLength:void 0,customFilter(e){let{text:t,label:i,search:s}=e;return(i||t||"").includes(s)},showClear:!1,autoAdjustDropHeight:!1,autoAdjustDropPosition:!1,autoAdjustDropWidthByTextSize:!1,adjustedHeightPadding:10,useSelectOptionLabel:!1,useSelectOptionLabelToHtml:!1,navigationHighlight:!0,infiniteScroll:!1,virtualScroll:!0,cssStyler:()=>null,textTemplate:e=>e.innerHTML.trim(),labelTemplate:e=>e.label,onOpen:()=>!1,onClose:()=>!1,onCheckAll:()=>!1,onUncheckAll:()=>!1,onFocus:()=>!1,onBlur:()=>!1,onOptgroupClick:()=>!1,onBeforeClick:()=>!0,onClick:()=>!1,onFilter:()=>!1,onFilterClear:()=>!1,onClear:()=>!1,onAfterCreate:()=>!1,onDestroy:()=>!1,onAfterDestroy:()=>!1,onDestroyed:()=>!1},ok=["init","getOptions","refreshOptions","getSelects","setSelects","enable","disable","open","close","check","uncheck","checkAll","uncheckAll","checkInvert","focus","blur","refresh","destroy"];Object.assign(LS,kS["en-US"]);var rk={BLOCK_ROWS:sk,CLUSTER_BLOCKS:nk,DEFAULTS:LS,METHODS:ok},ls=rk;function ak(e,t,i=!1){let s=Object.keys(e),n=Object.keys(t);if(i&&s.length!==n.length)return!1;for(let o of s)if(n.includes(o)&&e[o]!==t[o])return!1;return!0}function Rm(e){let t=()=>{let n={};for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=Rm(e[o]));return n},i=()=>e.map(n=>Rm(n)),s=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return s==="object"?t():s==="array"?i():e}function xm(e){return e!=null&&e!==""}function lk(e,t){return typeof e=="object"?Object.fromEntries(t?Object.entries(e).filter(([i,s])=>!xm(s)&&!t.includes(i)||xm(s)):Object.entries(e).filter(([i,s])=>xm(s))):e}function dk(e){let t=0;return e.forEach((i,s)=>{i.type==="optgroup"?(i._key=`group_${s}`,i.visible=typeof i.visible>"u"?!0:i.visible,i.children.forEach((n,o)=>{n&&(n.visible=typeof n?.visible>"u"?!0:n.visible,n.divider||(n._key=`option_${s}_${o}`,t+=1))})):(i.visible=typeof i.visible>"u"?!0:i.visible,i.divider||(i._key=`option_${s}`,t+=1))}),t}function sh(e,t,i){if(Array.isArray(e))for(let s of e){if(s[t]===i||s[t]===`${+s[t]}`&&+s[t]===i)return s;if(s.type==="optgroup"){for(let n of s.children)if(n&&(n[t]===i||n[t]===`${+n[t]}`&&+n[t]===i))return n}}}function ck(e){return e.replace(/(\b)(on[a-z]+)(\s*)=([^>]*)|javascript:([^>]*)[^>]*|(<\s*)(\/*)script([<>]*).*(<\s*)(\/*)script(>*)|(&lt;|&#60;)(\/*)(script|script defer)(.*)(&#62;|&gt;|&gt;">)/gi,"")}function Tm(e){return Object.keys(e).forEach(t=>e[t]===void 0?delete e[t]:""),e}function Zr(e,t){if(typeof e!="string")return e;if(typeof t=="function")return t(e);if(typeof e.normalize=="function")return e.normalize("NFD").replace(/[\u0300-\u036F]/g,"");throw new Error("[Multiple-Select-Vanilla] `normalize()` function is not defined, you can optionally provide a custom parser via the `diacriticParser` option.")}function Om(e){let t=0,i=0,s=0,n=0,o=window.innerHeight??0,r=window.innerWidth??0,a=pk(),l=a.top,d=a.left,c=Am(e);if(c){let h=c.top??0,u=c.left??0;i=h-l,t=o-(h-l),s=u-d,n=r-(u-d)}return{top:i,bottom:t,left:s,right:n}}function Mm(e=""){return e.split(" ").filter(t=>t)}function ri(e,t,i){let s=document.createElement(e);return t&&Object.keys(t).forEach(n=>{let o=t[n];typeof o=="object"?Object.assign(s[n],o):s[n]=t[n]}),i?.appendChild&&i.appendChild(s),s}function FS(e,t,i){let s=e.props?.innerHTML?uk(e.props,"innerHTML"):e.props,n=ri(e.tagName,lk(s,["className","title","style"]),t),o=i;if(o||(o=n),e.props.innerHTML&&(n.innerHTML=e.props.innerHTML),e.attrs)for(let r of Object.keys(e.attrs))n.setAttribute(r,e.attrs[r]);if(e.children)for(let r of e.children)FS(r,n,o);return t?.appendChild(n),n}function Dm(e){return e.hasOwnProperty("tagName")?FS(e):document.createElement("li")}function oh(e){for(;e?.firstChild;)e.lastChild&&e.removeChild(e.lastChild);return e}function Am(e){if(!e)return;let t=e?.getBoundingClientRect?.(),i=0,s=0,n=0,o=0;return t?.top!==void 0&&t.left!==void 0&&(i=t.top+window.pageYOffset,s=t.left+window.pageXOffset,o=t.right,n=t.bottom),{top:i,left:s,bottom:n,right:o}}function nh(e,t,i){if(!e)return 0;let s=Number.parseFloat(e.style[i]);if(!s||Number.isNaN(s)){switch(t){case"outer":s=e[i==="width"?"offsetWidth":"offsetHeight"];break;case"scroll":s=e[i==="width"?"scrollWidth":"scrollHeight"];break;case"inner":default:s=e[i==="width"?"clientWidth":"clientHeight"];break}s=e.getBoundingClientRect()[i]}if(!s||Number.isNaN(s)){let n=e.style.display,o=e.style.position;e.style.display="block",e.style.position="absolute";let r=window.getComputedStyle(e)[i];s=Number.parseFloat(r),Number.isNaN(s)&&(s=0),e.style.display=n,e.style.position=o}return s||0}function DS(e,t){let i=null,s=e?.parentElement;for(;s;){let[n,o,r,a]=t.match(/^([a-z]*)([#.]{1})([a-z\-]+)$/i)||[];if(r&&a)for(let l of a.replace(r,"").split(" "))s.classList.contains(l)&&(o?s?.tagName.toLowerCase()===o&&(i=s):i=s);s=s.parentElement}return i}function hk(e,t){e.parentNode?.insertBefore(t,e.nextSibling)}function uk(e,t){let n=e,{[t]:i}=n;return rf(n,[of(t)])}function AS(e,t){e?.style&&(e.style.display=e.style.display==="none"&&t!==!1||t===!0?"block":"none")}function pk(){return{left:window.pageXOffset||document.documentElement.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||0}}var mk=class{constructor(e){$(this,"clusterRows"),$(this,"cache"),$(this,"scrollEl"),$(this,"blockHeight"),$(this,"clusterHeight"),$(this,"contentEl"),$(this,"parentEl"),$(this,"itemHeight"),$(this,"lastCluster"),$(this,"scrollTop"),$(this,"dataStart"),$(this,"dataEnd"),$(this,"rows"),$(this,"destroy"),$(this,"callback"),$(this,"sanitizer"),this.rows=e.rows,this.scrollEl=e.scrollEl,this.contentEl=e.contentEl,this.parentEl=e.contentEl?.parentElement,this.callback=e.callback,this.cache={},this.scrollTop=this.scrollEl.scrollTop,this.initDOM(this.rows),this.scrollEl.scrollTop=this.scrollTop,this.lastCluster=0;let t=()=>{this.lastCluster!==(this.lastCluster=this.getNum())&&(this.initDOM(this.rows),this.callback())};this.scrollEl.addEventListener("scroll",t,!1),this.destroy=()=>{this.scrollEl.removeEventListener("scroll",t,!1),oh(this.contentEl)}}reset(e){this.lastCluster=0,this.cache={},oh(this.contentEl),this.initDOM(e)}initDOM(e){if(typeof this.clusterHeight>"u"){this.cache.scrollTop=this.scrollEl.scrollTop;let o=Dm(e[0]);this.contentEl.appendChild(o),this.contentEl.appendChild(o),this.contentEl.appendChild(o),this.cache.data=[e[0]],this.getRowsHeight()}let t=this.initData(e,this.getNum()),i=this.checkChanges("data",t.rows),s=this.checkChanges("top",t.topOffset),n=this.checkChanges("bottom",t.bottomOffset);oh(this.contentEl),i&&s?(t.topOffset&&this.contentEl.appendChild(this.getExtra("top",t.topOffset)),t.rows.forEach(o=>this.contentEl.appendChild(Dm(o))),t.bottomOffset&&this.contentEl.appendChild(this.getExtra("bottom",t.bottomOffset))):n&&this.contentEl.lastChild&&(this.contentEl.lastChild.style.height=`${t.bottomOffset}px`)}getRowsHeight(){if(typeof this.itemHeight>"u"){let e=this.parentEl?.style.display||"";this.parentEl&&(e===""||e==="none")&&(this.parentEl.style.display="block");let t=this.contentEl.children,i=t[Math.floor(t.length/2)];this.itemHeight=i.offsetHeight,this.parentEl&&(this.parentEl.style.display=e)}this.blockHeight=this.itemHeight*ls.BLOCK_ROWS,this.clusterRows=ls.BLOCK_ROWS*ls.CLUSTER_BLOCKS,this.clusterHeight=this.blockHeight*ls.CLUSTER_BLOCKS}getNum(){this.scrollTop=this.scrollEl.scrollTop;let e=(this.clusterHeight||0)-(this.blockHeight||0);return e&&Math.floor(this.scrollTop/e)||0}initData(e,t){if(e.length<ls.BLOCK_ROWS)return{topOffset:0,bottomOffset:0,rowsAbove:0,rows:e};let i=Math.max((this.clusterRows-ls.BLOCK_ROWS)*t,0),s=i+this.clusterRows,n=Math.max(i*this.itemHeight,0),o=Math.max((e.length-s)*this.itemHeight,0),r=[],a=i;n<1&&a++;for(let l=i;l<s;l++)e[l]&&r.push(e[l]);return this.dataStart=i,this.dataEnd=s,{topOffset:n,bottomOffset:o,rowsAbove:a,rows:r}}checkChanges(e,t){let i=t!==this.cache[e];return this.cache[e]=t,i}getExtra(e,t){let i=document.createElement("li");return i.className=`virtual-scroll-${e}`,t&&(i.style.height=`${t}px`),i}},vl=".ms-select-all, ul li[data-key]",fk=".ms-select-all.highlighted, ul li[data-key].highlighted",gk=class{constructor(e,t){this.elm=e,$(this,"_bindEventService"),$(this,"isAllSelected",!1),$(this,"isPartiallyAllSelected",!1),$(this,"fromHtml",!1),$(this,"choiceElm"),$(this,"selectClearElm"),$(this,"closeElm"),$(this,"clearSearchIconElm"),$(this,"filterText",""),$(this,"updateData",[]),$(this,"data",[]),$(this,"dataTotal"),$(this,"dropElm"),$(this,"okButtonElm"),$(this,"filterParentElm"),$(this,"lastFocusedItemKey",""),$(this,"lastMouseOverPosition",""),$(this,"ulElm"),$(this,"parentElm"),$(this,"labelElm"),$(this,"selectAllParentElm"),$(this,"selectAllElm"),$(this,"searchInputElm"),$(this,"selectGroupElms"),$(this,"selectItemElms"),$(this,"noResultsElm"),$(this,"options"),$(this,"selectAllName",""),$(this,"selectGroupName",""),$(this,"selectItemName",""),$(this,"scrolledByMouse",!1),$(this,"openDelayTimer"),$(this,"updateDataStart"),$(this,"updateDataEnd"),$(this,"virtualScroll"),$(this,"_currentHighlightIndex",-1),$(this,"_currentSelectedElm"),$(this,"isMoveUpRecalcRequired",!1),$(this,"locales",{}),this.options=Object.assign({},ls.DEFAULTS,this.elm.dataset,t),this._bindEventService=new tk({distinctEvent:!0})}get isRenderAsHtml(){return this.options.renderOptionLabelAsHtml||this.options.useSelectOptionLabelToHtml}init(){this.initLocale(),this.initContainer(),this.initData(),this.initSelected(!0),this.initFilter(),this.initDrop(),this.initView(),this.options.onAfterCreate()}destroy(e=!0){this.elm&&this.parentElm&&(this.options.onDestroy({hardDestroy:e}),e&&this.options.onHardDestroy(),this.elm.parentElement&&this.parentElm.parentElement&&this.elm.parentElement.insertBefore(this.elm,this.parentElm.parentElement.firstChild),this.elm.classList.remove("ms-offscreen"),this._bindEventService.unbindAll(),this.virtualScroll?.destroy(),this.dropElm?.remove(),this.dropElm=void 0,this.parentElm.parentNode?.removeChild(this.parentElm),this.fromHtml&&(delete this.options.data,this.fromHtml=!1),this.options.onAfterDestroy({hardDestroy:e}),e&&(this.options.onAfterHardDestroy?.(),Object.keys(this.options).forEach(t=>delete this[t])))}initLocale(){if(this.options.locale){if(typeof this.options.locale=="object"){Object.assign(this.options,this.options.locale);return}let e=window.multipleSelect.locales,t=this.options.locale.split(/-|_/);if(t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),e[this.options.locale])Object.assign(this.options,e[this.options.locale]);else if(e[t.join("-")])Object.assign(this.options,e[t.join("-")]);else if(e[t[0]])Object.assign(this.options,e[t[0]]);else throw new Error(`[multiple-select-vanilla] invalid locales "${this.options.locale}", make sure to import it before using it`)}}initContainer(){let e=this.elm.getAttribute("name")||this.options.name||"";this.options.classes&&this.elm.classList.add(this.options.classes),this.options.classPrefix&&(this.elm.classList.add(this.options.classPrefix),this.options.size&&this.elm.classList.add(`${this.options.classPrefix}-${this.options.size}`)),this.elm.style.display="none",this.labelElm=this.elm.closest("label"),!this.labelElm&&this.elm.id&&(this.labelElm=document.createElement("label"),this.labelElm.htmlFor=this.elm.id),this.labelElm?.querySelector("input")&&(this.labelElm=null),typeof this.options.single>"u"&&(this.options.single=!this.elm.multiple),this.parentElm=ri("div",{className:Mm(`ms-parent ${this.elm.className||""} ${this.options.classes}`).join(" "),dataset:{test:"sel"}}),this.options.darkMode&&this.parentElm.classList.add("ms-dark-mode");let t=this.elm.getAttribute("title")||"";t&&(this.parentElm.title=t),this.options.placeholder=this.options.placeholder||this.elm.getAttribute("placeholder")||"",this.choiceElm=ri("button",{className:"ms-choice",type:"button"},this.parentElm),this.options.labelId&&(this.choiceElm.id=this.options.labelId,this.choiceElm.setAttribute("aria-labelledby",this.options.labelId)),this.choiceElm.appendChild(ri("span",{className:"ms-placeholder",textContent:this.options.placeholder})),this.options.showClear&&(this.selectClearElm=ri("div",{className:"ms-icon ms-icon-close"}),this.selectClearElm.style.display="none",this.choiceElm.appendChild(this.selectClearElm)),this.choiceElm.appendChild(ri("div",{className:"ms-icon ms-icon-caret"})),this.dropElm=ri("div",{className:`ms-drop ${this.options.position}`,ariaExpanded:"false"},this.parentElm),this.options.darkMode&&this.dropElm.classList.add("ms-dark-mode"),e&&(this.dropElm.dataset.name=e);let i=this.elm.getAttribute("data-test")||this.options.dataTest;i&&(this.parentElm.dataset.test=i,this.dropElm.dataset.test=i),this.closeElm=this.choiceElm.querySelector(".ms-icon-close"),this.options.dropWidth&&(this.dropElm.style.width=typeof this.options.dropWidth=="string"?this.options.dropWidth:`${this.options.dropWidth}px`),hk(this.elm,this.parentElm),this.elm.disabled&&(this.choiceElm.classList.add("disabled"),this.choiceElm.disabled=!0),this.selectAllName=`selectAll${e}`,this.selectGroupName=`selectGroup${e}`,this.selectItemName=`selectItem${e}`,this.options.keepOpen||(this._bindEventService.unbindAll("body-click"),this._bindEventService.bind(document.body,"click",s=>{this.getEventTarget(s)===this.choiceElm||DS(this.getEventTarget(s),".ms-choice")===this.choiceElm||(this.getEventTarget(s)===this.dropElm||DS(this.getEventTarget(s),".ms-drop")!==this.dropElm&&this.getEventTarget(s)!==this.elm)&&this.options.isOpen&&this.close("body.click")},void 0,"body-click"))}initData(){let e=[];if(this.options.data){if(Array.isArray(this.options.data))this.data=this.options.data.map(t=>typeof t=="string"||typeof t=="number"?{text:t,value:t}:t);else if(typeof this.options.data=="object"){for(let[t,i]of Object.entries(this.options.data))e.push({value:t,text:`${i}`});this.data=e}}else this.elm.childNodes.forEach(t=>{let i=this.initRow(t);i&&e.push(i)}),this.options.data=e,this.data=e,this.fromHtml=!0;this.dataTotal=dk(this.data||[])}initRow(e,t){let i={};return e.tagName?.toLowerCase()==="option"?(i.type="option",i.text=this.options.textTemplate(e),i.value=e.value,i.visible=!0,i.selected=!!e.selected,i.disabled=t||e.disabled,i.classes=e.getAttribute("class")||"",i.title=e.getAttribute("title")||"",e.dataset.value&&(i._value=e.dataset.value),Object.keys(e.dataset).length&&(i._data=e.dataset,i._data.divider&&(i.divider=i._data.divider)),i):e.tagName?.toLowerCase()==="optgroup"?(i.type="optgroup",i.label=this.options.labelTemplate(e),i.visible=!0,i.selected=!!e.selected,i.disabled=e.disabled,i.children=[],Object.keys(e.dataset).length&&(i._data=e.dataset),e.childNodes.forEach(s=>{i.children.push(this.initRow(s,i.disabled))}),i):null}initDrop(){this.initList(),this.update(!0),this.options.isOpen&&this.open(10),this.options.openOnHover&&this.parentElm&&(this._bindEventService.bind(this.parentElm,"mouseover",()=>this.open(null)),this._bindEventService.bind(this.parentElm,"mouseout",()=>this.close("hover.mouseout")))}initFilter(){if(this.filterText="",this.options.filter||!this.options.filterByDataLength)return;let e=0;for(let t of this.data||[])t.type==="optgroup"?e+=t.children.length:e+=1;this.options.filter=e>this.options.filterByDataLength}initList(){if(this.options.filter&&(this.filterParentElm=ri("div",{className:"ms-search"},this.dropElm),this.filterParentElm.appendChild(ri("input",{autocomplete:"off",autocapitalize:"off",spellcheck:!1,type:"text",placeholder:this.options.filterPlaceholder||"\u{1F50E}\uFE0E"})),this.options.showSearchClear&&this.filterParentElm.appendChild(ri("span",{className:"ms-icon ms-icon-close"}))),this.options.selectAll&&!this.options.single){let e=this.elm.getAttribute("name")||this.options.name||"";this.selectAllParentElm=ri("div",{className:"ms-select-all",dataset:{key:"select_all"}});let t=document.createElement("label"),i=`ms-icon ${this.isAllSelected?"ms-icon-check":this.isPartiallyAllSelected?"ms-icon-minus":"ms-icon-uncheck"}`,s=ri("div",{className:"icon-checkbox-container"},t);ri("input",{type:"checkbox",ariaChecked:String(this.isAllSelected),checked:this.isAllSelected,dataset:{name:`selectAll${e}`}},s),ri("div",{className:i},s),t.appendChild(ri("span",{textContent:this.formatSelectAll()})),this.selectAllParentElm.appendChild(t),this.dropElm?.appendChild(this.selectAllParentElm)}this.ulElm=document.createElement("ul"),this.ulElm.role="combobox",this.ulElm.ariaExpanded="false",this.ulElm.ariaMultiSelectable=String(!this.options.single),this.dropElm?.appendChild(this.ulElm),this.options.showOkButton&&!this.options.single&&(this.okButtonElm=ri("button",{className:"ms-ok-button",type:"button",textContent:this.formatOkButton()},this.dropElm)),this.initListItems()}initListItems(){let e=0,t=this.getListRows();if(this.options.selectAll&&!this.options.single&&(e=-1),t.length>ls.BLOCK_ROWS*ls.CLUSTER_BLOCKS){let i=this.dropElm&&this.dropElm?.style.display!=="none";!i&&this.dropElm&&(this.dropElm.style.left="-10000",this.dropElm.style.display="block",this.dropElm.ariaExpanded="true");let s=()=>{if(this.virtualScroll){this._currentHighlightIndex=0,this.updateDataStart=this.virtualScroll.dataStart+e,this.updateDataEnd=this.virtualScroll.dataEnd+e,this.updateDataStart<0&&(this.updateDataStart=0,this._currentHighlightIndex=0);let n=this.getDataLength();this.updateDataEnd>n&&(this.updateDataEnd=n),this.ulElm&&(this.isMoveUpRecalcRequired?this.recalculateArrowMove("up"):this.virtualScroll.dataStart>this.updateDataStart&&this.recalculateArrowMove("down"))}};this.ulElm&&(this.virtualScroll?this.virtualScroll.reset(t):this.virtualScroll=new mk({rows:t,scrollEl:this.ulElm,contentEl:this.ulElm,sanitizer:this.options.sanitizer,callback:()=>{s(),this.events()}})),s(),!i&&this.dropElm&&(this.dropElm.style.left="0",this.dropElm.style.display="none",this.dropElm.ariaExpanded="false")}else this.ulElm&&(oh(this.ulElm),t.forEach(i=>this.ulElm.appendChild(Dm(i)))),this.updateDataStart=0,this.updateDataEnd=this.updateData.length;return this.events(),t}getEventTarget(e){return e.composedPath?e.composedPath()[0]:e.target}getListRows(){let e=[];return this.updateData=[],this.data?.forEach(t=>e.push(...this.initListItem(t))),this.options.infiniteScroll&&e.push({tagName:"li",props:{className:"ms-infinite-option",role:"option"}}),e.push({tagName:"li",props:{className:"ms-no-results",textContent:this.formatNoMatchesFound()}}),e}initListItem(e,t=0){let i=e?.title||"",s=this.options.multiple?"multiple":"",n=this.options.single?"radio":"checkbox",o=!!e?.selected,r=this.options.single&&!this.options.singleRadio,a="";if(!e?.visible)return[];if(this.updateData.push(e),r&&(a="hide-radio "),e.selected&&(a+="selected "),e.type==="optgroup"){let f=[],g;if(this.options.hideOptgroupCheckboxes||this.options.single)g={tagName:"span",props:{dataset:{name:this.selectGroupName,key:e._key}}};else{let y={tagName:"input",props:{type:"checkbox",dataset:{name:this.selectGroupName,key:e._key},checked:o,disabled:e.disabled}};r?g=y:g={tagName:"div",props:{className:`icon-checkbox-container${n==="radio"?" radio":""}`},children:[y,{tagName:"div",props:{className:`ms-icon ${o?n==="radio"?"ms-icon-radio":"ms-icon-check":"ms-icon-uncheck"}`}}]}}!a.includes("hide-radio")&&(this.options.hideOptgroupCheckboxes||this.options.single)&&(a+="hide-radio ");let _={tagName:"span",props:{}};this.applyAsTextOrHtmlWhenEnabled(_.props,e.label);let v={tagName:"li",props:{className:Mm(`group${this.options.single||e.disabled?" disabled":""} ${a}`).join(" "),role:"option",ariaSelected:String(o),dataset:{key:e._key}},children:[{tagName:"label",props:{className:Mm(`optgroup${this.options.single||e.disabled?" disabled":""}`).join(" ")},children:[g,_]}]},C=this.options.cssStyler(e);return C&&(v.props.style=C),f.push(v),e.children.forEach(y=>f.push(...this.initListItem(y,1))),f}if(a+=e.classes||"",t&&this.options.single&&(a+=`option-level-${t} `),e.divider)return[{tagName:"li",props:{className:"option-divider"}}];let l=s||a?(s+a).trim():"";e.disabled&&(l+=" disabled");let d=`${e.disabled?"disabled":""}`,c={tagName:"span",props:{}};this.applyAsTextOrHtmlWhenEnabled(c.props,e.text);let h={tagName:"input",props:{type:n,value:encodeURI(e.value),dataset:{key:e._key,name:this.selectItemName},checked:o,disabled:!!e.disabled}};e.selected&&(h.attrs={checked:"checked"});let u={tagName:"div",props:{className:`icon-checkbox-container${n==="radio"?" radio":""}`},children:[h,{tagName:"div",props:{className:`ms-icon ${h.props.checked?n==="radio"?"ms-icon-radio":"ms-icon-check":"ms-icon-uncheck"}`}}]},p={tagName:"li",props:{role:"option",title:i,ariaSelected:String(o),dataset:{key:e._key}},children:[{tagName:"label",props:{className:d},children:[r?h:u,c]}]};l&&(p.props.className=l);let m=this.options.cssStyler(e);return m&&(p.props.style=m),[p]}initSelected(e=!1){let t=0;for(let i of this.data||[])if(i.type==="optgroup"){let s=i.children.filter(n=>n?.selected&&!n.disabled&&n.visible).length;i.children.length&&(i.selected=!this.options.single&&s&&s===i.children.filter(n=>n&&!n.disabled&&n.visible&&!n.divider).length),t+=s}else t+=i.selected&&!i.disabled&&i.visible?1:0;this.isAllSelected=this.data?.filter(i=>i.selected&&!i.disabled&&i.visible).length===this.data?.filter(i=>!i.disabled&&i.visible&&!i.divider).length,this.isPartiallyAllSelected=!this.isAllSelected&&t>0,e||(this.isAllSelected?this.options.onCheckAll():t===0&&this.options.onUncheckAll())}initView(){let e;window.getComputedStyle?(e=window.getComputedStyle(this.elm).width,e==="auto"&&(e=nh(this.dropElm,"outer","width")+20)):e=nh(this.elm,"outer","width")+20,this.parentElm.style.width=`${this.options.width||e}px`,this.elm.classList.add("ms-offscreen")}events(){this._bindEventService.unbindAll(["ok-button","search-input","select-all-checkbox","input-checkbox-list","group-checkbox-list","hover-highlight","arrow-highlight","option-list-scroll"]),this.clearSearchIconElm=this.filterParentElm?.querySelector(".ms-icon-close"),this.searchInputElm=this.dropElm?.querySelector(".ms-search input"),this.selectAllElm=this.dropElm?.querySelector(`input[data-name="${this.selectAllName}"]`),this.selectGroupElms=this.dropElm?.querySelectorAll(`input[data-name="${this.selectGroupName}"],span[data-name="${this.selectGroupName}"]`),this.selectItemElms=this.dropElm?.querySelectorAll(`input[data-name="${this.selectItemName}"]:enabled`),this.noResultsElm=this.dropElm?.querySelector(".ms-no-results");let e=t=>{t.preventDefault(),!this.getEventTarget(t).classList.contains("ms-icon-close")&&(this.options.isOpen?this.close("toggle.close"):this.open())};this.labelElm&&this._bindEventService.bind(this.labelElm,"click",t=>{this.getEventTarget(t).nodeName.toLowerCase()==="label"&&(e(t),(!this.options.filter||!this.options.isOpen)&&this.focus(),t.stopPropagation())}),this._bindEventService.bind(this.choiceElm,"click",e),this.options.onFocus&&this._bindEventService.bind(this.choiceElm,"focus",this.options.onFocus),this.options.onBlur&&this._bindEventService.bind(this.choiceElm,"blur",this.options.onBlur),this._bindEventService.bind(this.parentElm,"keydown",t=>{t.code==="Escape"&&this.handleEscapeKey()}),this.closeElm&&this._bindEventService.bind(this.closeElm,"click",t=>{t.preventDefault(),this._checkAll(!1,!0),this.initSelected(!1),this.updateSelected(),this.update(),this.options.onClear()}),this.clearSearchIconElm&&this._bindEventService.bind(this.clearSearchIconElm,"click",t=>{t.preventDefault(),this.searchInputElm&&(this.searchInputElm.value="",this.searchInputElm.focus()),this._currentHighlightIndex=-1,this.moveHighlightDown(),this.filter(),this.options.onFilterClear()}),this.searchInputElm&&(this._bindEventService.bind(this.searchInputElm,"keydown",t=>{t.code==="Tab"&&t.shiftKey&&this.close("key.shift+tab")},void 0,"search-input"),this._bindEventService.bind(this.searchInputElm,"keyup",t=>{if(this.options.filterAcceptOnEnter&&["Enter","Space"].includes(t.code)&&this.searchInputElm?.value){if(this.options.single){let i=[];this.selectItemElms?.forEach(s=>{s.closest("li")?.style.display!=="none"&&i.push(s)}),i.length&&i[0].hasAttribute("data-name")&&this.setSelects([i[0].value])}else this.selectAllElm?.click();this.close(`key.${t.code.toLowerCase()}`),this.focus();return}this.filter()},void 0,"search-input")),this.selectAllElm&&this._bindEventService.bind(this.selectAllElm,"click",t=>this._checkAll(t.currentTarget?.checked),void 0,"select-all-checkbox"),this.okButtonElm&&this._bindEventService.bind(this.okButtonElm,"click",t=>{e(t),t.stopPropagation()},void 0,"ok-button"),this.selectGroupElms&&this._bindEventService.bind(this.selectGroupElms,"click",t=>{let i=t.currentTarget,s=i.checked,n=sh(this.data,"_key",i.dataset.key);this._checkGroup(n,s),this.options.onOptgroupClick(Tm({label:n.label,selected:n.selected,data:n._data,children:n.children.map(o=>{if(o)return Tm({text:o.text,value:o.value,selected:o.selected,disabled:o.disabled,data:o._data})})}))},void 0,"group-checkbox-list"),this.selectItemElms&&this._bindEventService.bind(this.selectItemElms,"click",t=>{let i=t.currentTarget,s=i.checked,n=sh(this.data,"_key",i.dataset.key),o=()=>{this.options.single&&this.options.isOpen&&!this.options.keepOpen&&this.close("selection")};if(this.options.onBeforeClick(n)===!1){o();return}this._check(n,s),this.options.onClick(Tm({text:n.text,value:n.value,selected:n.selected,data:n._data})),o()},void 0,"input-checkbox-list"),this.lastFocusedItemKey&&this.dropElm&&this.dropElm.querySelector(`li[data-key=${this.lastFocusedItemKey}]`)?.focus(),this.options.navigationHighlight&&this.dropElm&&(this._bindEventService.bind(this.dropElm,"mouseover",t=>{let i=this.getEventTarget(t).closest(".ms-select-all")||this.getEventTarget(t).closest("li");if(this.dropElm?.contains(i)&&this.lastMouseOverPosition!==`${t.clientX}:${t.clientY}`){let s=this.dropElm?.querySelectorAll(vl)||[],n=Array.from(s).findIndex(o=>o.dataset.key===i.dataset.key);this._currentHighlightIndex!==n&&!i.classList.contains("disabled")&&(this._currentSelectedElm=i,this._currentHighlightIndex=n,this.changeCurrentOptionHighlight(i))}this.lastMouseOverPosition=`${t.clientX}:${t.clientY}`},void 0,"hover-highlight"),this._bindEventService.bind(this.dropElm,"keydown",t=>{switch(t.key){case"ArrowUp":t.preventDefault(),this.moveHighlightUp();break;case"ArrowDown":t.preventDefault(),this.moveHighlightDown();break;case"Escape":this.handleEscapeKey();break;case"Enter":case" ":{if(document.activeElement!==this.okButtonElm){let i=this.getEventTarget(t).closest(".ms-select-all")||this.getEventTarget(t).closest("li");if(t.key===" "&&this.options.filter||this.options.filterAcceptOnEnter&&!i)return;t.preventDefault(),this._currentSelectedElm?.querySelector("input")?.click(),this.options.single&&(this.choiceElm.focus(),this.lastFocusedItemKey=this.choiceElm?.dataset.key||"")}break}case"Tab":{t.preventDefault(),t.shiftKey?document.activeElement===this.okButtonElm?(this.focusSelectAllOrList(),this.highlightCurrentOption()):(this.close("key.shift+tab"),this.choiceElm.focus()):(this.changeCurrentOptionHighlight(),this.okButtonElm?.focus());break}}},void 0,"arrow-highlight")),this.ulElm&&this.options.infiniteScroll&&this._bindEventService.bind(this.ulElm,"scroll",this.infiniteScrollHandler.bind(this),void 0,"option-list-scroll")}handleEscapeKey(){this.options.keepOpen||(this.close("key.escape"),this.choiceElm.focus())}infiniteScrollHandler(e,t,i){let s=!1;e&&this.getEventTarget(e)&&this.ulElm&&this.scrolledByMouse?this.getEventTarget(e).scrollTop+this.getEventTarget(e).clientHeight===this.ulElm.scrollHeight&&(s=!0):t!==void 0&&t+1===i&&(s=!0),s&&this.ulElm&&(this.virtualScroll?this.initListItems():this.ulElm.scrollTop=0,this._currentHighlightIndex=0,this.highlightCurrentOption())}open(e=0){return new Promise(t=>{e!==null&&e>=0?(window.clearTimeout(this.openDelayTimer),this.openDelayTimer=window.setTimeout(()=>{this.openDrop(),t()},e)):(this.openDrop(),t())})}openDrop(){if(!this.dropElm||this.choiceElm?.classList.contains("disabled"))return;if(this.options.isOpen=!0,this.parentElm.classList.add("ms-parent-open"),this.choiceElm?.querySelector("div.ms-icon-caret")?.classList.add("open"),this.dropElm.style.display="block",this.dropElm.ariaExpanded="true",this.selectAllElm?.parentElement&&(this.selectAllElm.parentElement.style.display="inline-flex"),this.noResultsElm&&(this.noResultsElm.style.display="none"),this.getDataLength()||(this.selectAllElm?.parentElement&&(this.selectAllElm.parentElement.style.display="none"),this.noResultsElm&&(this.noResultsElm.style.display="block")),this.options.container){let s=Am(this.dropElm),n;this.options.container instanceof Node?n=this.options.container:typeof this.options.container=="string"&&(n=this.options.container==="body"?document.body:document.querySelector(this.options.container)),n.appendChild(this.dropElm),this.dropElm.style.top=`${s?.top??0}px`,this.dropElm.style.left=`${s?.left??0}px`,this.dropElm.style.minWidth="auto",this.dropElm.style.width=`${nh(this.parentElm,"outer","width")}px`}let e=this.options.minHeight,t=this.options.maxHeight;this.options.maxHeightUnit==="row"&&(t=nh(this.dropElm.querySelector("ul>li"),"outer","height")*this.options.maxHeight),this.ulElm??=this.dropElm.querySelector("ul"),this.ulElm&&(e&&(this.ulElm.style.minHeight=`${e}px`),this.ulElm.style.maxHeight=`${t}px`),this.dropElm.querySelectorAll(".multiple").forEach(s=>{s.style.width=`${this.options.multipleWidth}px`}),this.getDataLength()&&this.options.filter?(this.searchInputElm&&(this.searchInputElm.value="",this.searchInputElm.focus()),this.filter(!0)):this.focusSelectAllOrList(),this._currentHighlightIndex<0?this.moveHighlightDown():this.highlightCurrentOption(),this.options.autoAdjustDropWidthByTextSize&&this.adjustDropWidthByText();let i=this.options.position;if(this.options.autoAdjustDropHeight){if(this.options.autoAdjustDropPosition){let{bottom:s,top:n}=Om(this.dropElm),o=this.dropElm.getBoundingClientRect().height;i=s<o&&n>s?"top":"bottom"}this.adjustDropHeight(i)}this.options.autoAdjustDropPosition&&this.adjustDropPosition(!0),this.options.onOpen()}focusSelectAllOrList(){this.selectAllElm?this.selectAllElm.focus():this.ulElm&&(this.ulElm.tabIndex=0,this.ulElm.focus())}highlightCurrentOption(){let e=this.dropElm?.querySelectorAll(vl)||[];if(this._currentHighlightIndex<=e.length){let t=e[this._currentHighlightIndex];t&&(this.lastFocusedItemKey=t.dataset.key||"",this._currentSelectedElm=t,this.scrolledByMouse=!1,t.scrollIntoView({block:"nearest"}),this.changeCurrentOptionHighlight(t),window.setTimeout(()=>this.scrolledByMouse=!0,10))}}changeCurrentOptionHighlight(e){e?.classList.add("highlighted"),(this.dropElm?.querySelectorAll(fk)||[]).forEach(t=>{t!==e&&t.classList.remove("highlighted")})}moveHighlightDown(){let e=this.dropElm?.querySelectorAll(vl)||[],t=e.length;this._currentHighlightIndex<t-1?(this._currentHighlightIndex++,e[this._currentHighlightIndex]?.classList.contains("disabled")&&this.moveHighlightDown()):this.options.infiniteScroll&&this.infiniteScrollHandler(null,this._currentHighlightIndex,t),this.highlightCurrentOption()}moveHighlightUp(){let e=this.dropElm?.querySelectorAll(vl)||[],t=this.options.single?0:1;if(this.virtualScroll&&this._currentHighlightIndex<=t&&this.updateDataStart>0&&this.ulElm){let i=e[this._currentHighlightIndex+(this.options.single?0:1)],s=i?.dataset.key;this.lastFocusedItemKey=s,this.ulElm.scrollTop=this.ulElm.scrollTop-i?.getBoundingClientRect().height||10,this.isMoveUpRecalcRequired=!0;return}this._currentHighlightIndex>0&&(this._currentHighlightIndex--,e[this._currentHighlightIndex]?.classList.contains("disabled")&&this.moveHighlightUp()),this.highlightCurrentOption()}recalculateArrowMove(e){let t=this.dropElm?.querySelectorAll(vl)||[],i=Array.from(t).findIndex(s=>s.dataset.key===this.lastFocusedItemKey);this._currentHighlightIndex=i-1,e==="down"?this.moveHighlightDown():e==="up"&&(this.moveHighlightUp(),this.isMoveUpRecalcRequired=!1)}close(e){this.options.isOpen=!1,this.parentElm.classList.remove("ms-parent-open"),this.choiceElm?.querySelector("div.ms-icon-caret")?.classList.remove("open"),this.dropElm&&(this.dropElm.style.display="none",this.dropElm.ariaExpanded="false",this.options.container&&(this.parentElm.appendChild(this.dropElm),this.dropElm.style.top="auto",this.dropElm.style.left="auto")),this.options.onClose(e)}applyAsTextOrHtmlWhenEnabled(e,t){e||(e={}),this.isRenderAsHtml?e.innerHTML=typeof this.options.sanitizer=="function"?this.options.sanitizer(t):t:e.textContent=t}update(e=!1){let t=this.getSelects(),i=this.getSelects("text");this.options.displayValues&&(i=t);let s=this.choiceElm?.querySelector("span"),n=t.length,o=null,r=()=>{if(this.options.useSelectOptionLabel||this.options.useSelectOptionLabelToHtml){let l=t.join(this.options.displayDelimiter);return this.options.useSelectOptionLabelToHtml?ck(l):l}return i.join(this.options.displayDelimiter)};if(s){if(n===0){let l=this.options.placeholder||"";s.classList.add("ms-placeholder"),this.applyAsTextOrHtmlWhenEnabled(s,l)}else n<this.options.minimumCountSelected?o=r():this.formatAllSelected()&&n===this.dataTotal?o=this.formatAllSelected():this.options.ellipsis&&n>this.options.minimumCountSelected?o=`${i.slice(0,this.options.minimumCountSelected).join(this.options.displayDelimiter)}...`:this.formatCountSelected(n,this.dataTotal)&&n>this.options.minimumCountSelected?o=this.formatCountSelected(n,this.dataTotal):o=r();if(o!==null&&(s?.classList.remove("ms-placeholder"),this.applyAsTextOrHtmlWhenEnabled(s,o)),this.options.showClear&&this.selectClearElm){let l=o?"block":"none";this.selectClearElm.style.display=l}if(this.options.displayTitle){let l=this.options.useSelectOptionLabel||this.options.useSelectOptionLabelToHtml?"value":"text";s.title=this.getSelects(l).join(this.options.displayDelimiter)}}let a=this.getSelects();this.options.single?this.elm.value=a.length?a[0]:"":Array.from(this.elm.options).forEach(l=>{l.selected=a.some(d=>d===l.value)}),e||this.elm.dispatchEvent(new Event("change"))}updateSelected(e){for(let i=this.updateDataStart;i<this.updateDataEnd;i++){let s=this.updateData[i],n=this.dropElm?.querySelector(`input[data-key=${s._key}]`);if(n){n.checked=s.selected;let o=n.closest("li"),r=o?.querySelector(".icon-checkbox-container div");o&&(s.selected&&!o.classList.contains("selected")?(o.classList.add("selected"),o.ariaSelected="true",r&&(r.className=`ms-icon ms-icon-${n.type==="radio"?"radio":"check"}`)):s.selected||(o.classList.remove("selected"),o.ariaSelected="false",r&&(r.className="ms-icon ms-icon-uncheck")))}}let t=this.data?.filter(i=>i.visible).length===0;if(this.selectAllElm){this.selectAllElm.ariaChecked=String(this.isAllSelected);let i=this.dropElm?.querySelector(".ms-select-all .icon-checkbox-container div");if(i){let s="";this.isAllSelected?s="ms-icon-check":this.isPartiallyAllSelected?s="ms-icon-minus":s="ms-icon-uncheck",i.className=`ms-icon ${s}`}this.selectAllElm.checked=this.isAllSelected,AS(this.selectAllElm.closest("li"),!t)}AS(this.noResultsElm,t),this.virtualScroll&&(this.virtualScroll.rows=e??this.getListRows())}getData(){return this.options.data}getDataLength(){return this.data?.length??0}getOptions(e=!0){let t=Object.assign({},this.options);return delete t.data,e?Rm(t):this.options}refreshOptions(e){ak(this.options,e,!0)||(this.options=Object.assign(this.options,e),this.destroy(!1),this.init())}getDropElement(){return this.dropElm}getParentElement(){return this.parentElm}getSelects(e="value"){let t=[];for(let i of this.data||[])if(i.type==="optgroup"){let s=i.children.filter(n=>n?.selected);if(!s.length)continue;if(e==="value"||this.options.single)t.push(...s.map(n=>e==="value"&&n._value||n[e]));else{let n=[];n.push("["),n.push(i.label),n.push(`: ${s.map(o=>o[e]).join(", ")}`),n.push("]"),t.push(n.join(""))}}else i.selected&&t.push(e==="value"&&i._value||i[e]);return t}setSelects(e,t="value",i=!1){let s=!1,n=o=>{for(let r of o){let a=!1;if(t==="text"){let l=document.createElement("div");this.applyAsTextOrHtmlWhenEnabled(l,r.text),a=e.includes(l.textContent?.trim()??"")}else a=e.includes(r._value||r.value),!a&&r.value===`${+r.value}`&&(a=e.includes(+r.value));r.selected!==a&&(s=!0),r.selected=a}};for(let o of this.data||[])o.type==="optgroup"?n(o.children):n([o]);s&&(this.initSelected(i),this.updateSelected(),this.update(i))}enable(){this.choiceElm&&(this.choiceElm.classList.remove("disabled"),this.choiceElm.disabled=!1)}disable(){this.choiceElm&&(this.choiceElm?.classList.add("disabled"),this.choiceElm.disabled=!0)}check(e){let t=sh(this.data,"value",e);t&&this._check(t,!0)}uncheck(e){let t=sh(this.data,"value",e);t&&this._check(t,!1)}_check(e,t){this.options.single&&this._checkAll(!1,!0),e.selected=t,this.initSelected(),this.updateSelected(),this.update()}checkAll(){this._checkAll(!0)}uncheckAll(){this._checkAll(!1)}_checkAll(e,t){for(let i of this.data||[])i.type==="optgroup"?this._checkGroup(i,e,!0):!i.disabled&&!i.divider&&(t||i.visible)&&(i.selected=e);t||(this.initSelected(),this.updateSelected(),this.update())}_checkGroup(e,t,i){e.selected=t,e.children.forEach(s=>{s&&!s.disabled&&!s.divider&&(i||s.visible)&&(s.selected=t)}),i||(this.initSelected(),this.updateSelected(),this.update())}checkInvert(){if(!this.options.single){for(let e of this.data||[])if(e.type==="optgroup")for(let t of e.children)t&&(t.divider||(t.selected=!t.selected));else e&&!e.divider&&(e.selected=!e.selected);this.initSelected(),this.updateSelected(),this.update()}}focus(){this.choiceElm?.focus(),this.options.onFocus()}blur(){this.choiceElm?.blur(),this.options.onBlur()}refresh(){this.destroy(!1),this.init()}filter(e){let t=this.searchInputElm?.value.trim()??"",i=t.toLowerCase();if(this.filterText===i)return;this.filterText=i;for(let n of this.data||[])if(n.type==="optgroup")if(this.options.filterGroup){let o=`${n?.label??""}`;if(n!=null){let r=this.options.customFilter({label:Zr(o.toString().toLowerCase(),this.options.diacriticParser),search:Zr(i,this.options.diacriticParser),originalLabel:o,originalSearch:t,row:n});n.visible=r;for(let a of n.children)a&&(a.visible=r)}}else{for(let o of n.children)if(o!=null){let r=`${o?.text??""}`;o.visible=this.options.customFilter({text:Zr(r.toString().toLowerCase(),this.options.diacriticParser),search:Zr(i,this.options.diacriticParser),originalText:r,originalSearch:t,row:o,parent:n})}n.visible=n.children.filter(o=>o?.visible).length>0}else{let o=`${n?.text??""}`;n.visible=this.options.customFilter({text:Zr(o.toString().toLowerCase(),this.options.diacriticParser),search:Zr(i,this.options.diacriticParser),originalText:o,originalSearch:t,row:n})}let s=this.initListItems();this.initSelected(e),this.updateSelected(s),e||this.options.onFilter(t)}adjustDropHeight(e){let t=e!=="top",i=this.filterParentElm?.getBoundingClientRect().height??0,s=this.okButtonElm?.getBoundingClientRect().height??0,n=this.options.single?0:this.selectAllParentElm?.getBoundingClientRect().height??0,o=i+s+n+5,{bottom:r,top:a}=Om(this.parentElm),l=this.options.maxHeight;if(t?l=r-o-this.options.adjustedHeightPadding:l=a-o-this.options.adjustedHeightPadding,!this.options.maxHeight||this.options.maxHeight&&l<this.options.maxHeight){let d=this.dropElm?.querySelector("ul");return d&&(d.style.maxHeight=`${l}px`),!0}return!1}adjustDropPosition(e){let t="bottom";if(this.dropElm&&this.parentElm){let{bottom:i,top:s}=Om(this.dropElm),{top:n,left:o}=Am(this.parentElm),r=this.dropElm.getBoundingClientRect().height,a=this.dropElm.getBoundingClientRect().width,l=document.body.offsetWidth||window.innerWidth,d=this.parentElm.getBoundingClientRect().width;if(i>r)t="bottom";else if(r>i&&s>i){if(this.options.container){let c=n-r;c<0&&(c=0),(c>0||e)&&(t="top",this.dropElm.style.top=`${c<0?0:c}px`)}else t="top",this.dropElm.classList.add(t);this.dropElm.classList.remove("bottom")}l-a<o&&(this.dropElm.style.left=`${o-(a-d)}px`)}return t}adjustDropWidthByText(){if(this.dropElm){let e=this.parentElm.scrollWidth;(this.options.dropWidth||this.options.width)&&(e=this.options.dropWidth||this.options.width||0);let t=this.dropElm.querySelector(".ms-select-all span"),i=this.dropElm.querySelector("ul"),s=26,n=t?.clientWidth??0+s,o=i.scrollHeight>i.clientHeight?this.getScrollbarWidth():0,r=0;this.dropElm.querySelectorAll("li label").forEach(a=>{a.scrollWidth>r&&(r=a.scrollWidth)}),r+=s+o,r<n&&(r=n),this.options.maxWidth&&r>this.options.maxWidth&&(r=this.options.maxWidth),this.options.minWidth&&r<this.options.minWidth&&(r=this.options.minWidth),(e==="100%"||+e<r)&&(this.dropElm.style.width=`${r}px`,this.dropElm.style.maxWidth=`${r}px`)}}getScrollbarWidth(){let e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e);let t=e.offsetWidth;e.style.overflow="scroll";let i=document.createElement("div");i.style.width="100%",e.appendChild(i);let s=i.offsetWidth;return e.parentNode?.removeChild(e),t-s}formatAllSelected(){return this.options.allSelectedText||this.options.formatAllSelected()}formatCountSelected(e,t){return this.options.countSelectedText?this.options.countSelectedText.replace("#",`${e}`).replace("%",`${t}`):this.options.formatCountSelected(e,t)}formatNoMatchesFound(){return this.options.noMatchesFoundText||this.options.formatNoMatchesFound()}formatOkButton(){return this.options.okButtonText||this.options.formatOkButton()}formatSelectAll(){return this.options.selectAllText||this.options.formatSelectAll()}},$o=(e,t)=>typeof e=="string"?Im(document.querySelectorAll(e),t):e instanceof Node?Im([e],t):Im(e,t);function Im(e,t){let i=Array.from(e),s=[];for(let n=0;n<i.length;n++){let o=i[n];try{o._multipleSelect!==void 0&&(o._multipleSelect.destroy(),delete o._multipleSelect),o._multipleSelect=new gk(o,t||{}),o._multipleSelect.init();let r=o._multipleSelect.getOptions(!1);r.onHardDestroy=()=>delete o._multipleSelect,r.onAfterHardDestroyed=()=>s[n]=null,s.push(o._multipleSelect)}catch(r){console.error(r)}}return s.length===1?s[0]:s}$o.defaults=ls.DEFAULTS;$o.locales=N({},kS);$o.methods=ls.METHODS;typeof window<"u"&&(window.multipleSelect=$o);var Jr=class{constructor(t,i,s,n=!0){this.translaterService=t,this.collectionService=i,this.rxjs=s,this._isMultipleSelect=!0,this._collectionLength=0,this._collectionObservers=[],this._shouldTriggerQuery=!0,this._isLazyDataLoaded=!1,this.isFilled=!1,this.enableTranslateLabel=!1,this.subscriptions=[],this._isMultipleSelect=n}get collectionOptions(){return this.columnDef?.filter?.collectionOptions??{}}get columnFilter(){return this.columnDef?.filter??{}}get customStructure(){return this.columnDef?.filter?.customStructure}get gridOptions(){return this.grid?.getOptions()??{}}get defaultOperator(){return this.isMultipleSelect?j.in:j.equal}get filterOptions(){return N(N({},this.gridOptions.defaultFilterOptions?.select),this.columnFilter?.filterOptions)}get isMultipleSelect(){return this._isMultipleSelect}get msInstance(){return this._msInstance}get selectOptions(){return this.defaultOptions}get operator(){return this.columnFilter?.operator??this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,!this.grid||!this.columnDef||!this.columnFilter||!this.columnFilter.collection&&!this.columnFilter.collectionAsync&&!this.columnFilter.collectionLazy)throw new Error(`[Slickgrid-Universal] You need to pass a "collection" (or "collectionAsync") for the MultipleSelect/SingleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }`);if(this.enableTranslateLabel=this.columnFilter?.enableTranslateLabel??!1,this.labelName=this.customStructure?.label??"label",this.labelPrefixName=this.customStructure?.labelPrefix??"labelPrefix",this.labelSuffixName=this.customStructure?.labelSuffix??"labelSuffix",this.optionLabel=this.customStructure?.optionLabel??"value",this.valueName=this.customStructure?.value??"value",this.enableTranslateLabel&&(!this.translaterService||typeof this.translaterService.translate!="function"))throw new Error('[select-filter] The Translate Service is required for the Select Filter to work correctly when "enableTranslateLabel" is set.');this._locales=this.gridOptions?.locales??A.locales,this.initMultipleSelectTemplate();let i=this.gridOptions?.defaultFilterPlaceholder||"";this.columnFilter?.placeholder&&(i=this.columnFilter.placeholder),this.defaultOptions.placeholder=i||"",this._isMultipleSelect&&this.columnDef?.filter&&(this.columnDef.filter.emptySearchTermReturnAllValues=this.columnDef.filter?.emptySearchTermReturnAllValues??!1);let s=this.columnFilter.collection||[];return new Promise((n,o)=>ai(this,null,function*(){try{let r;this.columnFilter.collectionAsync&&!this.columnFilter.collection?(r=xc(this.columnFilter.collectionAsync,this.columnDef,this.renderDomElement.bind(this),this.rxjs,this.subscriptions),n(r)):(r=s,this.renderDomElement(s),n(s)),(this.columnFilter.collectionAsync||this.columnFilter.enableCollectionWatch)&&(yield r??this.columnFilter.collectionAsync,this.watchCollectionChanges())}catch(r){o(r)}}))}clear(t=!0){this._msInstance&&this._collectionLength>0&&(this._msInstance.setSelects([]),this.updateFilterStyle(!1),this.searchTerms=[],this._shouldTriggerQuery=t,this.callback(void 0,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0)}destroy(){typeof this._msInstance?.destroy=="function"&&this._msInstance.destroy(),this.filterElm?.remove(),Nr(this.subscriptions)}getValues(){return this._msInstance?.getSelects()??[]}setValues(t,i,s=!1){t!==void 0&&this._msInstance&&(t=Array.isArray(t)?t.every(n=>Ao(n))?t.map(String):t:[t],this._msInstance.setSelects(t)),this.updateFilterStyle(this.getValues().length>0),this.operator=i||this.defaultOperator,s&&this.onTriggerEvent()}filterCollection(t){let i=t;if(this.columnFilter&&this.columnFilter.collectionFilterBy){let s=this.columnFilter.collectionFilterBy,n=this.columnFilter.collectionOptions?.filterResultAfterEachPass||null;i=this.collectionService?.filterCollection(i,s,n)||[]}return i}sortCollection(t){let i=t;if(this.columnFilter&&this.columnFilter.collectionSortBy){let s=this.columnFilter.collectionSortBy;i=this.collectionService?.sortCollection(this.columnDef,i,s,this.enableTranslateLabel)||[]}return i}watchCollectionChanges(){this.columnFilter?.collection&&(this._collectionObservers.push(Oo(this.columnFilter.collection,this.watchCallback.bind(this))),Pr(this.columnFilter,"collection",this.propertyObserverCallback.bind(this)))}propertyObserverCallback(t){this.renderDomElement(t||[]),this.columnFilter.collection&&this._collectionObservers.push(Oo(this.columnFilter.collection,this.watchCallback.bind(this)))}watchCallback(t){this.renderDomElement(this.columnFilter.collection||t||[])}parseCollectionList(t){return vm("filter",t,this.columnDef,this.grid,this.isMultipleSelect,this.translaterService,this.searchTerms||[])}renderDomElement(t){if(t=on(t,this.columnFilter),!Array.isArray(t))throw new Error('The "collection" passed to the Select Filter is not a valid array.');let i=[];if(t.length>0&&(i=[...t]),this.collectionOptions?.addBlankEntry&&Array.isArray(i)&&i.length>0&&i[0][this.valueName]!==""&&i.unshift(this.createBlankEntry()),this.collectionOptions?.addCustomFirstEntry&&Array.isArray(i)&&i.length>0&&i[0][this.valueName]!==this.collectionOptions.addCustomFirstEntry[this.valueName]&&i.unshift(this.collectionOptions.addCustomFirstEntry),this.collectionOptions?.addCustomLastEntry&&Array.isArray(i)&&i.length>0){let o=i.length-1;i[o][this.valueName]!==this.collectionOptions.addCustomLastEntry[this.valueName]&&i.push(this.collectionOptions.addCustomLastEntry)}let s=i;s=this.filterCollection(s),s=this.sortCollection(s);let n=this.parseCollectionList(s);this.isFilled=n.hasFoundSearchTerm,this.createFilterElement(n.selectElement,n.dataCollection),this._collectionLength=s.length}createBlankEntry(){let t={[this.labelName]:"",[this.valueName]:""};return this.labelPrefixName&&(t[this.labelPrefixName]=""),this.labelSuffixName&&(t[this.labelSuffixName]=""),t}createFilterElement(t,i){let s=this.columnDef?.id??"";this.elementName=`filter-${s}`,this.defaultOptions.name=this.elementName,Xe(this.filterContainerElm),this.filterElm=t,this.filterElm.dataset.columnId=`${s}`,this.updateFilterStyle(this.isFilled),this.filterContainerElm.appendChild(t),this.filterElmOptions=me(N(N({},this.defaultOptions),this.filterOptions),{data:i}),this._msInstance=$o(t,this.filterElmOptions),this.columnFilter.onInstantiated?.(this._msInstance)}initMultipleSelectTemplate(){let t=this.gridOptions?.enableTranslate??!1,s={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,name:`${this.columnDef?.id??""}`,container:"body",darkMode:!!this.gridOptions.darkMode,filter:!1,maxHeight:275,single:!0,singleRadio:!0,showSearchClear:!0,renderOptionLabelAsHtml:this.columnFilter?.enableRenderHtml??!1,sanitizer:n=>this.grid.sanitizeHtmlString(n),onClose:()=>this.onTriggerEvent(),onClear:()=>this.clear()};if(this.columnFilter.collectionLazy&&(s.onOpen=()=>{if(this.columnFilter.collectionLazy&&!this._isLazyDataLoaded){let n=this.columnFilter.collectionLazy(this.columnDef);Xa(n,this.rxjs).then(r=>{r=on(r,this.columnFilter),r=this.filterCollection(r),r=this.sortCollection(r);let a=this.parseCollectionList(r);this._msInstance?.refreshOptions({data:a.dataCollection}),this._isLazyDataLoaded=!0})}}),this._isMultipleSelect){s.single=!1,s.singleRadio=!1,s.showOkButton=!0,s.displayTitle=!0;let n=qi(this.gridOptions);s.countSelectedText=t&&this.translaterService?.translate?this.translaterService.translate(`${n}X_OF_Y_SELECTED`):this._locales?.TEXT_X_OF_Y_SELECTED,s.allSelectedText=t&&this.translaterService?.translate?this.translaterService.translate(`${n}ALL_SELECTED`):this._locales?.TEXT_ALL_SELECTED,s.noMatchesFoundText=t&&this.translaterService?.translate?this.translaterService.translate(`${n}NO_MATCHES_FOUND`):this._locales?.TEXT_NO_MATCHES_FOUND,s.okButtonText=t&&this.translaterService?.translate?this.translaterService.translate(`${n}OK`):this._locales?.TEXT_OK,s.selectAllText=t&&this.translaterService?.translate?this.translaterService.translate(`${n}SELECT_ALL`):this._locales?.TEXT_SELECT_ALL}this.defaultOptions=s}onTriggerEvent(){if(this._msInstance){let t=this.getValues();this.updateFilterStyle(Array.isArray(t)&&t.length>1||t.length===1&&t[0]!==""),this.searchTerms=t,this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:t,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0}}updateFilterStyle(t){t?(this.isFilled=!0,this.filterElm?.classList.add("filled"),this._msInstance?.getParentElement()?.classList.add("filled")):(this.isFilled=!1,this.filterElm?.classList.remove("filled"),this._msInstance?.getParentElement()?.classList.remove("filled"))}};var rh=class extends Jr{constructor(t,i,s){super(t,i,s,!0),this.translaterService=t,this.collectionService=i,this.rxjs=s}};var ah=class extends Jr{constructor(t,i,s){super(t,i,s,!1),this.translaterService=t,this.collectionService=i,this.rxjs=s}};var lh=class extends jn{constructor(t){super(t),this.translaterService=t,this.sliderType="single"}};var dh=class extends jn{constructor(t){super(t),this.translaterService=t,this.sliderType="double"}};var ch={autocompleter:Wc,compoundDate:Xc,compoundInput:bl,compoundInputNumber:Kc,compoundInputPassword:qc,compoundInputText:bl,compoundSlider:Zc,dateRange:Jc,input:Gt,inputMask:eh,inputNumber:th,inputPassword:ih,inputText:Gt,multipleSelect:rh,singleSelect:ah,slider:lh,sliderRange:dh};var _k={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoFixResizeTimeout:300*5,autoFixResizeRequiredGoodCount:2,autoFixResizeWhenBrokenStyleDetected:!1,autoParseInputFilterOperator:!0,autoResize:{applyResizeToContainer:!0,autoHeight:!0,autoHeightRecalcRow:100,calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:250,minWidth:300,rightPadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel",width:40},columnGroupSeparator:" - ",columnPicker:{hideForceFitButton:!1,hideSyncResizeButton:!0,headerColumnValueExtractor:NS},cellMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideCommandSection:!1,hideOptionSection:!1,showBulletWhenIconMissing:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},compositeEditorOptions:{labels:{cancelButtonKey:"CANCEL",cloneButtonKey:"CLONE",resetEditorButtonTooltipKey:"RESET_INPUT_VALUE",resetFormButtonKey:"RESET_FORM",massSelectionButtonKey:"APPLY_TO_SELECTION",massSelectionStatusKey:"X_OF_Y_MASS_SELECTED",massUpdateButtonKey:"APPLY_MASS_UPDATE",massUpdateStatusKey:"ALL_X_RECORDS_SELECTED",saveButtonKey:"SAVE"}},contextMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideClearAllGrouping:!1,hideCollapseAllGroups:!1,hideCommandSection:!1,hideCopyCellValueCommand:!1,hideExpandAllGroups:!1,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideMenuOnScroll:!0,hideOptionSection:!1,iconCollapseAllGroupsCommand:"mdi mdi-arrow-collapse",iconExpandAllGroupsCommand:"mdi mdi-arrow-expand",iconClearGroupingCommand:"mdi mdi-close",iconCopyCellValueCommand:"mdi mdi-content-copy",iconExportCsvCommand:"mdi mdi-download",iconExportExcelCommand:"mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"mdi mdi-download",showBulletWhenIconMissing:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},customFooterOptions:{dateFormat:"YYYY-MM-DD, hh:mm a",hideRowSelectionCount:!1,hideTotalItemCount:!1,hideLastUpdateTimestamp:!0,footerHeight:25,leftContainerClass:"col-xs-12 col-sm-5",rightContainerClass:"col-xs-6 col-sm-7",metricSeparator:"|",metricTexts:{itemsKey:"ITEMS",ofKey:"OF",itemsSelectedKey:"ITEMS_SELECTED"}},customTooltip:{tooltipTextMaxLength:700,maxWidth:500},dataView:{syncGridSelection:{preserveHidden:!1,preserveHiddenOnSelectionChange:!0},syncGridSelectionWithBackendService:!1},datasetIdPropertyName:"id",defaultFilter:ch.input,defaultBackendServiceFilterTypingDebounce:500,enableFilterTrimWhiteSpace:!1,defaultFilterPlaceholder:"\u{1F50E}\uFE0E",defaultFilterRangeOperator:j.rangeInclusive,defaultColumnSortFieldId:"id",draggableGrouping:{hideToggleAllButton:!1,toggleAllButtonText:"",dropPlaceHolderTextKey:"DROP_COLUMN_HEADER_TO_GROUP_BY"},editable:!1,editorTypingDebounce:450,filterTypingDebounce:0,enableEmptyDataWarningMessage:!0,emptyDataWarning:{className:"slick-empty-data-warning",messageKey:"EMPTY_DATA_WARNING_MESSAGE",hideFrozenLeftWarning:!1,hideFrozenRightWarning:!1,leftViewportMarginLeft:"40%",rightViewportMarginLeft:"40%",frozenLeftViewportMarginLeft:"0px",frozenRightViewportMarginLeft:"40%"},enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableColumnResizeOnDoubleClick:!0,enableContextMenu:!0,enableExcelExport:!1,enableTextExport:!1,enableGridMenu:!0,enableHeaderMenu:!0,enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,explicitInitialization:!0,excelExportOptions:{addGroupIndentation:!0,autoDetectCellFormat:!0,exportWithFormatter:!1,filename:"export",format:Zs.xlsx,groupingColumnHeaderTitle:"Group By",groupCollapsedSymbol:"\u2B9E",groupExpandedSymbol:"\u2B9F",groupingAggregatorRowText:"",sanitizeDataExport:!0},textExportOptions:{delimiter:Mo.comma,exportWithFormatter:!1,filename:"export",format:Zs.csv,groupingColumnHeaderTitle:"Group By",groupingAggregatorRowText:"",sanitizeDataExport:!0,useUtf8WithBom:!0},eventNamingStyle:No.lowerCase,forceFitColumns:!1,frozenHeaderWidthCalcDifferential:1,gridMenu:{dropSide:"left",commandLabels:{clearAllFiltersCommandKey:"CLEAR_ALL_FILTERS",clearAllSortingCommandKey:"CLEAR_ALL_SORTING",clearFrozenColumnsCommandKey:"CLEAR_PINNING",exportCsvCommandKey:"EXPORT_TO_CSV",exportExcelCommandKey:"EXPORT_TO_EXCEL",exportTextDelimitedCommandKey:"EXPORT_TO_TAB_DELIMITED",refreshDatasetCommandKey:"REFRESH_DATASET",toggleDarkModeCommandKey:"TOGGLE_DARK_MODE",toggleFilterCommandKey:"TOGGLE_FILTER_ROW",togglePreHeaderCommandKey:"TOGGLE_PRE_HEADER_ROW"},hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideClearFrozenColumnsCommand:!0,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleFilterCommand:!1,hideToggleDarkModeCommand:!0,hideTogglePreHeaderCommand:!1,iconCssClass:"mdi mdi-menu",iconClearAllFiltersCommand:"mdi mdi-filter-remove-outline",iconClearAllSortingCommand:"mdi mdi-sort-variant-off",iconClearFrozenColumnsCommand:"mdi mdi-pin-off-outline",iconExportCsvCommand:"mdi mdi-download",iconExportExcelCommand:"mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"mdi mdi-download",iconRefreshDatasetCommand:"mdi mdi-sync",iconToggleDarkModeCommand:"mdi mdi-brightness-4",iconToggleFilterCommand:"mdi mdi-flip-vertical",iconTogglePreHeaderCommand:"mdi mdi-flip-vertical",menuWidth:16,resizeOnShowHeaderRow:!0,showBulletWhenIconMissing:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270",headerColumnValueExtractor:NS},headerMenu:{autoAlign:!0,autoAlignOffset:4,minWidth:140,iconClearFilterCommand:"mdi mdi-filter-remove-outline",iconClearSortCommand:"mdi mdi-sort-variant-off",iconFilterShortcutSubMenu:"mdi mdi-filter-outline",iconFreezeColumns:"mdi mdi-pin-outline",iconSortAscCommand:"mdi mdi-sort-ascending",iconSortDescCommand:"mdi mdi-sort-descending",iconColumnHideCommand:"mdi mdi-close",iconColumnResizeByContentCommand:"mdi mdi-arrow-expand-horizontal",hideColumnResizeByContentCommand:!1,hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideFreezeColumnsCommand:!0,hideSortCommands:!1,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},ignoreAccentOnStringFilterAndSort:!1,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!1,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},rowDetailView:{collapseAllOnSort:!0,cssClass:"detail-view-toggle",panelRows:1,keyPrefix:"__",useRowClick:!1,saveDetailViewOnScroll:!1},headerRowHeight:35,rowHeight:35,topPanelHeight:30,translationNamespaceSeparator:":",resetFilterSearchValueAfterOnBeforeCancellation:!0,resizeByContentOnlyOnFirstLoad:!0,resizeByContentOptions:{alwaysRecalculateColumnWidth:!1,cellCharWidthInPx:7.8,cellPaddingWidthInPx:14,defaultRatioForStringType:.88,formatterPaddingWidthInPx:0,maxItemToInspectCellContentWidth:1e3,maxItemToInspectSingleColumnWidthByContent:5e3,widthToRemoveFromExceededWidthReadjustment:50},treeDataOptions:{exportIndentMarginLeft:5,exportIndentationLeadingChar:"\u034F\u034F\u034F\u034F\u034F\u034F\u034F\u034F\u034F\xB7"}};function NS(e,t){let i=e?.columnPickerLabel??e?.name??"";(i instanceof HTMLElement||i instanceof DocumentFragment)&&(i=i.textContent||"");let s=e?.columnGroup||"",n=t?.columnGroupSeparator??" - ";return s?s+n+i:i}var HS=(e,t,i,s,n)=>{let o=s&&s.params||{},r=o.propertyNames,a=o?.includeTitle??!0,l=o.dataContextProperty;if(l||(l=s?.field?.split(".")[0]||""),!r||!Array.isArray(r)||!l)throw new Error(`Formatters.arrayObjectToCsv requires you to pass an array of "propertyNames" (declared in "params") that you want to pull the data from.
      For example, if we have an array of user objects that have the property of firstName & lastName then we need to pass in your column definition:: { params: { propertyNames: ['firtName'] }}.
      Optionally, you can also pass the "dataContextProperty" if you wish to run this on another completely different field of the dataContext object.`);if(n[l]&&Array.isArray(n[l])&&Array.isArray(n[l])&&n[l].length>0){let d=[];n[l].forEach(u=>{let p=[];r.forEach(m=>{p.push(u[m])}),d.push(p.join(" "))});let c=d.join(", "),h=R("span",{textContent:c});return a&&(h.title=c),h}return i};var Go=(e,t,i)=>{if(Array.isArray(i)&&i.length>0){let s=i.join(", ");return R("span",{title:s,textContent:s})}return i};var VS=(e,t,i)=>{let s=!1,n=Y(i);return n&&(i=+i),(i===!0||n&&+i>0||typeof i=="string"&&i.length>0&&i.toLowerCase()!=="false"&&i!=="0")&&(s=!0),s?R("i",{className:"mdi mdi-18px mdi-check checkmark-icon",ariaHidden:"true"}):""};var BS=(e,t,i,s,n,o)=>{if(!i||!s||!s.editor||!s.editor.collection||!s.editor.collection.length)return i;let{editor:r,editor:{collection:a}}=s,l=r.customStructure?r.customStructure.label:"label",d=r.customStructure?r.customStructure.value:"value";return Array.isArray(i)?a.every(c=>typeof c=="string")?Go(e,t,i.map(c=>Ts(a,h=>h===c)),s,n,o):Go(e,t,i.map(c=>Ts(a,h=>h[d]===c)[l]),s,n,o):Ts(a,c=>c[d]===i)[l]||""};var zS=(e,t,i,s,n,o)=>{if(!i||!s||!s.params||!s.params.collection||!s.params.collection.length)return i;let{params:r,params:{collection:a}}=s,l=r.customStructure?r.customStructure.label:"label",d=r.customStructure?r.customStructure.value:"value";return Array.isArray(i)?Go(e,t,i.map(c=>Ts(a,h=>h[d]===c)[l]),s,n,o):Ts(a,c=>c[d]===i)[l]||""};var Lm=(e,t,i,s,n)=>{if(!s)return"";let o=s.params||{},r=o?.complexField??o?.complexFieldLabel??s.field;if(!r)throw new Error(`For the Formatters.complexObject to work properly, you need to tell it which property of the complex object to use.
      There are 3 ways to provide it:
      1- via the generic "params" with a "complexField" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', params: { complexField: 'user.firstName' } }]
      2- via the generic "params" with a "complexField" and a "labelKey" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', labelKey: 'firstName', params: { complexField: 'user' } }]
      3- via the field name that includes a dot notation, example: this.columnDefs = [{ id: 'user', field: 'user.firstName'}] `);if(s.labelKey&&n.hasOwnProperty(r))return n[r]?.[s.labelKey];if(typeof r=="string"&&r.indexOf(".")>0){let a=r.split(".").reduce((l,d)=>l?.hasOwnProperty(d)?l[d]:"",n);return(a==null||typeof a=="object"&&Object.entries(a).length===0&&!(a instanceof Date))&&(a=""),a}return i};var WS=(e,t,i,s,n,o)=>{let{minDecimal:r,maxDecimal:a,numberPrefix:l,numberSuffix:d,decimalSeparator:c,thousandSeparator:h,wrapNegativeNumber:u}=Ce(s,o,"decimal","cell");return Y(i)?Ee(i,r,a,u,l,d,c,h):i};var $S=(e,t,i,s,n,o)=>{let{minDecimal:r,maxDecimal:a,decimalSeparator:l,thousandSeparator:d,wrapNegativeNumber:c}=Ce(s,o,"currency","cell");return Y(i)?Ee(i,r,a,c,"$","",l,d):i};var GS=(e,t,i,s,n,o)=>{let{minDecimal:r,maxDecimal:a,decimalSeparator:l,thousandSeparator:d,wrapNegativeNumber:c}=Ce(s,o,"currency","cell");if(Y(i)){let h=i>=0?"green":"red",u=Ee(i,r,a,c,"$","",l,d),p=R("span",{ariaHidden:"true",textContent:u});return p.style.color=h,p}return i};var US=(e,t,i,s,n,o)=>{let{minDecimal:r,maxDecimal:a,decimalSeparator:l,thousandSeparator:d,wrapNegativeNumber:c}=Ce(s,o,"currency","cell");if(Y(i)){let h=i>=0?"green":"red",u=Ee(i,r,a,c,"$","",l,d),p=R("span",{ariaHidden:"true",textContent:u});return p.style.color=h,p.style.fontWeight="bold",p}return i};var jS=(e,t,i,s,n,o)=>{let{currencyPrefix:r,currencySuffix:a,minDecimal:l,maxDecimal:d,numberPrefix:c,numberSuffix:h,decimalSeparator:u,thousandSeparator:p,wrapNegativeNumber:m}=Ce(s,o,"decimal","cell");if(Y(i)){let f=Ee(i,l,d,m,r,a,u,p);return`${c}${f}${h}`}return i};var YS=(e,t,i,s,n,o)=>{let r=s&&s.params||{},a=r.hyperlinkText?r.hyperlinkText:i;a=o.sanitizeHtmlString(a);let l=r.hyperlinkUrl?r.hyperlinkUrl:i;l=o.sanitizeHtmlString(l);let d=l.match(/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-.,@?^=%&amp;:/~+#]*[\w\-@?^=%&amp;/~+#])?/i);if(d&&Array.isArray(d)&&d.length>0){let c=d[0];return R("a",{href:c,textContent:a})}return i};var XS=(e,t,i,s)=>{let o=(s?.params||{}).cssClass;if(!o)throw new Error('[Slickgrid-Universal] When using `Formatters.iconBoolean`, you must provide You must provide the "cssClass", e.g.: { formatter: Formatters.iconBoolean, params: { cssClass: "mdi mdi-check" }}');let r=!1,a=!isNaN(i);return(i===!0||a&&parseFloat(i)>0||!a&&typeof i=="string"&&i.toLowerCase()!=="false"&&i!=="0")&&(r=!0),r?R("i",{className:o,ariaHidden:"true"}):""};var KS=(e,t,i,s)=>{let n=s?.params??{},o=n.iconCssClass||n.icon||n.formatterIcon;if(!o)throw new Error('[Slickgrid-Universal] When using `Formatters.icon`, you must provide the "iconCssClass" via the generic "params". (e.g.: `{ formatter: Formatters.icon, params: { iconCssClass: "mdi mdi-magnify" }}`');let r=n.title||null;return R("i",{className:o,ariaHidden:"true",title:r})};var qS=(e,t,i,s,n,o)=>{let a=(s.params||{}).mask;if(!a)throw new Error(`You must provide a "mask" via the generic "params" options (e.g.: { formatter: Formatters.mask, params: { mask: '000-000' }}`);if(i){let l=0,d=i.toString(),h=(o.getOptions()||{})?.preventDocumentFragmentUsage?document.createElement("span"):new DocumentFragment;return h.textContent=a.replace(/[09A]/gi,()=>d[l++]||""),h}return i};var QS=(e,t,i,s,n,o)=>{let{minDecimal:r,maxDecimal:a,decimalSeparator:l,thousandSeparator:d,wrapNegativeNumber:c}=Ce(s,o,"percent","cell");if(Y(i)){let h=i*100;return Ee(h,r,a,c,"","%",l,d)}return i};var ZS=(e,t,i)=>{if(!Y(i))return"";let s="",n=parseFloat(i);return n>100&&(n=100),n<30?s="red":n<70?s="silver":s="green",R("span",{className:"percent-complete-bar",title:`${n}%`,style:{background:s,width:`${n}%`}})};var JS=(e,t,i)=>{if(!Y(i))return"";let s="",n=parseFloat(i);return n>100&&(n=100),n<30?s="red":n<70?s="silver":s="green",R("div",{className:"percent-complete-bar-with-text",title:`${n}%`,textContent:`${n}%`,style:{background:s,width:`${n}%`}})};var ew=(e,t,i,s,n,o)=>{let{minDecimal:r,maxDecimal:a,decimalSeparator:l,thousandSeparator:d,wrapNegativeNumber:c}=Ce(s,o,"percent","cell");if(Y(i)){let h=i<50?"red":"green",u=Ee(i,r,a,c,"","%",l,d),p=i>100?"100%":u;return R("span",{textContent:p,style:{color:h}})}return i};var tw=(e,t,i,s,n,o)=>{let{minDecimal:r,maxDecimal:a,decimalSeparator:l,thousandSeparator:d,wrapNegativeNumber:c}=Ce(s,o,"percent","cell");return Y(i)?Ee(i,r,a,c,"","%",l,d):i};var iw=(e,t,i)=>{if(!Y(i))return"";let s="",n=parseFloat(i);n>100&&(n=100),n<30?s="danger":n<70?s="warning":s="success";let o=R("div",{className:"progress"});return o.appendChild(R("div",{className:`progress-bar progress-bar-${s} bg-${s}`,role:"progressbar",ariaValueNow:String(n),ariaValueMin:"0",ariaValueMax:"100",textContent:`${n}%`,style:{minWidth:"2em",width:`${n}%`}})),o};var sw=(e,t,i,s,n,o)=>{let a=(o?.getOptions()??{}).translater||s&&s.params&&s.params.translater;if(!a||typeof a.translate!="function")throw new Error(`"Formatters.translate" requires the Translate Service to be provided as a Grid Options "translater" (or "i18n" depending on which framework you use).
    For example: this.gridOptions = { enableTranslate: true, translater: this.translateService }`);return i!=null&&typeof i!="string"&&(i=i+""),i?a.translate(i):""};var nw=(e,t,i,s,n,o)=>{let r=o.getOptions(),a=r?.treeDataOptions,l=a?.collapsedPropName??A.treeDataProperties.COLLAPSED_PROP,d=a?.hasChildrenPropName??A.treeDataProperties.HAS_CHILDREN_PROP,c=a?.levelPropName??A.treeDataProperties.TREE_LEVEL_PROP,h=a?.exportIndentMarginLeft??5,u=a?.exportIndentationLeadingChar??".",p=a?.exportIndentationLeadingSpaceCount??3,m=r?.excelExportOptions?.groupCollapsedSymbol??"\u2B9E",f=r?.excelExportOptions?.groupExpandedSymbol??"\u2B9F",g=i;if(g=Lr(s,n,i),g==null||n===void 0)return"";if(!n.hasOwnProperty(c))throw new Error('[Slickgrid-Universal] You must provide valid "treeDataOptions" in your Grid Options, however it seems that we could not find any tree level info on the current item datacontext row.');let _=n?.[c]??0,v="",C=0;n[d]?(v=n?.[l]?m:f,C=_===0?0:h*_):C=h*(_===0?0:_+1);let y=lc(C);return a?.titleFormatter&&(g=_l(a.titleFormatter,e,t,s,n,o)),g=`${_===0&&v?"":_===0?`${u}${lc(p)}`:u}${y}${v} ${g}`,en(g)};var ow=(e,t,i,s,n,o)=>{let r=o.getOptions(),a=r?.treeDataOptions,l=a?.indentMarginLeft??15,d=a?.collapsedPropName??A.treeDataProperties.COLLAPSED_PROP,c=a?.hasChildrenPropName??A.treeDataProperties.HAS_CHILDREN_PROP,h=a?.levelPropName??A.treeDataProperties.TREE_LEVEL_PROP,u=i;if(u=Lr(s,n,i),u==null||n===void 0)return"";if(!n.hasOwnProperty(h))throw new Error('[Slickgrid-Universal] You must provide valid "treeDataOptions" in your Grid Options, however it seems that we could not find any tree level info on the current item datacontext row.');let p=n?.[h]??0,m=document.createElement("span");m.style.display="inline-block",m.style.width=`${l*p}px`;let f=`slick-tree-level-${p}`,g="";n[c]&&(g=n?.[d]?"collapsed":"expanded"),a?.titleFormatter&&(u=_l(a.titleFormatter,e,t,s,n,o));let _=`slick-group-toggle ${g}`.trim(),v=R("div",{className:_,ariaExpanded:String(g==="expanded")}),C=R("span",{className:"slick-tree-title"});o.applyHtmlCode(C,u),C.setAttribute("level",p);let y=r?.preventDocumentFragmentUsage?document.createElement("span"):new DocumentFragment;return y.appendChild(m),y.appendChild(v),y.appendChild(C),{addClasses:f,html:y}};var rw=(e,t,i,s,n,o)=>{let a=o.getOptions()?.treeDataOptions?.hasChildrenPropName??A.treeDataProperties.HAS_CHILDREN_PROP,{groupTotalsFormatter:l,treeTotalsFormatter:d,params:c}=s;if(!l&&!d)throw new Error('[Slickgrid-Universal] When using Formatters.treeParseTotals, you must provide a total formatter via "groupTotalsFormatter" or "treeTotalsFormatter".');if(n[a]&&n?.__treeTotals&&(l||d))return(d??l)(n?.__treeTotals,s,o);if(c.formatters){let h=i;for(let u of c.formatters)!n[a]&&!n?.__treeTotals&&typeof u=="function"&&(h=u(e,t,h,s,n,o)||i);return h}return i};var aw=(e,t,i,s,n,o)=>{let a=(o?.getOptions()??{}).translater||s&&s.params&&s.params.translater;if(!a||typeof a.translate!="function")throw new Error(`"Formatters.translateBoolean" requires the Translate Service to be provided as a Grid Options "translater" (or "i18n" depending on which framework you use).
    For example: this.gridOptions = { enableTranslate: true, translater: this.translateService }`);return i!=null&&typeof i!="string"&&(i=i+""),i?a.translate(i.toUpperCase()):""};var Sk={arrayObjectToCsv:HS,arrayToCsv:Go,checkmarkMaterial:VS,complex:Lm,complexObject:Lm,collection:zS,collectionEditor:BS,currency:jS,date:MS(),decimal:WS,dollar:$S,dollarColored:GS,dollarColoredBold:US,hyperlink:YS,icon:KS,iconBoolean:XS,mask:qS,multiple:Sm,percent:QS,percentComplete:ew,percentCompleteBar:ZS,percentCompleteBarWithText:JS,percentSymbol:tw,progressBar:iw,translate:sw,translateBoolean:aw,tree:ow,treeParseTotals:rw,treeExport:nw};Fr().forEach(e=>{let t=T[e];t&&t!==T.date&&(Sk[e]=OS(t,e))});var hie=me(N(N(N(N(N({},vp),Cp),Sp),Hp),Ip),{deepAssign:Do});var ea=class{},lw=(()=>{class e extends ea{getTranslation(i){return Hs({})}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ml(e)))(n||e)}})();static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})(),Cl=class{},dw=(()=>{class e{handle(i){return i.key}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();function Uo(e){return typeof e<"u"&&e!==null}function Fm(e){return e&&typeof e=="object"&&!Array.isArray(e)}function pw(e,t){let i=Object.assign({},e);return Fm(e)&&Fm(t)&&Object.keys(t).forEach(s=>{Fm(t[s])?s in e?i[s]=pw(e[s],t[s]):Object.assign(i,{[s]:t[s]}):Object.assign(i,{[s]:t[s]})}),i}var ta=class{},cw=(()=>{class e extends ta{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(i,s){let n;return typeof i=="string"?n=this.interpolateString(i,s):typeof i=="function"?n=this.interpolateFunction(i,s):n=i,n}getValue(i,s){let n=typeof s=="string"?s.split("."):[s];s="";do s+=n.shift(),Uo(i)&&Uo(i[s])&&(typeof i[s]=="object"||!n.length)?(i=i[s],s=""):n.length?s+=".":i=void 0;while(n.length);return i}interpolateFunction(i,s){return i(s)}interpolateString(i,s){return s?i.replace(this.templateMatcher,(n,o)=>{let r=this.getValue(s,o);return Uo(r)?r:n}):i}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ml(e)))(n||e)}})();static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})(),ia=class{},hw=(()=>{class e extends ia{compile(i,s){return i}compileTranslations(i,s){return i}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ml(e)))(n||e)}})();static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})(),hh=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new hs;onLangChange=new hs;onDefaultLangChange=new hs},Nm=new Kn("USE_STORE"),Hm=new Kn("USE_DEFAULT_LANG"),Vm=new Kn("DEFAULT_LANGUAGE"),Bm=new Kn("USE_EXTEND"),uw=(()=>{class e{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new hs;_onLangChange=new hs;_onDefaultLangChange=new hs;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(i){this.isolate?this._defaultLang=i:this.store.defaultLang=i}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(i){this.isolate?this._currentLang=i:this.store.currentLang=i}get langs(){return this.isolate?this._langs:this.store.langs}set langs(i){this.isolate?this._langs=i:this.store.langs=i}get translations(){return this.isolate?this._translations:this.store.translations}set translations(i){this.isolate?this._translations=i:this.store.translations=i}constructor(i,s,n,o,r,a=!0,l=!1,d=!1,c){this.store=i,this.currentLoader=s,this.compiler=n,this.parser=o,this.missingTranslationHandler=r,this.useDefaultLang=a,this.isolate=l,this.extend=d,c&&this.setDefaultLang(c)}setDefaultLang(i){if(i===this.defaultLang)return;let s=this.retrieveTranslations(i);typeof s<"u"?(this.defaultLang==null&&(this.defaultLang=i),s.pipe(la(1)).subscribe(n=>{this.changeDefaultLang(i)})):this.changeDefaultLang(i)}getDefaultLang(){return this.defaultLang}use(i){if(i===this.currentLang)return Hs(this.translations[i]);let s=this.retrieveTranslations(i);return typeof s<"u"?(this.currentLang||(this.currentLang=i),s.pipe(la(1)).subscribe(n=>{this.changeLang(i)}),s):(this.changeLang(i),Hs(this.translations[i]))}retrieveTranslations(i){let s;return(typeof this.translations[i]>"u"||this.extend)&&(this._translationRequests[i]=this._translationRequests[i]||this.getTranslation(i),s=this._translationRequests[i]),s}getTranslation(i){this.pending=!0;let s=this.currentLoader.getTranslation(i).pipe(wh(1),la(1));return this.loadingTranslations=s.pipe(Ch(n=>this.compiler.compileTranslations(n,i)),wh(1),la(1)),this.loadingTranslations.subscribe({next:n=>{this.translations[i]=this.extend&&this.translations[i]?N(N({},n),this.translations[i]):n,this.updateLangs(),this.pending=!1},error:n=>{this.pending=!1}}),s}setTranslation(i,s,n=!1){s=this.compiler.compileTranslations(s,i),(n||this.extend)&&this.translations[i]?this.translations[i]=pw(this.translations[i],s):this.translations[i]=s,this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}getLangs(){return this.langs}addLangs(i){i.forEach(s=>{this.langs.indexOf(s)===-1&&this.langs.push(s)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(i,s,n){let o;if(s instanceof Array){let r={},a=!1;for(let l of s)r[l]=this.getParsedResult(i,l,n),Xn(r[l])&&(a=!0);if(a){let l=s.map(d=>Xn(r[d])?r[d]:Hs(r[d]));return af(l).pipe(Ch(d=>{let c={};return d.forEach((h,u)=>{c[s[u]]=h}),c}))}return r}if(i&&(o=this.parser.interpolate(this.parser.getValue(i,s),n)),typeof o>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],s),n)),typeof o>"u"){let r={key:s,translateService:this};typeof n<"u"&&(r.interpolateParams=n),o=this.missingTranslationHandler.handle(r)}return typeof o<"u"?o:s}get(i,s){if(!Uo(i)||!i.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(df(n=>(n=this.getParsedResult(n,i,s),Xn(n)?n:Hs(n))));{let n=this.getParsedResult(this.translations[this.currentLang],i,s);return Xn(n)?n:Hs(n)}}getStreamOnTranslationChange(i,s){if(!Uo(i)||!i.length)throw new Error('Parameter "key" required');return yh(Sh(()=>this.get(i,s)),this.onTranslationChange.pipe(Eh(n=>{let o=this.getParsedResult(n.translations,i,s);return typeof o.subscribe=="function"?o:Hs(o)})))}stream(i,s){if(!Uo(i)||!i.length)throw new Error('Parameter "key" required');return yh(Sh(()=>this.get(i,s)),this.onLangChange.pipe(Eh(n=>{let o=this.getParsedResult(n.translations,i,s);return Xn(o)?o:Hs(o)})))}instant(i,s){if(!Uo(i)||!i.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],i,s);if(Xn(n)){if(i instanceof Array){let o={};return i.forEach((r,a)=>{o[i[a]]=i[a]}),o}return i}else return n}set(i,s,n=this.currentLang){this.translations[n][i]=this.compiler.compile(s,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(i){this.currentLang=i,this.onLangChange.emit({lang:i,translations:this.translations[i]}),this.defaultLang==null&&this.changeDefaultLang(i)}changeDefaultLang(i){this.defaultLang=i,this.onDefaultLangChange.emit({lang:i,translations:this.translations[i]})}reloadLang(i){return this.resetLang(i),this.getTranslation(i)}resetLang(i){this._translationRequests[i]=void 0,this.translations[i]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let i=window.navigator.languages?window.navigator.languages[0]:null;if(i=i||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof i>"u"))return i.indexOf("-")!==-1&&(i=i.split("-")[0]),i.indexOf("_")!==-1&&(i=i.split("_")[0]),i}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let i=window.navigator.languages?window.navigator.languages[0]:null;return i=i||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,i}static \u0275fac=function(s){return new(s||e)(re(hh),re(ea),re(ia),re(ta),re(Cl),re(Hm),re(Nm),re(Bm),re(Vm))};static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();var mw=(()=>{class e{static forRoot(i={}){return{ngModule:e,providers:[i.loader||{provide:ea,useClass:lw},i.compiler||{provide:ia,useClass:hw},i.parser||{provide:ta,useClass:cw},i.missingTranslationHandler||{provide:Cl,useClass:dw},hh,{provide:Nm,useValue:i.isolate},{provide:Hm,useValue:i.useDefaultLang},{provide:Bm,useValue:i.extend},{provide:Vm,useValue:i.defaultLanguage},uw]}}static forChild(i={}){return{ngModule:e,providers:[i.loader||{provide:ea,useClass:lw},i.compiler||{provide:ia,useClass:hw},i.parser||{provide:ta,useClass:cw},i.missingTranslationHandler||{provide:Cl,useClass:dw},{provide:Nm,useValue:i.isolate},{provide:Hm,useValue:i.useDefaultLang},{provide:Bm,useValue:i.extend},{provide:Vm,useValue:i.defaultLanguage},uw]}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=Hi({type:e});static \u0275inj=Ni({})}return e})();var Tk=(()=>{class e{vcr;constructor(i){this.vcr=i}createInteractiveAngularComponent(i,s,n,o){let r=this.vcr.createComponent(i,o);r?.instance&&n&&Object.assign(r.instance,n);let a=null,l=r.hostView;return l&&Array.isArray(l.rootNodes)&&l.rootNodes[0]&&(a=l.rootNodes[0],s&&a&&s.replaceChildren(r.location.nativeElement)),{componentRef:r,domElement:a}}createAngularComponent(i,s,n,o){let r=this.vcr.createComponent(i,o);r?.instance&&n&&(Object.assign(r.instance,n),r.changeDetectorRef.detectChanges());let a=null,l=r.hostView;return l&&Array.isArray(l.rootNodes)&&l.rootNodes[0]&&(a=l.rootNodes[0],s&&a&&(s.innerHTML=typeof o?.sanitizer=="function"?o.sanitizer(a.innerHTML||""):a.innerHTML)),{componentRef:r,domElement:a}}createAngularComponentAppendToDom(i,s,n,o){let r=this.createAngularComponent(i,s,n,o);return s?.replaceChildren?s.replaceChildren(r.domElement):document.body.appendChild(r.domElement),r}static \u0275fac=function(s){return new(s||e)(re(Rl))};static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})(),Ok=(()=>{class e{dependencies=[];get(i){let s=this.dependencies.find(n=>n.key===i);return s?.instance?s.instance:null}dispose(){this.dependencies=[]}registerInstance(i,s){this.dependencies.some(o=>o.key===i)||this.dependencies.push({key:i,instance:s})}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();var ane={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoResize:{applyResizeToContainer:!0,autoHeight:!0,autoHeightRecalcRow:100,calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:250,minWidth:300,rightPadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel"},columnPicker:{hideForceFitButton:!1,hideSyncResizeButton:!0,headerColumnValueExtractor:fw},cellMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideCommandSection:!1,hideOptionSection:!1},contextMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideClearAllGrouping:!1,hideCollapseAllGroups:!1,hideCommandSection:!1,hideCopyCellValueCommand:!1,hideExpandAllGroups:!1,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideMenuOnScroll:!0,hideOptionSection:!1,iconCollapseAllGroupsCommand:"mdi mdi-arrow-collapse",iconExpandAllGroupsCommand:"mdi mdi-arrow-expand",iconClearGroupingCommand:"mdi mdi-close",iconCopyCellValueCommand:"mdi mdi-content-copy",iconExportCsvCommand:"mdi mdi-download",iconExportExcelCommand:"mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"mdi mdi-download",showBulletWhenIconMissing:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},customFooterOptions:{dateFormat:"YYYY-MM-DD, hh:mm a",hideRowSelectionCount:!1,hideTotalItemCount:!1,hideLastUpdateTimestamp:!0,footerHeight:25,leftContainerClass:"col-xs-12 col-sm-5",rightContainerClass:"col-xs-6 col-sm-7",metricSeparator:"|",metricTexts:{items:"items",itemsKey:"ITEMS",itemsSelected:"items selected",itemsSelectedKey:"ITEMS_SELECTED",of:"of",ofKey:"OF"}},dataView:{syncGridSelection:{preserveHidden:!1,preserveHiddenOnSelectionChange:!0},syncGridSelectionWithBackendService:!1},datasetIdPropertyName:"id",defaultFilter:ch.input,defaultBackendServiceFilterTypingDebounce:500,defaultColumnSortFieldId:"id",defaultFilterPlaceholder:"\u{1F50E}\uFE0E",defaultFilterRangeOperator:j.rangeInclusive,editable:!1,enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableColumnResizeOnDoubleClick:!0,enableContextMenu:!0,enableExcelExport:!1,enableTextExport:!1,enableFilterTrimWhiteSpace:!1,enableGridMenu:!0,enableHeaderMenu:!0,enableEmptyDataWarningMessage:!0,emptyDataWarning:{className:"slick-empty-data-warning",message:"No data to display.",messageKey:"EMPTY_DATA_WARNING_MESSAGE",hideFrozenLeftWarning:!1,hideFrozenRightWarning:!1,leftViewportMarginLeft:"40%",rightViewportMarginLeft:"40%",frozenLeftViewportMarginLeft:"0px",frozenRightViewportMarginLeft:"40%"},enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,eventNamingStyle:No.camelCase,explicitInitialization:!0,excelExportOptions:{addGroupIndentation:!0,exportWithFormatter:!1,filename:"export",format:Zs.xlsx,groupingColumnHeaderTitle:"Group By",groupCollapsedSymbol:"\u2B9E",groupExpandedSymbol:"\u2B9F",groupingAggregatorRowText:"",sanitizeDataExport:!1},textExportOptions:{delimiter:Mo.comma,exportWithFormatter:!1,filename:"export",format:Zs.csv,groupingColumnHeaderTitle:"Group By",groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},filterTypingDebounce:0,forceFitColumns:!1,frozenHeaderWidthCalcDifferential:0,gridMenu:{dropSide:"left",commandLabels:{clearAllFiltersCommandKey:"CLEAR_ALL_FILTERS",clearAllSortingCommandKey:"CLEAR_ALL_SORTING",clearFrozenColumnsCommandKey:"CLEAR_PINNING",exportCsvCommandKey:"EXPORT_TO_CSV",exportExcelCommandKey:"EXPORT_TO_EXCEL",exportTextDelimitedCommandKey:"EXPORT_TO_TAB_DELIMITED",refreshDatasetCommandKey:"REFRESH_DATASET",toggleDarkModeCommandKey:"TOGGLE_DARK_MODE",toggleFilterCommandKey:"TOGGLE_FILTER_ROW",togglePreHeaderCommandKey:"TOGGLE_PRE_HEADER_ROW"},hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideClearFrozenColumnsCommand:!0,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleDarkModeCommand:!0,hideToggleFilterCommand:!1,hideTogglePreHeaderCommand:!1,iconCssClass:"mdi mdi-menu",iconClearAllFiltersCommand:"mdi mdi-filter-remove-outline",iconClearAllSortingCommand:"mdi mdi-sort-variant-off",iconClearFrozenColumnsCommand:"mdi mdi-pin-off-outline",iconExportCsvCommand:"mdi mdi-download",iconExportExcelCommand:"mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"mdi mdi-download",iconRefreshDatasetCommand:"mdi mdi-sync",iconToggleDarkModeCommand:"mdi mdi-brightness-4",iconToggleFilterCommand:"mdi mdi-flip-vertical",iconTogglePreHeaderCommand:"mdi mdi-flip-vertical",menuWidth:16,resizeOnShowHeaderRow:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270",headerColumnValueExtractor:fw},headerMenu:{autoAlign:!0,autoAlignOffset:12,minWidth:140,iconClearFilterCommand:"mdi mdi-filter-remove-outline",iconClearSortCommand:"mdi mdi-sort-variant-off",iconFreezeColumns:"mdi mdi-pin-outline",iconSortAscCommand:"mdi mdi-sort-ascending",iconSortDescCommand:"mdi mdi-sort-descending",iconColumnHideCommand:"mdi mdi-close",iconColumnResizeByContentCommand:"mdi mdi-arrow-expand-horizontal",hideColumnResizeByContentCommand:!1,hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideFreezeColumnsCommand:!0,hideSortCommands:!1,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},headerRowHeight:35,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!1,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},rowDetailView:{collapseAllOnSort:!0,cssClass:"detail-view-toggle",panelRows:1,keyPrefix:"__",useRowClick:!1,saveDetailViewOnScroll:!1},rowHeight:35,topPanelHeight:35,preHeaderPanelWidth:"100%",translationNamespaceSeparator:":",resetFilterSearchValueAfterOnBeforeCancellation:!0,resizeByContentOnlyOnFirstLoad:!0,resizeByContentOptions:{alwaysRecalculateColumnWidth:!1,cellCharWidthInPx:7.8,cellPaddingWidthInPx:14,defaultRatioForStringType:.88,formatterPaddingWidthInPx:0,maxItemToInspectCellContentWidth:1e3,maxItemToInspectSingleColumnWidthByContent:5e3,widthToRemoveFromExceededWidthReadjustment:50},treeDataOptions:{exportIndentMarginLeft:5,exportIndentationLeadingChar:"\u034F\u034F\u034F\u034F\u034F\u034F\u034F\u034F\u034F\xB7"}};function fw(e,t){let i=e?.columnPickerLabel??e?.name??"";(i instanceof HTMLElement||i instanceof DocumentFragment)&&(i=i.textContent||"");let s=e?.columnGroup||"",n=t?.columnGroupSeparator??" - ";return s?s+n+i:i}var gw=(()=>{class e{static forRoot(i={}){return{ngModule:e,providers:[{provide:"config",useValue:i},{provide:"externalService",useValue:null},Tk,Ok]}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=Hi({type:e});static \u0275inj=Ni({imports:[ke,mw]})}return e})();var _w=(()=>{class e{http;prefix;suffix;constructor(i,s="/assets/i18n/",n=".json"){this.http=i,this.prefix=s,this.suffix=n}getTranslation(i){return this.http.get(`${this.prefix}${i}${this.suffix}`)}static \u0275fac=function(s){return new(s||e)(re(ps),re(String),re(String))};static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();var bw={parse:{dateInput:"jYYYY/jMM/jDD"},display:{dateInput:"jYYYY/jMM/jDD",monthYearLabel:"jYYYY jMMMM",dateA11yLabel:"jYYYY/jMM/jDD",monthYearA11yLabel:"jYYYY jMMMM"}};var pi=Dw(Aw());function Mk(e,t){let i=Array(e);for(let s=0;s<e;s++)i[s]=t(s);return i}var uh=class extends Bl{constructor(){super(),super.setLocale("fa")}getYear(t){return this.clone(t).jYear()}getMonth(t){return this.clone(t).jMonth()}getDate(t){return this.clone(t).jDate()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){switch(t){case"long":case"short":return pi.default.localeData("fa").jMonths().slice(0);case"narrow":return pi.default.localeData("fa").jMonthsShort().slice(0)}}getDateNames(){return Mk(31,t=>String(t+1))}getDayOfWeekNames(t){switch(t){case"long":return pi.default.localeData("fa").weekdays().slice(0);case"short":return pi.default.localeData("fa").weekdaysShort().slice(0);case"narrow":return["\u06CC","\u062F","\u0633","\u0686","\u067E","\u062C","\u0634"]}}getYearName(t){return this.clone(t).jYear().toString()}getFirstDayOfWeek(){return pi.default.localeData("fa").firstDayOfWeek()}getNumDaysInMonth(t){return this.clone(t).jDaysInMonth()}clone(t){return t.clone().locale("fa")}createDate(t,i,s){if(i<0||i>11)throw Error(`Invalid month index "${i}". Month index has to be between 0 and 11.`);if(s<1)throw Error(`Invalid date "${s}". Date has to be greater than 0.`);let n=(0,pi.default)().jYear(t).jMonth(i).jDate(s).hours(0).minutes(0).seconds(0).milliseconds(0).locale("fa");if(this.getMonth(n)!==i)throw Error(`Invalid date ${s} for month with index ${i}.`);if(!n.isValid())throw Error(`Invalid date "${s}" for month with index "${i}".`);return n}today(){return(0,pi.default)().locale("fa")}parse(t,i){return t&&typeof t=="string"?(0,pi.default)(t,i,"fa"):t?(0,pi.default)(t).locale("fa"):null}format(t,i){if(t=this.clone(t),!this.isValid(t))throw Error("JalaliMomentDateAdapter: Cannot format invalid date.");return t.format(i)}addCalendarYears(t,i){return this.clone(t).add(i,"jYear")}addCalendarMonths(t,i){return this.clone(t).add(i,"jmonth")}addCalendarDays(t,i){return this.clone(t).add(i,"jDay")}toIso8601(t){return this.clone(t).format()}isDateInstance(t){return pi.default.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return pi.default.invalid()}deserialize(t){let i;if(t instanceof Date&&(i=(0,pi.default)(t)),typeof t=="string"){if(!t)return null;i=(0,pi.default)(t,pi.default.ISO_8601).locale("fa")}return i&&this.isValid(i)?i:super.deserialize(t)}};var vw=(()=>{let t=class t{constructor(s,n,o){this.router=s,this.snackBar=n,this.translate=o}intercept(s,n){return n.handle(s).pipe(cf({next:o=>{},error:o=>{if(o.status===401)console.log("Redirecting to login due to 401 error"),this.router.navigate(["/login"]),this.showErrorMessage(this.translate.instant("error.sessionExpiry"));else if(o.status===403)console.log("Redirecting to access denied due to 403 error"),this.router.navigate(["/access-denied"]),this.showErrorMessage(this.translate.instant("error.permission"));else if(o.status===500)if(o.error.toLowerCase().lastIndexOf("foreign key")>0)this.showErrorMessage(this.translate.instant("error.foreignKey"));else{let r=o.error;r=o.error.replace("An unexpected error occurred: ","");let a=this.translate.instant(r);a&&a!==r?this.showErrorMessage(a):this.showErrorMessage(this.translate.instant("error.serverError"))}else this.showErrorMessage(`Error ${o.status}: ${o.message}`);throw o}}))}showErrorMessage(s){this.snackBar.openFromComponent(dg,{data:{message:s,background:"rgb(224, 51, 51)"},duration:5e3,verticalPosition:"bottom",horizontalPosition:"center"})}};t.\u0275fac=function(n){return new(n||t)(re(Bi),re(ig),re(ot))},t.\u0275prov=ge({token:t,factory:t.\u0275fac});let e=t;return e})();var Cw=(()=>{let t=class t{intercept(s,n){let o=_t.getCompanyId();if(o){let r=s.clone({setHeaders:{"X-Company-ID":o}});return n.handle(r)}return n.handle(s)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac});let e=t;return e})();var yw=(()=>{let t=class t{constructor(){this.selected=""}agInit(s){this.params=s,this.field=s.colDef.field}isFilterActive(){return this.selected!==""}doesFilterPass(s){let n=s.node.data?s.node.data[this.field]:null;return this.selected==="true"?n===!0||n==="true":this.selected==="false"?!(n===!0||n==="true"):!0}getModel(){return this.isFilterActive()?{value:this.selected}:null}setModel(s){this.selected=s?s.value:""}onSelectionChange(){this.params.filterChangedCallback()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ae({type:t,selectors:[["app-boolean-filter"]],decls:13,vars:12,consts:[[1,"p-2"],[2,"display","block","margin-bottom","0.5rem"],["type","radio","name","boolFilter","value","",3,"ngModelChange","change","ngModel"],["type","radio","name","boolFilter","value","true",3,"ngModelChange","change","ngModel"],[2,"display","block"],["type","radio","name","boolFilter","value","false",3,"ngModelChange","change","ngModel"]],template:function(n,o){n&1&&(E(0,"div",0)(1,"label",1)(2,"input",2),kl("ngModelChange",function(a){return Pl(o.selected,a)||(o.selected=a),a}),te("change",function(){return o.onSelectionChange()}),M(),L(3),Te(4,"translate"),M(),E(5,"label",1)(6,"input",3),kl("ngModelChange",function(a){return Pl(o.selected,a)||(o.selected=a),a}),te("change",function(){return o.onSelectionChange()}),M(),L(7),Te(8,"translate"),M(),E(9,"label",4)(10,"input",5),kl("ngModelChange",function(a){return Pl(o.selected,a)||(o.selected=a),a}),te("change",function(){return o.onSelectionChange()}),M(),L(11),Te(12,"translate"),M()()),n&2&&(O(2),Al("ngModel",o.selected),O(),gt(" ",Oe(4,6,"columnDefBoolean.all")," "),O(3),Al("ngModel",o.selected),O(),gt(" ",Oe(8,8,"columnDefBoolean.true")," "),O(3),Al("ngModel",o.selected),O(),gt(" ",Oe(12,10,"columnDefBoolean.false")," "))},dependencies:[nt,fs,Df,vi,Rf,et,Si],encapsulation:2});let e=t;return e})();var Sw=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hi({type:t,bootstrap:[qg]}),t.\u0275inj=Ni({providers:[{provide:Ah,useClass:vw,multi:!0},{provide:Ah,useClass:Cw,multi:!0},{provide:Bl,useClass:uh,deps:[Vf]},{provide:Bf,useValue:bw},{provide:Th,useFactory:Qg,deps:[Vl,Bi,$s],multi:!0},ot,{provide:Th,useFactory:Rk,deps:[ot],multi:!0},sg(),un,$s,Xl,Zg()],imports:[yw,Fl,t_,nt,Je,Ze,At,It,Et,kf,Mt,wt,xt,Of,Kg,Ef,ct,Rt,ke,nt,Se,lt,Ie,Le,Dt,Ot,Pt,dt,yt,hg,Ct,WC,ht,gw.forRoot({enableAutoResize:!0,autoResize:{container:"#demo-container",rightPadding:10},sanitizer:s=>Ig.sanitize(s,{ADD_ATTR:["level"],RETURN_TRUSTED_TYPE:!0})}),et.forRoot({loader:{provide:ng,useFactory:Ik,deps:[ps]}})]});let e=t;return e})();function Ik(e){return new _w(e,"./assets/i18n/",".json")}function Rk(e){return()=>(e.setDefaultLang("en"),e.use("en").toPromise())}xf.registerModules([Tf]);wf().bootstrapModule(Sw).catch(e=>console.error(e));
